<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.13">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Martin Laptev">
<meta name="description" content="Introducing the Dec calendar (Decalendar), which displays dates in years and days using math notation without the need for months or weeks.">

<title>Martin Laptev</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../dec/time/index.html" rel="next">
<link href="../../dec/index.html" rel="prev">
<link href="../../asset/deidek.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2adc583dd4970bf956aa8f8d8cba74a4.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-fbcdefa0ccbc72d004c4082f96ee72e6.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-3fae2ad4e5f8877edc02c82f7439918a.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-059cccde5f44940d849caedb47b1ecc8.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "/",
    "?",
    "h",
    "f",
    "s"
  ],
  "show-item-context": true,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="../../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<meta name="mermaid-theme" content="default">
<script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../asset/style.css">
<meta name="twitter:title" content="Martin Laptev">
<meta name="twitter:description" content="Introducing the Dec calendar (Decalendar), which displays dates in years and days using math notation without the need for months or weeks.">
<meta name="twitter:image" content="https://maptv.github.io/asset/cal16.svg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../asset/deidek.svg" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Martin Laptev</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <h1 class="quarto-secondary-nav-title no-breadcrumbs">Dec Date</h1>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="sidebar-tools-main tools-wide">
    <a href="https://www.github.com/maptv" title="" class="quarto-navigation-tool px-1" aria-label="" target="_blank"><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/maptv" title="" class="quarto-navigation-tool px-1" aria-label="" target="_blank"><i class="bi bi-linkedin"></i></a>
    <a href="mailto:maptv@engineer.com" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-envelope-at"></i></a>
    <div id="quarto-search" class="quarto-navigation-tool px-1" title="Search"></div>
</div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-house-door" role="img">
</i> 
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../about/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-info-circle" role="img">
</i> 
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../cv/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-earmark-person" role="img">
</i> 
 <span class="menu-text">CV/Résumé</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../list/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-grid-3x3-gap" role="img">
</i> 
 <span class="menu-text">Article List</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../dec/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-arrow-repeat" role="img">
</i> 
 <span class="menu-text">Dec</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dec/date/index.html" class="sidebar-item-text sidebar-link active"><i class="bi bi-calendar-date" role="img">
</i> 
 <span class="menu-text">Date</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dec/time/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-clock" role="img">
</i> 
 <span class="menu-text">Time</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dec/iso/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-globe" role="img">
</i> 
 <span class="menu-text">ISO 8601</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dec/snap/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-postage" role="img">
</i> 
 <span class="menu-text">Snap</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../dec/span/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-calendar-range" role="img">
</i> 
 <span class="menu-text">Span</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true"><i class="bi bi-hourglass-split" role="img">
</i> 
 <span class="menu-text">History</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../history/ww2/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-2-square" role="img">
</i> 
 <span class="menu-text">World War 2</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true"><i class="bi bi-robot" role="img">
</i> 
 <span class="menu-text">Machine Learning</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../ml/prob/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-dice-5" role="img">
</i> 
 <span class="menu-text">Probablity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../ml/llm/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-translate" role="img">
</i> 
 <span class="menu-text">Language Models</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true"><i class="bi bi-laptop" role="img">
</i> 
 <span class="menu-text">Software</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../software/git/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-git" role="img">
</i> 
 <span class="menu-text">Git</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../software/positron/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-p-square" role="img">
</i> 
 <span class="menu-text">Positron</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../software/jupyter/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-journal-richtext" role="img">
</i> 
 <span class="menu-text">Jupyter</span></a>
  </div>
</li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../quarto/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-markdown" role="img">
</i> 
 <span class="menu-text">Quarto</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../quarto/filter/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-funnel" role="img">
</i> 
 <span class="menu-text">Filter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../quarto/script/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-code" role="img">
</i> 
 <span class="menu-text">Script</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../quarto/include/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-earmark-plus" role="img">
</i> 
 <span class="menu-text">Include</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../software/observable/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-0-circle" role="img">
</i> 
 <span class="menu-text">Observable</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#doy" id="toc-doy" class="nav-link active" data-scroll-target="#doy">Day of year (doy)</a></li>
  <li><a href="#doe" id="toc-doe" class="nav-link" data-scroll-target="#doe">Day of era (doe)</a></li>
  <li><a href="#yoe" id="toc-yoe" class="nav-link" data-scroll-target="#yoe">Year of era (yoe)</a></li>
  <li><a href="#dow" id="toc-dow" class="nav-link" data-scroll-target="#dow">Day of week (dow)</a></li>
  <li><a href="#dod" id="toc-dod" class="nav-link" data-scroll-target="#dod">Day of dek (dod)</a></li>
  <li><a href="#dom" id="toc-dom" class="nav-link" data-scroll-target="#dom">Day of month (dom)</a></li>
  <li><a href="#tod" id="toc-tod" class="nav-link" data-scroll-target="#tod">Time of day (tod)</a></li>
  <li><a href="#next" id="toc-next" class="nav-link" data-scroll-target="#next">Next</a></li>
  <li><a href="#cite" id="toc-cite" class="nav-link" data-scroll-target="#cite">Cite</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/maptv/maptv.github.io/blob/main/dec/date/index.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.md"><i class="bi bi-file-code"></i>CommonMark</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title d-none d-lg-block">Dec Date</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>

<div>
  <div class="description">
    <p>Introducing the Dec calendar (Decalendar), which displays dates in years and days using math notation without the need for months or weeks.</p>
  </div>
</div>


<div class="quarto-title-meta column-body">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p><a href="https://maptv.github.io">Martin Laptev</a> </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">2024+336</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div id="navchart">
<div>
<pre class="mermaid mermaid-js" data-label="navchart">%%{init: {'theme': 'default', 'themeVariables': { 'fontSize': '24px'}}}%%
flowchart LR
   A[Dec]--&gt;B[date]--&gt;C[time]--&gt;D[iso]--&gt;E[snap]--&gt;F[span]
   click A "/dec"
   click B "/dec/date"
   click C "/dec/time"
   click D "/dec/iso"
   click E "/dec/snap"
   click F "/dec/span"
</pre>
</div>
</div>
</div>
</div>
<p>My website serves as a demonstration of both the <a href="https://quarto.org">Quarto</a> publishing📤system and the <a href="../../dec">Dec</a> measurement📐system. I use several clever hacks to get Quarto to display all of the dates on my website in the Dec <span class="yellow">year</span>+<span class="cyan">day</span> format. Knowing the basics of the Dec calendar🗓️(Decalendar) will help you to understand the articles on <a href="https://quarto.org/docs/extensions/filters.html">filter</a>, <a href="https://quarto.org/docs/projects/scripts.html">script</a>, and <a href="https://quarto.org/docs/output-formats/html-basics.html#includes">include</a> files in the <a href="../../quarto">Quarto section</a> of my site.</p>
<p>Among its many features, Quarto offers support for the <a href="https://observablehq.com/">Observable</a> data analysis and visualization system. Observable is my top choice for interactive graphics. We can interact with the two Observable <a href="https://observablehq.com/@observablehq/plot-calendar">calendar🗓️plots</a> below using the adjacent Observable <a href="https://observablehq.com/documentation/inputs/overview">inputs</a>. The <a href="https://observablehq.com/@mbostock/scrubber">scrubber</a>🧽input is a great place to start because it cycles🔄through every value of the <a href="https://observablehq.com/@observablehq/input-range">range</a>🎚️inputs beneath it.</p>
<p>To activate the scrubber🧽input, press the Play▶️button above the range🎚️inputs. Upon activation, the red🟥box in each plot will move between the first and the last day of the Dec year. While it always begins with <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>Day 0</u></span>, the Dec year ends with either <span class="tool" data-bs-toggle="tooltip" data-bs-title="February 28"><u>Day 364</u></span> or <span class="tool" data-bs-toggle="tooltip" data-bs-title="February 29"><u>Day 365</u></span>. To add or remove <span class="tool" data-bs-toggle="tooltip" data-bs-title="February 29"><u>Day 365</u></span>, use the <a href="https://observablehq.com/@observablehq/input-toggle">toggle</a>✅input labelled🏷️“Leap year” to the right of the Play▶️button.</p>
<p>The “Leap year” toggle✅input shifts 306 dates, <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>Day 0</u></span> to <span class="tool" data-bs-toggle="tooltip" data-bs-title="December 31"><u>Day 305</u></span>, in the Gregorian calendar🗓️by one day, but does not change the order of any Dec dates, because <span class="tool" data-bs-toggle="tooltip" data-bs-title="February 29"><u>Day 365</u></span> is the last day of Dec leap years and is always followed by <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>Day 0</u></span> of the subsequent Dec year. The “Vertical layout” toggle✅input rotates the plots by a quarter turn, interchanging the x- and y-axes.</p>
<p>The axis labels🏷️of the plots imply that a dek and a day-of-dek (<span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span>) are analogous to a week and a day-of-week (<span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span>). Indeed, deks are groups of ten days that serve as the Dec analog of both weeks and months. With the exception of <span class="tool" data-bs-toggle="tooltip" data-bs-title="February 29"><u>Day 365</u></span> in leap years, every year has the same deks and months, but not the same weeks, because the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> of the first day of the year varies.</p>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="58" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 57;"><span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>viewof leapscrub <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">form</span>([</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Scrubber</span>(numbers<span class="op">,</span> {<span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span> <span class="dt">alternate</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="dt">delay</span><span class="op">:</span> <span class="fl">86.4</span><span class="op">,</span> <span class="dt">loopDelay</span><span class="op">:</span> <span class="dv">864</span><span class="op">,</span> <span class="dt">format</span><span class="op">:</span> y <span class="kw">=&gt;</span> <span class="st">""</span><span class="op">,</span> <span class="dt">inputStyle</span><span class="op">:</span> <span class="st">"display:none;"</span>})<span class="op">,</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">toggle</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Leap year"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="kw">false</span>})<span class="op">,</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">toggle</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Vertical layout"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="kw">false</span>})<span class="op">,</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="68" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 67;"><span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>viewof dotyInput <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">364</span> <span class="op">+</span> leapInput]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="dv">306</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Day of year"</span>})<span class="op">;</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>viewof monthInput <span class="op">=</span> <span class="fu">transformInput</span>(</span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">12</span>]<span class="op">,</span> {<span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Month"</span>})<span class="op">,</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">bind</span><span class="op">:</span> viewof dotyInput<span class="op">,</span> <span class="dt">transform</span><span class="op">:</span> doty2month<span class="op">,</span> <span class="dt">invert</span><span class="op">:</span> month2doty}</span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a>viewof dotyInput1 <span class="op">=</span> <span class="fu">transformInput</span>(</span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">range</span>([<span class="op">-</span><span class="dv">365</span> <span class="op">-</span> leapInput<span class="op">,</span> <span class="op">-</span><span class="dv">1</span>]<span class="op">,</span> {<span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Day of year"</span>})<span class="op">,</span></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">bind</span><span class="op">:</span> viewof dotyInput<span class="op">,</span> <span class="dt">transform</span><span class="op">:</span> subN<span class="op">,</span> <span class="dt">invert</span><span class="op">:</span> addN}</span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a>viewof dotmInput <span class="op">=</span> <span class="fu">transformInput</span>(</span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">31</span>]<span class="op">,</span> {<span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Day of month"</span>})<span class="op">,</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">bind</span><span class="op">:</span> viewof dotyInput<span class="op">,</span> <span class="dt">transform</span><span class="op">:</span> doty2dotm<span class="op">,</span> <span class="dt">invert</span><span class="op">:</span> (x <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(( <span class="dv">153</span> <span class="op">*</span> (</span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>    viewof monthInput<span class="op">.</span><span class="at">value</span> <span class="op">&gt;</span> <span class="dv">2</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a>    <span class="op">?</span> viewof monthInput<span class="op">.</span><span class="at">value</span> <span class="op">-</span> <span class="dv">3</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>    <span class="op">:</span> viewof monthInput<span class="op">.</span><span class="at">value</span> <span class="op">+</span> <span class="dv">9</span>) <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>  ) <span class="op">/</span> <span class="dv">5</span> <span class="op">+</span> x <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>))})<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-4" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="column-page">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="89" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 88;"><span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a>decPlot <span class="op">=</span> turnInput <span class="op">?</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Decalendar"</span><span class="op">,</span></span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a>  <span class="dt">padding</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">480</span><span class="op">,</span></span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">980</span><span class="op">,</span></span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a>  <span class="dt">className</span><span class="op">:</span> <span class="st">"calplot"</span><span class="op">,</span></span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="op">-</span><span class="dv">3</span><span class="op">,</span></span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginRight</span><span class="op">:</span> <span class="dv">31</span><span class="op">,</span></span>
<span id="cb3-97"><a href="#cb3-97" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span></span>
<span id="cb3-98"><a href="#cb3-98" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb3-99"><a href="#cb3-99" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Day of dek    "</span><span class="op">,</span></span>
<span id="cb3-100"><a href="#cb3-100" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">9</span>]<span class="op">,</span></span>
<span id="cb3-101"><a href="#cb3-101" aria-hidden="true" tabindex="-1"></a>      <span class="dt">ticks</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">9</span>]<span class="op">,</span></span>
<span id="cb3-102"><a href="#cb3-102" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tickPadding</span><span class="op">:</span> <span class="op">-</span><span class="dv">9</span><span class="op">,</span></span>
<span id="cb3-103"><a href="#cb3-103" aria-hidden="true" tabindex="-1"></a>      <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">24</span><span class="op">,</span></span>
<span id="cb3-104"><a href="#cb3-104" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb3-105"><a href="#cb3-105" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">interval</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">ticks</span><span class="op">:</span> <span class="dv">18</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Dek"</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">"band"</span><span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">tickPadding</span><span class="op">:</span> <span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">40</span><span class="op">,</span> <span class="dt">labelArrow</span><span class="op">:</span> <span class="kw">false</span>}<span class="op">,</span></span>
<span id="cb3-106"><a href="#cb3-106" aria-hidden="true" tabindex="-1"></a>  <span class="co">//fx: {tickFormat: ""},</span></span>
<span id="cb3-107"><a href="#cb3-107" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> { <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"21px"</span> }<span class="op">,</span></span>
<span id="cb3-108"><a href="#cb3-108" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb3-109"><a href="#cb3-109" aria-hidden="true" tabindex="-1"></a>    <span class="dt">range</span><span class="op">:</span> d3<span class="op">.</span><span class="at">schemePastel1</span><span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemePastel2</span><span class="op">.</span><span class="fu">slice</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">7</span>))<span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemeSet1</span>[<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb3-110"><a href="#cb3-110" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> months<span class="op">.</span><span class="fu">concat</span>(<span class="st">"selected"</span>)<span class="op">,</span></span>
<span id="cb3-111"><a href="#cb3-111" aria-hidden="true" tabindex="-1"></a>    <span class="dt">className</span><span class="op">:</span> <span class="st">"cal"</span><span class="op">,</span></span>
<span id="cb3-112"><a href="#cb3-112" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb3-113"><a href="#cb3-113" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb3-114"><a href="#cb3-114" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">cell</span>(dates<span class="op">,</span> {</span>
<span id="cb3-115"><a href="#cb3-115" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb3-116"><a href="#cb3-116" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">%</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb3-117"><a href="#cb3-117" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb3-118"><a href="#cb3-118" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"selected"</span> <span class="op">:</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">,</span></span>
<span id="cb3-119"><a href="#cb3-119" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"darkorange"</span> <span class="op">:</span> <span class="st">"none"</span><span class="op">,</span></span>
<span id="cb3-120"><a href="#cb3-120" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb3-121"><a href="#cb3-121" aria-hidden="true" tabindex="-1"></a>      <span class="dt">inset</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb3-122"><a href="#cb3-122" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb3-123"><a href="#cb3-123" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(dates<span class="op">,</span> {</span>
<span id="cb3-124"><a href="#cb3-124" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb3-125"><a href="#cb3-125" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>() <span class="op">===</span> <span class="dv">11</span> <span class="op">?</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">3</span>) <span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb3-126"><a href="#cb3-126" aria-hidden="true" tabindex="-1"></a>      <span class="dt">frameAnchor</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span></span>
<span id="cb3-127"><a href="#cb3-127" aria-hidden="true" tabindex="-1"></a>      <span class="dt">dx</span><span class="op">:</span> <span class="dv">32</span><span class="op">,</span></span>
<span id="cb3-128"><a href="#cb3-128" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb3-129"><a href="#cb3-129" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"18px"</span>})<span class="op">,</span></span>
<span id="cb3-130"><a href="#cb3-130" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(dates<span class="op">,</span> {</span>
<span id="cb3-131"><a href="#cb3-131" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb3-132"><a href="#cb3-132" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">%</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb3-133"><a href="#cb3-133" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb3-134"><a href="#cb3-134" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"white"</span> <span class="op">:</span> <span class="st">"black"</span><span class="op">,</span></span>
<span id="cb3-135"><a href="#cb3-135" aria-hidden="true" tabindex="-1"></a>      <span class="co">//stroke: "white",</span></span>
<span id="cb3-136"><a href="#cb3-136" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">String</span>(i)<span class="op">,</span><span class="co">//.padStart(3, "0").slice(1),</span></span>
<span id="cb3-137"><a href="#cb3-137" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb3-138"><a href="#cb3-138" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"16px"</span>})</span>
<span id="cb3-139"><a href="#cb3-139" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb3-140"><a href="#cb3-140" aria-hidden="true" tabindex="-1"></a>  }) <span class="op">:</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb3-141"><a href="#cb3-141" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Decalendar"</span><span class="op">,</span></span>
<span id="cb3-142"><a href="#cb3-142" aria-hidden="true" tabindex="-1"></a>  <span class="dt">padding</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb3-143"><a href="#cb3-143" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">1280</span><span class="op">,</span></span>
<span id="cb3-144"><a href="#cb3-144" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">280</span><span class="op">,</span></span>
<span id="cb3-145"><a href="#cb3-145" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="op">-</span><span class="dv">3</span><span class="op">,</span></span>
<span id="cb3-146"><a href="#cb3-146" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginLeft</span><span class="op">:</span> <span class="dv">31</span><span class="op">,</span></span>
<span id="cb3-147"><a href="#cb3-147" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span></span>
<span id="cb3-148"><a href="#cb3-148" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb3-149"><a href="#cb3-149" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Day of dek    "</span><span class="op">,</span></span>
<span id="cb3-150"><a href="#cb3-150" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">9</span>]<span class="op">,</span></span>
<span id="cb3-151"><a href="#cb3-151" aria-hidden="true" tabindex="-1"></a>      <span class="dt">ticks</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">9</span>]<span class="op">,</span></span>
<span id="cb3-152"><a href="#cb3-152" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tickPadding</span><span class="op">:</span> <span class="op">-</span><span class="dv">4</span><span class="op">,</span></span>
<span id="cb3-153"><a href="#cb3-153" aria-hidden="true" tabindex="-1"></a>      <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">28</span><span class="op">,</span></span>
<span id="cb3-154"><a href="#cb3-154" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb3-155"><a href="#cb3-155" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">interval</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">ticks</span><span class="op">:</span> <span class="dv">18</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Dek"</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">"band"</span><span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">tickPadding</span><span class="op">:</span> <span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">32</span><span class="op">,</span> <span class="dt">labelArrow</span><span class="op">:</span> <span class="kw">false</span>}<span class="op">,</span></span>
<span id="cb3-156"><a href="#cb3-156" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> { <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"21px"</span> }<span class="op">,</span></span>
<span id="cb3-157"><a href="#cb3-157" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb3-158"><a href="#cb3-158" aria-hidden="true" tabindex="-1"></a>    <span class="dt">range</span><span class="op">:</span> d3<span class="op">.</span><span class="at">schemePastel1</span><span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemePastel2</span><span class="op">.</span><span class="fu">slice</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">7</span>))<span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemeSet1</span>[<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb3-159"><a href="#cb3-159" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> months<span class="op">.</span><span class="fu">concat</span>(<span class="st">"selected"</span>)<span class="op">,</span></span>
<span id="cb3-160"><a href="#cb3-160" aria-hidden="true" tabindex="-1"></a>    <span class="dt">className</span><span class="op">:</span> <span class="st">"cal"</span><span class="op">,</span></span>
<span id="cb3-161"><a href="#cb3-161" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb3-162"><a href="#cb3-162" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb3-163"><a href="#cb3-163" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">cell</span>(dates<span class="op">,</span> {</span>
<span id="cb3-164"><a href="#cb3-164" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb3-165"><a href="#cb3-165" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">%</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb3-166"><a href="#cb3-166" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb3-167"><a href="#cb3-167" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"selected"</span> <span class="op">:</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">,</span></span>
<span id="cb3-168"><a href="#cb3-168" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"darkorange"</span> <span class="op">:</span> <span class="st">"none"</span><span class="op">,</span></span>
<span id="cb3-169"><a href="#cb3-169" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb3-170"><a href="#cb3-170" aria-hidden="true" tabindex="-1"></a>      <span class="dt">inset</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb3-171"><a href="#cb3-171" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb3-172"><a href="#cb3-172" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(dates<span class="op">,</span> {</span>
<span id="cb3-173"><a href="#cb3-173" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb3-174"><a href="#cb3-174" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">%</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb3-175"><a href="#cb3-175" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb3-176"><a href="#cb3-176" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>() <span class="op">===</span> <span class="dv">11</span> <span class="op">?</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">3</span>) <span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb3-177"><a href="#cb3-177" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span></span>
<span id="cb3-178"><a href="#cb3-178" aria-hidden="true" tabindex="-1"></a>      <span class="dt">frameAnchor</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span></span>
<span id="cb3-179"><a href="#cb3-179" aria-hidden="true" tabindex="-1"></a>      <span class="dt">dy</span><span class="op">:</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span></span>
<span id="cb3-180"><a href="#cb3-180" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb3-181"><a href="#cb3-181" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"18px"</span>})<span class="op">,</span></span>
<span id="cb3-182"><a href="#cb3-182" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(dates<span class="op">,</span> {</span>
<span id="cb3-183"><a href="#cb3-183" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb3-184"><a href="#cb3-184" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">%</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb3-185"><a href="#cb3-185" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb3-186"><a href="#cb3-186" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"white"</span> <span class="op">:</span> <span class="st">"black"</span><span class="op">,</span></span>
<span id="cb3-187"><a href="#cb3-187" aria-hidden="true" tabindex="-1"></a>      <span class="co">//stroke: "white",</span></span>
<span id="cb3-188"><a href="#cb3-188" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">String</span>(i)<span class="op">,</span><span class="co">//.padStart(3, "0").slice(1),</span></span>
<span id="cb3-189"><a href="#cb3-189" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb3-190"><a href="#cb3-190" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"16px"</span>})</span>
<span id="cb3-191"><a href="#cb3-191" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb3-192"><a href="#cb3-192" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="197" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 196;"><span id="cb4-197"><a href="#cb4-197" aria-hidden="true" tabindex="-1"></a>calPlot <span class="op">=</span> turnInput <span class="op">?</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb4-198"><a href="#cb4-198" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Gregorian calendar"</span><span class="op">,</span></span>
<span id="cb4-199"><a href="#cb4-199" aria-hidden="true" tabindex="-1"></a>  <span class="dt">padding</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb4-200"><a href="#cb4-200" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">280</span><span class="op">,</span></span>
<span id="cb4-201"><a href="#cb4-201" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">980</span><span class="op">,</span></span>
<span id="cb4-202"><a href="#cb4-202" aria-hidden="true" tabindex="-1"></a>  <span class="dt">className</span><span class="op">:</span> <span class="st">"calplot"</span><span class="op">,</span></span>
<span id="cb4-203"><a href="#cb4-203" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb4-204"><a href="#cb4-204" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span></span>
<span id="cb4-205"><a href="#cb4-205" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginRight</span><span class="op">:</span> <span class="dv">42</span><span class="op">,</span></span>
<span id="cb4-206"><a href="#cb4-206" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">tickFormat</span><span class="op">:</span> Plot<span class="op">.</span><span class="fu">formatWeekday</span>(<span class="st">"en"</span><span class="op">,</span> <span class="st">"narrow"</span>)<span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb4-207"><a href="#cb4-207" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span></span>
<span id="cb4-208"><a href="#cb4-208" aria-hidden="true" tabindex="-1"></a>      <span class="dt">ticks</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span></span>
<span id="cb4-209"><a href="#cb4-209" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tickPadding</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb4-210"><a href="#cb4-210" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb4-211"><a href="#cb4-211" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">interval</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">ticks</span><span class="op">:</span> <span class="dv">26</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Week"</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">"band"</span><span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">tickPadding</span><span class="op">:</span> <span class="op">-</span><span class="dv">26</span><span class="op">,</span> <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">16</span><span class="op">,</span> <span class="dt">labelArrow</span><span class="op">:</span> <span class="kw">false</span>}<span class="op">,</span></span>
<span id="cb4-212"><a href="#cb4-212" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> { <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"21px"</span> }<span class="op">,</span></span>
<span id="cb4-213"><a href="#cb4-213" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb4-214"><a href="#cb4-214" aria-hidden="true" tabindex="-1"></a>    <span class="dt">range</span><span class="op">:</span> d3<span class="op">.</span><span class="at">schemePastel1</span><span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemePastel2</span><span class="op">.</span><span class="fu">slice</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">7</span>))<span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemeSet1</span>[<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb4-215"><a href="#cb4-215" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> months<span class="op">.</span><span class="fu">concat</span>(<span class="st">"selected"</span>)<span class="op">,</span></span>
<span id="cb4-216"><a href="#cb4-216" aria-hidden="true" tabindex="-1"></a>    <span class="dt">className</span><span class="op">:</span> <span class="st">"cal"</span><span class="op">,</span></span>
<span id="cb4-217"><a href="#cb4-217" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb4-218"><a href="#cb4-218" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb4-219"><a href="#cb4-219" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">cell</span>(datesCal<span class="op">,</span> {</span>
<span id="cb4-220"><a href="#cb4-220" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb4-221"><a href="#cb4-221" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDay</span>()<span class="op">,</span></span>
<span id="cb4-222"><a href="#cb4-222" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"selected"</span> <span class="op">:</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">,</span></span>
<span id="cb4-223"><a href="#cb4-223" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"darkorange"</span> <span class="op">:</span> <span class="st">"none"</span><span class="op">,</span></span>
<span id="cb4-224"><a href="#cb4-224" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb4-225"><a href="#cb4-225" aria-hidden="true" tabindex="-1"></a>      <span class="dt">inset</span><span class="op">:</span> <span class="op">.</span><span class="dv">5</span><span class="op">,</span></span>
<span id="cb4-226"><a href="#cb4-226" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb4-227"><a href="#cb4-227" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(datesCal<span class="op">,</span> {</span>
<span id="cb4-228"><a href="#cb4-228" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb4-229"><a href="#cb4-229" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>() <span class="op">===</span> <span class="dv">9</span> <span class="op">?</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">3</span>) <span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb4-230"><a href="#cb4-230" aria-hidden="true" tabindex="-1"></a>      <span class="dt">frameAnchor</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span></span>
<span id="cb4-231"><a href="#cb4-231" aria-hidden="true" tabindex="-1"></a>      <span class="dt">dx</span><span class="op">:</span> <span class="dv">32</span><span class="op">,</span></span>
<span id="cb4-232"><a href="#cb4-232" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-233"><a href="#cb4-233" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"18px"</span>})<span class="op">,</span></span>
<span id="cb4-234"><a href="#cb4-234" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(datesCal<span class="op">,</span> {</span>
<span id="cb4-235"><a href="#cb4-235" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb4-236"><a href="#cb4-236" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDay</span>()<span class="op">,</span></span>
<span id="cb4-237"><a href="#cb4-237" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"white"</span> <span class="op">:</span> <span class="st">"black"</span><span class="op">,</span></span>
<span id="cb4-238"><a href="#cb4-238" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>()<span class="op">,</span> <span class="co">//Math.floor(unix2doty(d.getTime())).toString().padStart(3, "0"),</span></span>
<span id="cb4-239"><a href="#cb4-239" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-240"><a href="#cb4-240" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"16px"</span>})</span>
<span id="cb4-241"><a href="#cb4-241" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb4-242"><a href="#cb4-242" aria-hidden="true" tabindex="-1"></a>}) <span class="op">:</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb4-243"><a href="#cb4-243" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Gregorian calendar"</span><span class="op">,</span></span>
<span id="cb4-244"><a href="#cb4-244" aria-hidden="true" tabindex="-1"></a>  <span class="dt">padding</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb4-245"><a href="#cb4-245" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">1280</span><span class="op">,</span></span>
<span id="cb4-246"><a href="#cb4-246" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span></span>
<span id="cb4-247"><a href="#cb4-247" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb4-248"><a href="#cb4-248" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">40</span><span class="op">,</span></span>
<span id="cb4-249"><a href="#cb4-249" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginLeft</span><span class="op">:</span> <span class="dv">42</span><span class="op">,</span></span>
<span id="cb4-250"><a href="#cb4-250" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">tickFormat</span><span class="op">:</span> Plot<span class="op">.</span><span class="fu">formatWeekday</span>(<span class="st">"en"</span><span class="op">,</span> <span class="st">"short"</span>)<span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb4-251"><a href="#cb4-251" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span></span>
<span id="cb4-252"><a href="#cb4-252" aria-hidden="true" tabindex="-1"></a>      <span class="dt">ticks</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span></span>
<span id="cb4-253"><a href="#cb4-253" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tickPadding</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb4-254"><a href="#cb4-254" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb4-255"><a href="#cb4-255" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">interval</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">ticks</span><span class="op">:</span> <span class="dv">26</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Week"</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">"band"</span><span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">tickPadding</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">36</span><span class="op">,</span> <span class="dt">labelArrow</span><span class="op">:</span> <span class="kw">false</span>}<span class="op">,</span></span>
<span id="cb4-256"><a href="#cb4-256" aria-hidden="true" tabindex="-1"></a>  <span class="co">//fx: {tickFormat: ""},</span></span>
<span id="cb4-257"><a href="#cb4-257" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> { <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"21px"</span> }<span class="op">,</span></span>
<span id="cb4-258"><a href="#cb4-258" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb4-259"><a href="#cb4-259" aria-hidden="true" tabindex="-1"></a>    <span class="dt">range</span><span class="op">:</span> d3<span class="op">.</span><span class="at">schemePastel1</span><span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemePastel2</span><span class="op">.</span><span class="fu">slice</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">7</span>))<span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemeSet1</span>[<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb4-260"><a href="#cb4-260" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> months<span class="op">.</span><span class="fu">concat</span>(<span class="st">"selected"</span>)<span class="op">,</span></span>
<span id="cb4-261"><a href="#cb4-261" aria-hidden="true" tabindex="-1"></a>    <span class="dt">className</span><span class="op">:</span> <span class="st">"cal"</span><span class="op">,</span></span>
<span id="cb4-262"><a href="#cb4-262" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb4-263"><a href="#cb4-263" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb4-264"><a href="#cb4-264" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">cell</span>(datesCal<span class="op">,</span> {</span>
<span id="cb4-265"><a href="#cb4-265" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb4-266"><a href="#cb4-266" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDay</span>()<span class="op">,</span></span>
<span id="cb4-267"><a href="#cb4-267" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb4-268"><a href="#cb4-268" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"selected"</span> <span class="op">:</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">,</span></span>
<span id="cb4-269"><a href="#cb4-269" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"darkorange"</span> <span class="op">:</span> <span class="st">"none"</span><span class="op">,</span></span>
<span id="cb4-270"><a href="#cb4-270" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb4-271"><a href="#cb4-271" aria-hidden="true" tabindex="-1"></a>      <span class="dt">inset</span><span class="op">:</span> <span class="op">.</span><span class="dv">5</span><span class="op">,</span></span>
<span id="cb4-272"><a href="#cb4-272" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb4-273"><a href="#cb4-273" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(datesCal<span class="op">,</span> {</span>
<span id="cb4-274"><a href="#cb4-274" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb4-275"><a href="#cb4-275" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDay</span>()<span class="op">,</span></span>
<span id="cb4-276"><a href="#cb4-276" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb4-277"><a href="#cb4-277" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>() <span class="op">===</span> <span class="dv">7</span> <span class="op">?</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">3</span>) <span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb4-278"><a href="#cb4-278" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span></span>
<span id="cb4-279"><a href="#cb4-279" aria-hidden="true" tabindex="-1"></a>      <span class="dt">frameAnchor</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span></span>
<span id="cb4-280"><a href="#cb4-280" aria-hidden="true" tabindex="-1"></a>      <span class="dt">dy</span><span class="op">:</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span></span>
<span id="cb4-281"><a href="#cb4-281" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-282"><a href="#cb4-282" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"18px"</span>})<span class="op">,</span></span>
<span id="cb4-283"><a href="#cb4-283" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(datesCal<span class="op">,</span> {</span>
<span id="cb4-284"><a href="#cb4-284" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb4-285"><a href="#cb4-285" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDay</span>()<span class="op">,</span></span>
<span id="cb4-286"><a href="#cb4-286" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb4-287"><a href="#cb4-287" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"white"</span> <span class="op">:</span> <span class="st">"black"</span><span class="op">,</span></span>
<span id="cb4-288"><a href="#cb4-288" aria-hidden="true" tabindex="-1"></a>      <span class="co">//stroke: "white",</span></span>
<span id="cb4-289"><a href="#cb4-289" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>()<span class="op">,</span> <span class="co">//Math.floor(unix2doty(d.getTime())).toString().padStart(3, "0"),</span></span>
<span id="cb4-290"><a href="#cb4-290" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-291"><a href="#cb4-291" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"16px"</span>})</span>
<span id="cb4-292"><a href="#cb4-292" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb4-293"><a href="#cb4-293" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<p><span class="radiotitle">First day of the Gregorian calendar year</span></p>
<div id="radiobuttons" class="cell">
<div class="sourceCode cell-code hidden" id="cb5" data-startfrom="302" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 301;"><span id="cb5-302"><a href="#cb5-302" aria-hidden="true" tabindex="-1"></a>viewof dotwInput <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>([</span>
<span id="cb5-303"><a href="#cb5-303" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Sunday"</span><span class="op">,</span> <span class="st">"Monday"</span><span class="op">,</span> <span class="st">"Tuesday"</span><span class="op">,</span> <span class="st">"Wednesday"</span><span class="op">,</span> <span class="st">"Thursday"</span><span class="op">,</span> <span class="st">"Friday"</span><span class="op">,</span> <span class="st">"Saturday"</span><span class="op">,</span></span>
<span id="cb5-304"><a href="#cb5-304" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="st">"Sunday"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-5" data-nodetype="declaration">

</div>
</div>
</div>
<p>The <a href="https://observablehq.com/@observablehq/input-radio">radio</a>🔘input beneath the plots selects the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> for <span class="under tool" data-bs-toggle="tooltip" data-bs-title="January 1">Day 306</span>, the first day of the Gregorian calendar🗓️year. Changing the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="January 1">Day 306</span> <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> shifts every date in the Gregorian calendar🗓️by one to six days depending on the number of days that Week 0, the first week of the year, contributes to the year. In contrast, weeks have no effect on Decalendar.</p>
<p>Although weeks determine the shape of the Gregorian calendar🗓️plot, each of its <a href="https://observablehq.com/plot/marks/cell">cell</a> values is a day-of-month (<span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-month">dom</span>). To uniquely identify🪪a specific day in a year, a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-month">dom</span> must be paired with the month to which it belongs. Both plots use three-letter abbreviations and the same <a href="https://observablehq.com/@d3/color-schemes">color🎨scheme</a> to label🏷️months, but are shifted in relation to each other by two months.</p>
<section id="doy" class="level4">
<h4 class="anchored" data-anchor-id="doy">Day of year (doy)</h4>
<p>A dek and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span> can be combined into a single number called a day-of-year (<span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>). Every cell value in the Decalendar plot is a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>. The <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> chosen by the range🎚️inputs to be highlighted with a red🟥background in the plots is <span class="cyan"><span><span id="ojs-element-id-1"></span></span></span>. You can use the range🎚️inputs to convert a month and a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-month">dom</span> into a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>. Try converting a special date such as your birthday🎂 or anniversary💍!</p>
<p>There are two range🎚️inputs labeled as “day of year” because every <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> can be expressed as both a positive and a negative number. The typical range for <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-year">doys</span> is 0 to <span class="orange">n</span>-1, but negative <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-year">doys</span> typically range from -<span class="orange">n</span> to -1, where <span class="orange">n</span> is the number of days in the year, either 365 or 366. A <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> outside these <a href="https://en.wikipedia.org/wiki/Upper_and_lower_bounds#:~:text=an%20upper%20bound%20or%20majorant%5B1%5D%20of%20a%20subset%20S%20of%20some%20preordered%20set%20(K%2C%20%E2%89%A4)%20is%20an%20element%20of%20K%20that%20is%20greater%20than%20or%20equal%20to%20every%20element%20of%20S.%5B2%5D%5B3%5D%20Dually%2C%20a%20lower%20bound%20or%20minorant%20of%20S%20is%20defined%20to%20be%20an%20element%20of%20K%20that%20is%20less%20than%20or%20equal%20to%20every%20element%20of%20S">bounds</a> represents a day in a previous or subsequent year.</p>
<p>The current <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> can be expressed as <span class="cyan"><span><span id="ojs-element-id-2"></span></span></span> or -<span class="pink"><span><span id="ojs-element-id-3"></span></span></span>. The difference between any positive <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> and its negative equivalent is <span class="orange">n</span>: <span class="cyan"><span><span id="ojs-element-id-4"></span></span></span> – -<span class="pink"><span><span id="ojs-element-id-5"></span></span></span> = <span class="orange"><span><span id="ojs-element-id-6"></span></span></span>. We obtain the current dek via the dek equation, <span class="cyan"><span><span id="ojs-element-id-7"></span></span></span> = ⌊<span class="cyan"><span><span id="ojs-element-id-8"></span></span></span> ÷ 10⌋, and the current <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span> number via the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span> equation: <span class="cyan"><span><span id="ojs-element-id-9"></span></span></span> = <span class="cyan"><span><span id="ojs-element-id-10"></span></span></span> <a href="https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder">mod</a> 10. To combine a dek and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span>, we multiply the dek by ten and add the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span>: <span class="cyan"><span><span id="ojs-element-id-11"></span></span></span> = <span class="cyan"><span><span id="ojs-element-id-12"></span></span></span> × 10 + <span class="cyan"><span><span id="ojs-element-id-13"></span></span></span>.</p>
<p>Unlike weeks in the Gregorian calendar🗓️, <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-year">doys</span> and deks do not need to continue in an infinite unbroken sequence. The last day of the year, Day -1, is always followed by <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>Day 0</u></span>, regardless of the last 4 or 5 days of Dek 36 that extend past the end of the year. If we want to track days seamlessly across years, we can use a continuous count of days called the day-of-<a href="https://en.wikipedia.org/wiki/Calendar_era#:~:text=the%20period%20of%20time%20elapsed%20since%20one%20epoch%20of%20a%20calendar">era</a> (<span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span>).</p>
</section>
<section id="doe" class="level4">
<h4 class="anchored" data-anchor-id="doe">Day of era (doe)</h4>
<p>A <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span> is essentially a <a href="https://en.wikipedia.org/wiki/Julian_day#:~:text=a%20continuous%20count%20of%20days%20from%20the%20beginning%20of%20the%20Julian%20period">Julian day</a> with a different <a href="https://en.wikipedia.org/wiki/Epoch#:~:text=an%20instant%20in%20time%20chosen%20as%20the%20origin%20of%20a%20particular%20calendar%20era">epoch</a>. We can convert a Julian day in a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span> by subtracting <span class="cyan">1721119.5</span> days to shift the epoch from <span class="under yellow" data-bs-toggle="tooltip" data-bs-title="4714 BC">-4713</span>+<span class="under cyan" data-bs-toggle="tooltip" data-bs-title="November 24">268</span>.<span class="under cyan" data-bs-toggle="tooltip" data-bs-title="noon">5</span> to <span class="under yellow" data-bs-toggle="tooltip" data-bs-title="1 BC">0000</span>+<span class="under cyan" data-bs-toggle="tooltip" data-bs-title="March 1">000</span>.<span class="under cyan" data-bs-toggle="tooltip" data-bs-title="midnight">0</span>. To turn a <a href="https://en.wikipedia.org/wiki/Unix_time#:~:text=the%20number%20of%20non%2Dleap%20seconds%20that%20have%20elapsed%20since%2000%3A00%3A00%20UTC%20on%201%C2%A0January%201970">UNIX timestamp</a> into a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span>, we divide by <a href="https://en.wikipedia.org/wiki/Day#:~:text=average%2C%20this%20is-,24%20hours%20(86%2C400%20seconds),-.%20As%20a%20day">86400</a> to convert seconds to days and then add <span class="cyan">719468.0</span> to account for the fact that the <a href="https://en.wikipedia.org/wiki/Unix_time#:~:text=00%3A00%3A00%20UTC%20on%201%C2%A0January%201970">UNIX epoch</a> is <span class="under yellow" data-bs-toggle="tooltip" data-bs-title="1970">1969</span>+<span class="under cyan" data-bs-toggle="tooltip" data-bs-title="January 1">306</span>.<span class="under cyan" data-bs-toggle="tooltip" data-bs-title="midnight">0</span>.</p>
<p>Dec uses <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-era">does</span> for calculations, such as finding the <a href="https://en.wikipedia.org/wiki/POSIX#:~:text=a%20family%20of%20standards%20specified%20by%20the%20IEEE%20Computer%20Society%20for%20maintaining%20compatibility%20between%20operating%20systems">POSIX</a> <a href="https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=weekday%20as%20a%20decimal%20number%20%5B0%2C6%5D%20(0%3Dsunday)">zero-based <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span></a> of a given date. This year, the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> of <a href="https://en.wikipedia.org/wiki/Christmas#:~:text=annual%20festival%20commemorating%20the%20birth%20of%20Jesus%20Christ">Christmas</a>🎄is <span class="wine"><span><span id="ojs-element-id-14"></span></span></span> according to the Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> equation: (<span class="cyan"><span><span id="ojs-element-id-15"></span></span></span> + 3) <a href="https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder">mod</a> 7 = <span class="wine"><span><span id="ojs-element-id-16"></span></span></span>. In contrast to the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span>, we can find the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span> of Christmas🎄without any calculation because its <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span>, <span class="cyan">9</span>, is simply the last digit of the <a href="https://en.wikipedia.org/wiki/Decimal#:~:text=the%20integer%20written%20to%20the%20left%20of%20the%20decimal">integer part</a> of its <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>: <span class="cyan">299</span>.</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Bad Pun Alert
</div>
</div>
<div class="callout-body-container callout-body">
<p><a href="https://en.wikipedia.org/wiki/Deck_the_Halls#:~:text=a%20traditional%20Christmas%20carol.">Dek the halls</a> with <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-week">dows</span> of holly! Fa + la × 8!</p>
</div>
</div>
<p>Christmas🎄is a fixed⚓️holiday because it occurs on the same <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> every year. Unlike fixed⚓️holidays, Gregorian calendar floating🛟holidays happen on a different <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> every year so that their <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> can remain constant. Dec uses the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> <a href="https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator">delta</a> equation, <span class="wine">w<sub>Δ</sub></span> = (<span class="wine">w<sub>M</sub></span> – <span class="wine">w<sub>S</sub></span> + 7) <a href="https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder">mod</a> 7, to determine which of the seven possible floating🛟holiday dates corresponds to the given year.</p>
<p>In the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> <a href="https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator">delta</a> equation, <span class="wine">w<sub>M</sub></span> is the <a href="https://en.wiktionary.org/wiki/minuend#:~:text=A%20number%20or%20quantity%20from%20which%20another%20is%20to%20be%20subtracted">minuend</a> <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> destination and <span class="wine">w<sub>S</sub></span> is the <a href="https://en.wikipedia.org/wiki/Subtraction#:~:text=number%20being%20subtracted">subtrahend</a> <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> starting point. To get the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> of the first <span class="under tool" data-bs-toggle="tooltip" data-bs-title="Thursday">Dow 4</span> after <span class="tool" data-bs-toggle="tooltip" data-bs-title="November 21"><u>Day 265</u></span>, which is <a href="https://en.wikipedia.org/wiki/Thanksgiving#:~:text=Thanksgiving%20is-,a%20national%20holiday,-celebrated%20on%20various">Thanksgiving</a>🦃in the United States and Brazil, we plug <span class="wine">4</span> as <span class="wine">w<sub>M</sub></span> and <span class="wine"><span><span id="ojs-element-id-17"></span></span></span>, the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> of <span class="tool" data-bs-toggle="tooltip" data-bs-title="November 22"><u>Day 266</u></span> this year, as <span class="wine">w<sub>S</sub></span> into the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> <a href="https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator">delta</a> equation, <span class="wine"><span><span id="ojs-element-id-18"></span></span></span> = (<span class="wine">4</span> – <span class="wine"><span><span id="ojs-element-id-19"></span></span></span> + 7) <a href="https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder">mod</a> 7, and then add <span class="wine">w<sub>Δ</sub></span> to <span class="cyan">266</span>: <span class="cyan"><span><span id="ojs-element-id-106"></span></span></span> = <span class="wine"><span><span id="ojs-element-id-20"></span></span></span> + <span class="cyan">266</span>.</p>
<p>Apart from the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> <a href="https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator">delta</a> equations, the Thanksgiving🦃calculation above relies on the Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span> equation, which is based on the <a href="https://howardhinnant.github.io/date_algorithms.html#days_from_civil" class="mono under"><code>days_from_civil</code></a> algorithm created by <a href="https://howardhinnant.github.io">Howard Hinnant</a> and described in his manuscript entitled <a href="https://howardhinnant.github.io/date_algorithms.html"><span class="mono under"><code>chrono</code></span>-Compatible Low-Level Date Algorithms</a>, to convert the <a href="https://en.wikipedia.org/wiki/Solar_cycle_(calendar)#:~:text=the%20Gregorian%20cycle%20of%20400%20years%20has%20exactly%20146%2C097%20days%2C%20i.e.%20exactly%2020%2C871%20weeks%2C%20one%20can%20say%20that%20the%20Gregorian%20so%2Dcalled%20solar%20cycle%20lasts%20400%20years">cycle</a>-of-era (<span class="under tool" data-bs-toggle="tooltip" data-bs-title="cycle-of-era">coe</span>), year-of-cycle (<span class="under tool" data-bs-toggle="tooltip" data-bs-title="year-of-cycle">yoc</span>), and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> of <span class="tool" data-bs-toggle="tooltip" data-bs-title="November 22"><u>Day 266</u></span> into its <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span>:</p>
<p><span class="math display">\[\text{coe} = \Biggl \lfloor \frac{\begin{cases}\text{year}&amp;{\text{if } \text{year} \geq 0;}\\\text{year}-399&amp;{\text{otherwise.}}\end{cases}}{400} \Biggr \rfloor\]</span></p>
<p><span class="math display">\[\text{yoc} = \text{year} - \text{coe} \times 400\]</span></p>
<div style="overflow-x:auto;overflow-y:hidden;">
<p><span class="math display">\[\text{doe} = \text{coe}\times146097 + \text{yoc}\times365 + \lfloor\frac{\text{yoc}}{4}\rfloor - \lfloor\frac{\text{yoc}}{100}\rfloor + \text{doy}\]</span></p>
</div>
<p>The Dec date equations, the <a href="https://en.wikipedia.org/wiki/Inverse#:~:text=Inverse%20function%2C-,a%20function%20that%20%22reverses%22%20another%20function,-Generalized%20inverse%2C%20a">inverse</a>🔁of the Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span> equations above, are based on Howard Hinnant’s <a href="https://howardhinnant.github.io/date_algorithms.html#civil_from_days" class="mono"><code>civil_from_days</code></a> algorithm and are useful for obtaining Dec dates from <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-era">does</span> and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span> analogs like <a href="https://en.wikipedia.org/wiki/Unix_time#:~:text=the%20number%20of%20seconds%20that%20have%20elapsed%20since%2000%3A00%3A00%20UTC%20on%201%C2%A0January%201970">Unix timestamps</a> and <a href="https://en.wikipedia.org/wiki/Julian_day#:~:text=a%20continuous%20count%20of%20days%20from%20the%20beginning%20of%20the%20Julian%20period">Julian days</a>. Apart from <span class="under tool" data-bs-toggle="tooltip" data-bs-title="cycle-of-era">coe</span> and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="year-of-cycle">yoc</span>, the Dec date equations use the day-of-cycle (<span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-cycle">doc</span>) of a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span> to produce the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span>’s corresponding year and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>:</p>
<p><span class="math display">\[\text{coe} = \Biggl \lfloor \frac{\begin{cases}\text{doe}&amp;{\text{if } \text{doe} \geq 0;}\\\text{doe}-146096&amp;{\text{otherwise.}}\end{cases}}{146097} \Biggr \rfloor\]</span></p>
<p><span class="math display">\[\text{doc} = \text{doe} - \text{coe} \times 146097\]</span></p>
<p><span class="math display">\[\text{yoc} = \biggl \lfloor \frac{\text{doc} - \lfloor \frac{\text{doc}}{1460} \rfloor + \lfloor \frac{\text{doc}}{36524} \rfloor - \lfloor \frac{\text{doc}}{146096} \rfloor}{365} \biggr \rfloor\]</span></p>
<p><span class="math display">\[\text{year} = \text{yoc} + \text{coe} \times 400\]</span></p>
<p><span class="math display">\[\text{doy} = \text{doc} - \text{yoc} \times 365 - \lfloor \frac{\text{yoc}}{4} \rfloor + \lfloor \frac{\text{yoc}}{100} \rfloor\]</span></p>
<p>Dates generated by the Dec date equations are guaranteed to be in the standard <span class="yellow">year</span>+<span class="cyan">day</span> format. Therefore, we can standardize Dec dates by performing a <a href="https://en.wikipedia.org/wiki/Round-trip_format_conversion#:~:text=converting%20from%20any%20data%20representation%20and%20back%20again">round-trip</a> date-to-<span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span>-to-date conversion using the Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span> and date equations consecutively. This allows Dec to handle Dec dates with a non-integer <span class="yellow">year</span> and a <span class="cyan">day</span> outside the typical range of <span class="cyan">0</span> ≤ <span class="cyan">day</span> ≤ <span class="cyan">365</span>.</p>
</section>
<section id="yoe" class="level4">
<h4 class="anchored" data-anchor-id="yoe">Year of era (yoe)</h4>
<p>A <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span> is essentially a Dec date with a <span class="yellow">year</span> that is always equal to <span class="yellow">0</span> and a <span class="cyan">day</span> that is <a href="https://en.wikipedia.org/wiki/Bounded_set#:~:text=a%20set%20which%20is%20not%20bounded">unbounded</a>. Similarly, a Dec year-of-era (<span class="under tool" data-bs-toggle="tooltip" data-bs-title="year-of-era">yoe</span>) is basically a Dec with a non-integer <span class="yellow">year</span> and a <span class="cyan">day</span> permanently set to <span class="cyan">0</span>. Both <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-era">does</span> and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="years-of-era">yoes</span> allow us to represent a date as a single number and obtain the difference between two dates, either in days (<span class="cyan">d<sub>M</sub></span> - <span class="cyan">d<sub>S</sub></span>) or years (<span class="yellow">y<sub>M</sub></span> – <span class="yellow">y<sub>S</sub></span>).</p>
<p>Compared to <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-era">does</span>, <span class="under tool" data-bs-toggle="tooltip" data-bs-title="years-of-era">yoes</span> are easier to turn into Dec dates. We can convert dates to <span class="under tool" data-bs-toggle="tooltip" data-bs-title="years-of-era">yoes</span> and vice versa with the Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="year-of-era">yoe</span> equation: <span class="yellow">y</span> = ⌊<span class="yellow">y</span>⌋ + <span class="cyan">d</span> ÷ <span class="orange">n</span>. In the Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="year-of-era">yoe</span> equation, <span class="yellow">y</span> is the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="year-of-era">yoe</span>, ⌊<span class="yellow">y</span>⌋ + <span class="cyan">d</span> is the Dec date, ⌊<span class="yellow">y</span>⌋ is the year, <span class="cyan">d</span> is the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>, and <span class="orange">n</span> is the number of days in Year ⌊<span class="yellow">y</span>⌋. The current <span class="under tool" data-bs-toggle="tooltip" data-bs-title="year-of-era">yoe</span> equation values are <span class="yellow"><span><span id="ojs-element-id-21"></span></span></span> = <span class="yellow"><span><span id="ojs-element-id-22"></span></span></span> + <span class="cyan"><span><span id="ojs-element-id-23"></span></span></span> ÷ <span class="orange"><span><span id="ojs-element-id-24"></span></span></span>.</p>
<p>Dec dates do not include <span class="orange">n</span>, because it is not needed to specify a date, remains constant for 366, 1095, or 2920 days, has only 2 possible values: 366 if ⌊<span class="yellow">y</span>⌋+1 is a Gregorian calendar leap year and 365 if ⌊<span class="yellow">y</span>⌋+1 is a Gregorian calendar common year, and can be determined by applying the Gregorian calendar <a href="https://en.wikipedia.org/wiki/Leap_year#:~:text=Every%20year%20that%20is%20exactly%20divisible%20by%20four%20is%20a%20leap%20year%2C%20except%20for%20years%20that%20are%20exactly%20divisible%20by%20100%2C%20but%20these%20centurial%20years%20are%20leap%20years%20if%20they%20are%20exactly%20divisible%20by%20400">leap year rule</a> to ⌊<span class="yellow">y</span>⌋+1, as shown in the Dec year length equation:</p>
<p><span class="math display">\[\text{n}=\begin{cases}
  366&amp;{\begin{align}\text{if } (\lfloor \text{y}\rfloor+1)\text{ mod }\ \ \ \ 4=0\\
  \href{https://en.wikipedia.org/wiki/Logical_conjunction}{\land}(\lfloor \text{y}\rfloor+1)\text{ mod }100\neq0\\
  \href{https://en.wikipedia.org/wiki/Logical_disjunction}{\lor}(\lfloor \text{y}\rfloor+1)\text{ mod }400=0\end{align}}\\\\
  365&amp;{\text{otherwise.}}\end{cases}\]</span></p>
<p>Apart from its role in the Dec date and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> equations, <span class="orange">n</span> is needed to convert between <span class="yellow">year</span>+<span class="cyan">day</span> and <span class="yellow">year</span>-<span class="pink">day</span> Dec dates. The <span class="yellow">year</span>-<span class="pink">day</span> version of the Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="year-of-era">yoe</span> equation is <span class="yellow">y</span> = ⌊<span class="yellow">y</span>⌋ + 1 + (<span class="cyan">d</span> – <span class="orange">n</span>) ÷ <span class="orange">n</span>. In essence, <span class="cyan">d</span>-<span class="orange">n</span> is the number of days until the start of Year ⌊<span class="yellow">y</span>⌋+1. The current <span class="yellow">year</span>-<span class="pink">day</span> date, <span class="yellow"><span><span id="ojs-element-id-25"></span></span></span>-<span class="pink"><span><span id="ojs-element-id-26"></span></span></span>, tells us that Year <span class="yellow"><span><span id="ojs-element-id-27"></span></span></span> will begin in <span class="pink"><span><span id="ojs-element-id-28"></span></span></span> days.</p>
<p>The distinction between <span class="cyan">d</span> and <span class="cyan">d</span>-<span class="orange">n</span> can also be explained in terms of computer programming. If we think of years as <a href="https://en.wikipedia.org/wiki/Array_(data_structure)#Element_identifier_and_addressing_formulas:~:text=a%20data%20structure%20consisting%20of%20a%20collection%20of%20elements%20(values%20or%20variables)%2C%20of%20same%20memory%20size%2C%20each%20identified%20by%20at%20least%20one%20array%20index">arrays</a>, <span class="cyan">d</span> and <span class="cyan">d</span>-<span class="orange">n</span> are like array <a href="https://en.wikipedia.org/wiki/Array_(data_structure)#Element_identifier_and_addressing_formulas:~:text=individual%20objects%20are%20selected%20by%20an%20index">indexes</a> that can be used to identify array elements or combine them into groups via <a href="https://en.wikipedia.org/wiki/Array_slicing#:~:text=an%20operation%20that%20extracts%20a%20subset%20of%20elements%20from%20an%20array">slicing</a>. In this analogy, <span class="orange">n</span> is the number of elements in the array, <span class="cyan">d</span> is a <a href="https://en.wikipedia.org/wiki/Zero-based_numbering#:~:text=a%20way%20of%20numbering%20in%20which%20the%20initial%20element%20of%20a%20sequence%20is%20assigned%20the%20index%C2%A00">positive index</a>, and <span class="cyan">d</span>-<span class="orange">n</span> is a <a href="https://en.wikipedia.org/wiki/Array_slicing#:~:text=specify%20an%20offset%20from%20the%20end%20of%20the%20array">negative index</a>.</p>
<p>The <span class="under tool" data-bs-toggle="tooltip" data-bs-title="year-of-era">yoe</span> equation can be rearranged into the Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> equation, <span class="cyan">d</span> = ⌊<span class="yellow">y</span> <a href="https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder">mod</a> 1 × <span class="orange">n</span>⌋, where <span class="yellow">y</span> <a href="https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder">mod</a> 1 is the <a href="https://en.wikipedia.org/wiki/Fractional_part#:~:text=the%20excess%20beyond%20that%20number%27s%20integer%20part">decimal part</a> of <span class="yellow">y</span>. The current <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> equation values are <span class="cyan"><span><span id="ojs-element-id-29"></span></span></span> = ⌊<span class="yellow"><span><span id="ojs-element-id-30"></span></span></span> × <span class="orange"><span><span id="ojs-element-id-31"></span></span></span>⌋. In Dec, a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> by itself is a floating🛟date and a <span class="yellow">year</span>+<span class="cyan">day</span> date is a fixed⚓️date. Unlike fixed⚓️dates, floating🛟dates do not include a year and thus can apply to any year.</p>
<p>Fixed⚓️dates are <a href="https://en.wikipedia.org/wiki/Simplification#:~:text=the%20process%20of%20replacing%20a%20mathematical%20expression%20by%20an%20equivalent%20one%2C%20that%20is%20simpler">unsimplified</a> math expressions. Instead of simplifying a fixed⚓️date into a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="year-of-era">yoe</span>, we can do the opposite and expand it to display additional information, such as the number of days in between it and another date. An expanded version of the current date, <span class="yellow"><span><span id="ojs-element-id-32"></span></span></span>+<span class="cyan">299</span><span><span id="ojs-element-id-33"></span></span><span class="denim"><span><span id="ojs-element-id-34"></span></span></span>, can tell us that <span class="denim"><span><span id="ojs-element-id-35"></span></span></span> days <span><span id="ojs-element-id-36"></span></span> <span class="tool" data-bs-toggle="tooltip" data-bs-title="December 25"><u>Day 299</u></span>🎄of this year.</p>
<p>In the example above, the minuend <span class="cyan"><span><span id="ojs-element-id-37"></span></span></span> has been expanded into the subtrahend <span class="cyan">299</span> and the difference <span class="denim"><span><span id="ojs-element-id-38"></span></span></span> as per the Dec minuend equation: minuend = subtrahend + difference. If we were preparing for a rocket🚀launch, the minuend would be the current time, the subtrahend would be the planned launch time, and the difference would be the <a href="https://en.wikipedia.org/wiki/Countdown#:~:text=backward%20counting%20to%20indicate%20the%20time%20remaining%20before%20an%20event">“T-minus” countdown</a>.</p>
<p>To see its minuend, subtrahend, and difference at the same time, we could rewrite the expanded date above as a Dec span🌈: <span class="yellow"><span><span id="ojs-element-id-39"></span></span></span>+<span class="cyan"><span><span id="ojs-element-id-40"></span></span></span>=<span class="yellow"><span><span id="ojs-element-id-41"></span></span></span>+<span class="cyan">299</span><span><span id="ojs-element-id-42"></span></span><span class="denim"><span><span id="ojs-element-id-43"></span></span></span>. Unlike expanded dates, Dec spans🌈represent time intervals instead of individual dates and are structured like the minuend equation as opposed to a math expression that can be simplified to a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="year-of-era">yoe</span>.</p>
<p>Whereas expanded dates have a set structure that does not change, Dec spans🌈can omit the subtrahend, <span class="yellow"><span><span id="ojs-element-id-44"></span></span></span>+<span class="cyan"><span><span id="ojs-element-id-45"></span></span></span><span>=<span id="ojs-element-id-46"></span></span><span class="denim"><span><span id="ojs-element-id-47"></span></span></span>, or the difference, <span class="yellow"><span><span id="ojs-element-id-48"></span></span></span>+<span class="cyan"><span><span id="ojs-element-id-49"></span></span></span>=<span class="yellow"><span><span id="ojs-element-id-50"></span></span></span>+<span class="cyan">299</span>. If the year is the same on both sides of the equals sign, it can be omitted from the minuend, <span class="cyan"><span><span id="ojs-element-id-51"></span></span></span>=<span class="yellow"><span><span id="ojs-element-id-52"></span></span></span>+<span class="cyan">299</span><span><span id="ojs-element-id-53"></span></span><span class="denim"><span><span id="ojs-element-id-54"></span></span></span>, or from the subtrahend along with the difference: <span class="yellow"><span><span id="ojs-element-id-55"></span></span></span>+<span class="cyan"><span><span id="ojs-element-id-56"></span></span></span>=<span class="cyan">299</span>.</p>
<p>Dec spans🌈 can omit their entire <a href="https://en.wikipedia.org/wiki/Sides_of_an_equation#:~:text=the%20expression%20on%20the%20left%20of%20the%20%22%3D%22">left</a>-hand side to indicate that the minuend is <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>Day 0</u></span> of the given year. Similarly, an empty <a href="https://en.wikipedia.org/wiki/Sides_of_an_equation#:~:text=The%20expression%20on%20the%20right%20side%20of%20the%20%22%3D%22%20sign">right</a>-hand side means that the subtrahend is <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>Day 0</u></span> of the subsequent year. Dec spans🌈with at least one year are called fixed⚓️spans🌈. In contrast, floating🛟spans🌈do not contain a year and thus can be reused♻️ every year.</p>
<p>Floating🛟dates and spans🌈are reusable♻️across all years, but the information displayed by expanded dates and spans🌈may not be. Information related to weeks is difficult to reuse♻️, because it takes 6 to 40 years for the pattern of <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-week">dows</span> in a year to repeat. At the price of reusability♻️, Dec can function without deks and use weeks instead.</p>
</section>
<section id="dow" class="level4">
<h4 class="anchored" data-anchor-id="dow">Day of week (dow)</h4>
<p>Even though Decalendar works best with deks, Dec dates can display POSIX <a href="https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=Weekday%20as%20a%20decimal%20number%20%5B0%2C6%5D">zero-based</a> <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-week">dows</span>. Instead of the current Dec date, <span class="yellow"><span><span id="ojs-element-id-57"></span></span></span>+<span class="cyan"><span><span id="ojs-element-id-58"></span></span></span>, the <a href="https://en.wikipedia.org/wiki/Navigation_bar#:~:text=a%20section%20of%20a%20graphical%20user%20interface%20intended%20to%20aid%20visitors%20in%20accessing%20information">navigation bar</a> (navbar) of my site displays the current Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> date, <span class="yellow"><span><span id="ojs-element-id-59"></span></span></span><span><span id="ojs-element-id-60"></span></span><span class="cyan"><span><span id="ojs-element-id-61"></span></span></span>+<span class="wine"><span><span id="ojs-element-id-62"></span></span></span>, by splitting the current <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>, <span class="cyan"><span><span id="ojs-element-id-63"></span></span></span>, into the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> of the first day of the current week (<span class="under tool" data-bs-toggle="tooltip" data-bs-title="Sunday">Dow 0</span> <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>), <span class="cyan"><span><span id="ojs-element-id-64"></span></span></span>, and the current POSIX <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span>: <span class="wine"><span><span id="ojs-element-id-65"></span></span></span>.</p>
<p>Instead of the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> <span class="cyan">d</span>, Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> dates display <span class="cyan">d</span>-<span class="wine">w</span>+<span class="wine">w</span>, where <span class="cyan">d</span>-<span class="wine">w</span> is the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="Sunday">Dow 0</span> <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> and <span class="wine">w</span> is the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> associated with <span class="cyan">d</span>. We evaluate the subtraction, <span class="cyan">d</span>-<span class="wine">w</span>, to obtain the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="Sunday">Dow 0</span> <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>, but leave the addition unsimplified so we can see <span class="wine">w</span>. Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> dates supply all of the information needed to identify specific dates and coordinate schedules based on deks or weeks.</p>
<p>Dec dates can be further modified to include <a href="https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=week%20of%20the%20year%20(sunday%20as%20the%20first%20day%20of%20the%20week)%20as%20a%20decimal%20number%20%5B00%2C53%5D.%20all%20days%20in%20a%20new%20year%20preceding%20the%20first%20sunday%20shall%20be%20considered%20to%20be%20in%20week%200.">POSIX week numbers</a>: <span class="yellow"><span><span id="ojs-element-id-66"></span></span></span>+7×<span class="wheat"><span><span id="ojs-element-id-67"></span></span></span>+<span class="wine"><span><span id="ojs-element-id-68"></span></span></span>. The current week number, <span class="wheat"><span><span id="ojs-element-id-69"></span></span></span>, is the sum of the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="Sunday">Dow 0</span> <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>, <span class="cyan"><span><span id="ojs-element-id-70"></span></span></span>, and the first <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> of the year (<span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>Day 0</u></span> <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span>), <span class="wine"><span><span id="ojs-element-id-71"></span></span></span>, divided by 7: <span class="wheat"><span><span id="ojs-element-id-72"></span></span></span> = (<span class="cyan"><span><span id="ojs-element-id-73"></span></span></span> + <span class="wine"><span><span id="ojs-element-id-74"></span></span></span>) ÷ 7. The current Dec floating🛟week date, 7×<span class="wheat"><span><span id="ojs-element-id-75"></span></span></span>+<span class="wine"><span><span id="ojs-element-id-76"></span></span></span>, is equal to the sum of the current <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> and the <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>Day 0</u></span> <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span>: 7 × <span class="wheat"><span><span id="ojs-element-id-77"></span></span></span> + <span class="wine"><span><span id="ojs-element-id-78"></span></span></span> = <span class="cyan"><span><span id="ojs-element-id-79"></span></span></span> + <span class="wine"><span><span id="ojs-element-id-80"></span></span></span>.</p>
<p>Dec week dates turn <span class="cyan">d</span>-<span class="wine">w</span> into 7×<span class="wheat">W</span>-<span class="wine">w<sub>0</sub></span>, where <span class="wheat">W</span> is the week number and <span class="wine">w<sub>0</sub></span> is the <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>Day 0</u></span> <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span>. In this case, the subtraction is omitted, because <span class="wine">w<sub>0</sub></span> is not necessary to identify a date and can be calculated from a given <span class="yellow">y</span> by flooring it, turning it into a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span>, and passing it into the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> equation. POSIX week numbers may be useful for <a href="https://en.wikipedia.org/wiki/Accounting_period#52%E2%80%9353-week_fiscal_year:~:text=used%20by%20companies%20that%20desire%20that%20their%20fiscal%20year%20always%20end%20on%20the%20same%20day%20of%20the%20week">week-based accounting</a>🧾.</p>
<p>To create a Dec week date, we need two types of Dec date expansion: minuend and dividend expansion. First, we turn the minuend <span class="cyan">d</span> into the subtrahend <span class="cyan">d</span>-<span class="wine">w</span> and the difference <span class="wine">w</span>. Then, we use the dividend equation, dividend = divisor × quotient, to convert the dividend <span class="cyan">d</span>-<span class="wine">w</span>+<span class="wine">w<sub>0</sub></span> into the divisor 7 and the quotient <span class="wheat">W</span>. Week dates obfuscate <span class="cyan">d</span> much more than <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> dates.</p>
</section>
<section id="dod" class="level4 page-columns page-full">
<h4 class="anchored" data-anchor-id="dod">Day of dek (dod)</h4>
<p>Dividend expansion will not work for variable-length units like months, but it can be used to base Dec dates on any fixed-length unit, including the 20-day <a href="https://en.wiktionary.org/wiki/dudek#Esperanto:~:text=dudek-,twenty,-Polish%5Bedit">dudek</a>, 30-day <a href="https://en.wiktionary.org/wiki/tridek#Esperanto:~:text=tridek-,thirty,-Categories%3A">tridek</a>, 40-day <a href="https://en.wiktionary.org/wiki/kvardek#Esperanto:~:text=kvardek-,forty,-Categories%3A">kvardek</a>, 73-day <a href="https://en.wiktionary.org/wiki/sepdek_tri#Esperanto:~:text=sepdek%20tri-,seventy%2Dthree,-Categories%3A">sepdektri</a>, or 90-day <a href="https://en.wiktionary.org/wiki/na%C5%ADdek">naŭdek</a>. Expansion of deks is unnecessary, because our <a href="https://en.wikipedia.org/wiki/Decimal#:~:text=system%20for%20denoting%20integer%20and%20non%2Dinteger%20numbers">decimal numeral system</a> allows us to combine a dek, <span class="cyan"><span><span id="ojs-element-id-107"></span></span></span>, and a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span>, <span class="cyan"><span><span id="ojs-element-id-81"></span></span></span>, into a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>: <span class="cyan"><span><span id="ojs-element-id-82"></span></span></span>.</p>
<p>While weeks are not evenly divisible by two, a dek can be cut✂️into two equal halves called pents. The flowcharts below show Schedule <span class="green">3</span>, the recommended pently schedule of <span class="green">work</span> and <span class="blue">rest</span> day. Schedule <span class="green">3</span> can be short for Schedule <span class="blue">1</span>+<span class="green">3</span>+<span class="blue">1</span>, if you prefer the zero-based top flowchart, or Schedule <span class="green">3</span>+<span class="blue">2</span>, if you favor the one-based bottom flowchart.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">%%{init: {'theme': 'default', 'themeVariables': { 'fontSize': '24px'}}}%%
flowchart TB
   A[0]--&gt;B[1]--&gt;C[2]--&gt;D[3]--&gt;E[4]
   F[5]--&gt;G[6]--&gt;H[7]--&gt;I[8]--&gt;J[9]
   subgraph workdays[work days]
   B
   C
   G
   H
   D
   I
   end
   subgraph restdays[rest days]
   A
   F
   E
   J
   workdays
   end
   style restdays color:transparent;
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">%%{init: {'theme': 'default', 'themeVariables': { 'fontSize': '24px'}}}%%
flowchart TB
   B[1]--&gt;C[2]--&gt;D[3]--&gt;E[4]--&gt;F[5]
   G[6]--&gt;H[7]--&gt;I[8]--&gt;J[9]--&gt;A[10]
   subgraph workdays[work days]
   B
   C
   G
   H
   D
   I
   end
   subgraph restdays[rest days]
   A
   F
   E
   J
   workdays
   end
   style restdays color:transparent;
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<p>Both flowcharts use <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span> numbers, but the bottom one starts from <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">Dod</span> 1 instead of <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">Dod</span> 0 and refers to <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">Dod</span> 0 as <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">Dod</span> 10. Like the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-dek">dods</span> in the flowcharts above, the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-year">doys</span> in the tables below are arranged in both a zero-based (top) and a one-based (bottom) manner. The tables visualize the seamless transition between a common year and the subsequent year.</p>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th><span class="blue">Rest</span></th>
<th><span class="green">Work</span></th>
<th><span class="green">Work</span></th>
<th><span class="green">Work</span></th>
<th><span class="blue">Rest</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="blue">360</span></td>
<td><span class="green">361</span></td>
<td><span class="green">362</span></td>
<td><span class="green">363</span></td>
<td><span class="blue">364</span></td>
</tr>
<tr class="even">
<td><span class="blue">0</span></td>
<td><span class="green">1</span></td>
<td><span class="green">2</span></td>
<td><span class="green">3</span></td>
<td><span class="blue">4</span></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 19%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th><span class="green">Work</span></th>
<th><span class="green">Work</span></th>
<th><span class="green">Work</span></th>
<th><span class="blue">Rest</span></th>
<th><span class="blue">Rest</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="green">361</span></td>
<td><span class="green">362</span></td>
<td><span class="green">363</span></td>
<td><span class="blue">364</span></td>
<td><span class="blue">0</span></td>
</tr>
<tr class="even">
<td><span class="green">1</span></td>
<td><span class="green">2</span></td>
<td><span class="green">3</span></td>
<td><span class="blue">4</span></td>
<td><span class="blue">5</span></td>
</tr>
</tbody>
</table>
<p>After 4 or 8 years of consecutive pents, the Schedule <span class="green">3</span> pattern shown in the flowcharts and tables above is interrupted by <span class="blue">3</span> consecutive <span class="blue">rest</span> days during the transition from a leap year. This interruption is represented by 4 empty cells in the middle row of the two tables below. The middle row contains only one day: <span class="tool" data-bs-toggle="tooltip" data-bs-title="February 29"><u>Day 365</u></span> in the top table and <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>Day 0</u></span> in bottom one.</p>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th><span class="blue">Rest</span></th>
<th><span class="green">Work</span></th>
<th><span class="green">Work</span></th>
<th><span class="green">Work</span></th>
<th><span class="blue">Rest</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="blue">360</span></td>
<td><span class="green">361</span></td>
<td><span class="green">362</span></td>
<td><span class="green">363</span></td>
<td><span class="blue">364</span></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td><span class="blue">365</span></td>
</tr>
<tr class="odd">
<td><span class="blue">0</span></td>
<td><span class="green">1</span></td>
<td><span class="green">2</span></td>
<td><span class="green">3</span></td>
<td><span class="blue">4</span></td>
</tr>
</tbody>
</table>
<table class="table">
<colgroup>
<col style="width: 19%">
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 19%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th><span class="green">Work</span></th>
<th><span class="green">Work</span></th>
<th><span class="green">Work</span></th>
<th><span class="blue">Rest</span></th>
<th><span class="blue">Rest</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="green">361</span></td>
<td><span class="green">362</span></td>
<td><span class="green">363</span></td>
<td><span class="blue">364</span></td>
<td><span class="blue">365</span></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
<td></td>
<td><span class="blue">0</span></td>
</tr>
<tr class="odd">
<td><span class="green">1</span></td>
<td><span class="green">2</span></td>
<td><span class="green">3</span></td>
<td><span class="blue">4</span></td>
<td><span class="blue">5</span></td>
</tr>
</tbody>
</table>
<p>The last pent in common years is Pent 72. <span class="tool" data-bs-toggle="tooltip" data-bs-title="February 29"><u>Day 365</u></span> is the only day in Pent 73. <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>Day 0</u></span> is the first day of Pent 0, the first pent of the year. To get the current pent number, <span><span id="ojs-element-id-83"></span>,</span> we double the current dek number, <span class="cyan"><span><span id="ojs-element-id-84"></span></span></span>, and then add 1 if the current <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span> number, <span class="cyan"><span><span id="ojs-element-id-85"></span></span></span>, is greater than 4. To avoid <a href="https://en.wikipedia.org/wiki/Off-by-one_error#:~:text=a%20logic%20error%20that%20involves%20a%20number%20that%20differs%20from%20its%20intended%20value%20by%201">off-by-one errors</a>, pent, dek, <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span>, and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> numbers are always zero-based in Dec.</p>
<p>Apart from pent numbers, a pent can also be expressed as a span🌈. Pent 72 can be represented as <span class="cyan">360</span>=<span class="cyan">365</span>-<span class="denim">5</span>, <span class="cyan">360</span>=-<span class="denim">5</span>, or <span class="cyan">360</span>=<span class="cyan">365</span>. In addition to omitting the subtrahend or the difference, we can make the subtrahend precede the minuend to indicate that we want to start from the latest day and work backwards: <span class="cyan">365</span>=<span class="cyan">360</span>+<span class="denim">5</span>, <span class="cyan">365</span>=<span class="cyan">360</span>, or <span class="cyan">365</span>=+<span class="denim">5</span>.</p>
<p>Spans🌈can also represent groups of non-consecutive days. All of the Schedule <span class="green">3</span> <span class="green">work</span> days in a year can be expressed as <span class="cyan">1</span>=<span class="cyan">4</span>=:<span class="sienna">5</span>. In this span🌈, we start with Days <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 2"><u>1</u></span>, <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 3"><u>2</u></span>, and <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 4"><u>3</u></span> and then include every day that is a multiple of 5 days away from one of the starting days. The number preceded by a colon is called a step and determines which days we want to include.</p>
<div class="page-columns page-full"><p> Schedule <span class="green">3</span> is one of six pently schedules that allow us to organize <span class="green">work</span> and <span class="blue">rest</span> days into five homogeneous columns like in the tables and flowcharts above. These schedules are like the gears⚙️of a <a href="https://en.m.wikipedia.org/wiki/Manual_transmission#:~:text=Common%20shift%20pattern%20for%20a%205%2Dspeed%20transmission">5-speed</a> <a href="https://en.m.wikipedia.org/wiki/Manual_transmission#:~:text=a%20multi%2Dspeed%20motor%20vehicle%20transmission%20system%20where%20gear%20changes%20require%20the%20driver%20to%20manually%20select%20the%20gears%20by%20operating%20a%20gear%20stick%20and%20clutch">manual transmission</a> in a car. The approximate speed ranges for the five gears⚙️are &lt;5, 5 to 10, 10 to 15, 15 to 20, and ≥20 <span class="tool" data-bs-toggle="tooltip" data-bs-title="thousands of meters"><u>kilometers</u></span> per <span class="tool" data-bs-toggle="tooltip" data-bs-title="a hundredth of a day"><u>centiday</u></span>.</p><div class="no-row-height column-margin column-container"><img src="../../asset/Manual_Layout.svg" class="img-fluid quarto-figure quarto-figure-center"></div></div>
<p>In this analogy, <a href="https://en.m.wikipedia.org/wiki/Neutral#:~:text=the%20state%20where%20no%20gears%20are%20selected%20for%20a%20motor%20vehicle's%20transmission">Neutral</a> (N), 1st, 2nd, 3rd, 4th, and 5th gear⚙️are Schedules <span class="green">0</span>, <span class="green">1</span>, <span class="green">2</span>, <span class="green">3</span>, <span class="green">4</span>, and <span class="green">5</span>, respectively. To complete the <a href="https://en.m.wikipedia.org/wiki/Gear_stick#:~:text=a%20metal%20lever%20attached%20to%20the%20transmission%20of%20an%20automobile">gearshift</a> analogy, Reverse (R) would be a time machine that takes us to the past. As our driving speed changes, we would shift up to a higher gear⚙️or shift down to a lower gear⚙️. Similarly, we can switch between the six pently schedules as needed.</p>
<p>The names of the pently schedules are derived from their respective numbers of <span class="green">work</span> days per pent. The total🧮number of <span class="green">work</span> days per year provided by Schedules <span class="green">0</span>, <span class="green">1</span>, <span class="green">2</span>, <span class="green">3</span>, <span class="green">4</span>, and <span class="green">5</span> are 0, 73, 146, 219, 292, and 365, respectively. In general, Schedule <span class="green">3</span> should be the default and Schedule <span class="green">5</span> should only be used temporarily during crises‼️and emergencies🚨.</p>
<p>In addition to switching between schedules, we can also mix them to create hybrid schedules. Schedule <span class="green">34</span> mixes Schedules <span class="green">3</span> and <span class="green">4</span> to obtain an annual total🧮of 255 <span class="green">work</span> days without modifying the transition between years shown in the tables above. This annual total🧮is about 1 pent less than the 260 to 262 <span class="green">work</span> days that we get annually from a 5-day <span class="green">work</span>week.</p>
<p>Unlike weekly schedules, Schedules <span class="green">3</span> and <span class="green">34</span> provide a consistent🎯number of <span class="green">work</span> days every year. While Days <span class="tool" data-bs-toggle="tooltip" data-bs-title="February 28"><u>364</u></span>, <span class="tool" data-bs-toggle="tooltip" data-bs-title="February 29"><u>365</u></span>, and <span class="tool" data-bs-toggle="tooltip" data-bs-title="March 1"><u>0</u></span> can be <span class="green">work</span> or <span class="blue">rest</span> days in the Gregorian calendar, these days are always <span class="blue">rest</span> days if we follow Schedules <span class="green">3</span> or <span class="green">34</span>. Therefore, Schedules <span class="green">3</span> and <span class="green">34</span> do not require any holidays to smooth the transition between years.</p>
<p>There are 11 United States <a href="https://www.opm.gov/policy-data-oversight/pay-leave/federal-holidays/">Federal holidays</a>. Federal holidays that fall on a Gregorian calendar <span class="blue">rest</span> day, <span class="under tool" data-bs-toggle="tooltip" data-bs-title="Sunday">Dow 0</span> or <span class="under tool" data-bs-toggle="tooltip" data-bs-title="Saturday">Dow 6</span>, are observed on the nearest Gregorian calendar <span class="green">work</span> day: <span class="under tool" data-bs-toggle="tooltip" data-bs-title="Monday">Dow 1</span> or <span class="under tool" data-bs-toggle="tooltip" data-bs-title="Friday">Dow 5</span>. To apply this rule to Schedule <span class="green">3</span>, we would observe the Day <span class="tool" data-bs-toggle="tooltip" data-bs-title="June 19"><u>110</u></span>⛓️‍💥, <span class="tool" data-bs-toggle="tooltip" data-bs-title="July 4"><u>125</u></span>🎆, <span class="tool" data-bs-toggle="tooltip" data-bs-title="November 11"><u>255</u></span>🫡, and <span class="tool" data-bs-toggle="tooltip" data-bs-title="December 25"><u>299</u></span>🎄holidays on Days <span class="tool" data-bs-toggle="tooltip" data-bs-title="June 20"><u>111</u></span>⛓️‍💥, <span class="tool" data-bs-toggle="tooltip" data-bs-title="July 5"><u>126</u></span>🎆, <span class="tool" data-bs-toggle="tooltip" data-bs-title="November 12"><u>256</u></span>🫡, and <span class="tool" data-bs-toggle="tooltip" data-bs-title="December 26"><u>298</u></span>🎄, respectively.</p>
<p>With dekly schedules, we can determine whether any date falls on a <span class="green">work</span> or a <span class="blue">rest</span> day with just a glance. Counterintuitively, dekly schedules can be based on months instead of deks. Month-based dekly schedules distinguish between <span class="green">work</span> and <span class="blue">rest</span> days based on&nbsp;the last digit of <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-month">doms</span>. The drawback of month-based schedules is that <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-month">doms</span> reset twelve times every year.</p>
<p>The month-based Schedules <span class="green">3</span> and <span class="green">34</span> have 223 and 258 <span class="green">work</span> days per year, respectively, but will require at least one holiday to avoid six consecutive <span class="green">work</span> days during the transition from a Dec common year. The best time to switch from a weekly to a dekly schedule may be from <span class="under tool" data-bs-toggle="tooltip" data-bs-title="April 1">Day 31</span> to <span class="under tool" data-bs-toggle="tooltip" data-bs-title="June 2">93</span> when the original and month-based versions of Schedules <span class="green">3</span> and <span class="green">34</span> are identical.</p>
</section>
<section id="dom" class="level4">
<h4 class="anchored" data-anchor-id="dom">Day of month (dom)</h4>
<p>Dec dates can be expanded to display Dec month and <a href="https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=day%20of%20the%20month%20as%20a%20decimal%20number%20%5B01%2C31%5D">POSIX <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-month">dom</span></a> numbers. The current Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-month">dom</span> date is <span class="yellow"><span><span id="ojs-element-id-86"></span></span></span>+<span class="cyan"><span><span id="ojs-element-id-87"></span></span></span>+<span class="magenta"><span><span id="ojs-element-id-88"></span></span></span>. Dec month numbers are the last <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> of the previous month because POSIX <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-month">doms</span> are one-based. For zero-based <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-month">doms</span>, Dec represents each month with its first <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>: <span class="yellow"><span><span id="ojs-element-id-89"></span></span></span>+<span class="cyan"><span><span id="ojs-element-id-90"></span></span></span>+<span class="magenta"><span><span id="ojs-element-id-91"></span></span></span>. This way, Dec can support both zero- and one-based <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-month">doms</span>.</p>
<p>Dec <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-month">dom</span> dates replace the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> <span class="cyan">d</span> from Dec dates with <span class="cyan">d</span>-<span class="magenta">m</span>+<span class="magenta">m</span>. We evaluate the subtraction to get <span class="cyan">d</span>-<span class="magenta">m</span>, the Dec month number, but not the addition, so we can see <span class="magenta">m</span>, the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-month">dom</span>. If we combine the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-month">dom</span> and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> patterns above, we can create hybrid <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-month">dom</span>+<span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-week">dow</span> Dec dates: <span class="yellow"><span><span id="ojs-element-id-92"></span></span></span>+<span class="cyan"><span><span id="ojs-element-id-108"></span></span></span>+<span class="magenta"><span><span id="ojs-element-id-93"></span></span></span>+<span class="wine"><span><span id="ojs-element-id-94"></span></span></span>, where <span class="cyan"><span><span id="ojs-element-id-109"></span></span></span> is <span class="cyan">d</span>-<span class="magenta">m</span>-<span class="wine">w</span>, the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> of the last <span class="under tool" data-bs-toggle="tooltip" data-bs-title="Sunday">Dow 0</span> before the beginning of the month.</p>
<p>We can obtain Dec month numbers using only a pair of hands🤲by counting index☝️and ring💍fingers as 30 days and other fingers as 31 days. For zero-based <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-month">doms</span>, we start counting from 0. For one-based <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-month">doms</span>, we start counting from -1, as shown in the image below. To spread 12 months across 10 fingers, the first and last fingers each represent 2 months.</p>
<!--?xml version="1.0" encoding="UTF-8"?-->
<svg id="finger" enable-background="new 0 0 838.332 516.951" overflow="visible" ns:pagebounds="-124 716 716 124" ns:rulerorigin="124 -124" ns:vieworigin="-123.4824 642.7246" version="1.1" viewbox="0 -5 531.09 270" space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:ns="&amp;#38;#38;ns_ai;" xmlns:ns1="&amp;#38;#38;ns_sfw;" xmlns:ns2="&amp;#38;#38;ns_vars;" xmlns:pdf="http://ns.adobe.com/pdf/1.3/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:x="adobe:ns:meta/" xmlns:xap="http://ns.adobe.com/xap/1.0/" xmlns:xapgimg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:xapmm="http://ns.adobe.com/xap/1.0/mm/">
    <metadata>
        <ns1:sfw>
            <ns1:slices></ns1:slices>
            <ns1:slicesourcebounds x="-123.482" y="125.773" width="838.332" height="516.951" bottomleftorigin="true"></ns1:slicesourcebounds>
        </ns1:sfw>
        <ns2:variablesets>
            <ns2:variableset locked="none" varsetname="binding1">
                <ns2:variables></ns2:variables>
                <ns2:sampledatasets></ns2:sampledatasets>
            </ns2:variableset>
        </ns2:variablesets>
<x:xmpmeta x:xmptk="XMP toolkit 3.0-29, framework 1.6">
<rdf:rdf>

 <rdf:description rdf:about="uuid:4dd77512-294e-11df-b0f4-001f5b3c2ba8">
  <pdf:producer>Adobe PDF library 6.66</pdf:producer>
 </rdf:description>

 <rdf:description rdf:about="uuid:4dd77512-294e-11df-b0f4-001f5b3c2ba8">
 </rdf:description>

 <rdf:description rdf:about="uuid:4dd77512-294e-11df-b0f4-001f5b3c2ba8">
 </rdf:description>

 <rdf:description rdf:about="uuid:4dd77512-294e-11df-b0f4-001f5b3c2ba8">
  <xap:modifydate>2010-03-06T19:45:34Z</xap:modifydate>
  <xap:createdate>2008-03-27T12:07:11+01:00</xap:createdate>
  <xap:creatortool>Illustrator</xap:creatortool>
  <xap:metadatadate>2008-03-27T16:40:58+01:00</xap:metadatadate>
  <xap:thumbnails>
   <rdf:alt>
    <rdf:li rdf:parsetype="Resource">
     <xapgimg:format>JPEG</xapgimg:format>
     <xapgimg:width>256</xapgimg:width>
     <xapgimg:height>160</xapgimg:height>
     <xapgimg:image>/9j/4AAQSkZJRgABAgEASABIAAD/7QAsUGhvdG9zaG9wIDMuMAA4QklNA+0AAAAAABAASAAAAAEA
AQBIAAAAAQAB/+4ADkFkb2JlAGTAAAAAAf/bAIQABgQEBAUEBgUFBgkGBQYJCwgGBggLDAoKCwoK
DBAMDAwMDAwQDA4PEA8ODBMTFBQTExwbGxscHx8fHx8fHx8fHwEHBwcNDA0YEBAYGhURFRofHx8f
Hx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8f/8AAEQgAoAEAAwER
AAIRAQMRAf/EAaIAAAAHAQEBAQEAAAAAAAAAAAQFAwIGAQAHCAkKCwEAAgIDAQEBAQEAAAAAAAAA
AQACAwQFBgcICQoLEAACAQMDAgQCBgcDBAIGAnMBAgMRBAAFIRIxQVEGE2EicYEUMpGhBxWxQiPB
UtHhMxZi8CRygvElQzRTkqKyY3PCNUQnk6OzNhdUZHTD0uIIJoMJChgZhJRFRqS0VtNVKBry4/PE
1OT0ZXWFlaW1xdXl9WZ2hpamtsbW5vY3R1dnd4eXp7fH1+f3OEhYaHiImKi4yNjo+Ck5SVlpeYmZ
qbnJ2en5KjpKWmp6ipqqusra6voRAAICAQIDBQUEBQYECAMDbQEAAhEDBCESMUEFURNhIgZxgZEy
obHwFMHR4SNCFVJicvEzJDRDghaSUyWiY7LCB3PSNeJEgxdUkwgJChgZJjZFGidkdFU38qOzwygp
0+PzhJSktMTU5PRldYWVpbXF1eX1RlZmdoaWprbG1ub2R1dnd4eXp7fH1+f3OEhYaHiImKi4yNjo
+DlJWWl5iZmpucnZ6fkqOkpaanqKmqq6ytrq+v/aAAwDAQACEQMRAD8A9KaVpWlnS7MmzgJMEdT6
afyD2xVFfonSv+WKD/kUn9MVd+idK/5YoP8AkUn9MVd+idK/5YoP+RSf0xV36J0r/lig/wCRSf0x
V36J0r/lig/5FJ/TFXfonSv+WKD/AJFJ/TFXfonSv+WKD/kUn9MVd+idK/5YoP8AkUn9MVd+idK/
5YoP+RSf0xV5L/zjFaWl1+Wjy3MMc8v6Uvl5yqHagl2FWB6Yq9a/ROlf8sUH/IpP6Yq79E6V/wAs
UH/IpP6Yq79E6V/yxQf8ik/pirv0TpX/ACxQf8ik/pirv0TpX/LFB/yKT+mKu/ROlf8ALFB/yKT+
mKu/ROlf8sUH/IpP6Yq79E6V/wAsUH/IpP6Yq79E6V/yxQf8ik/pirv0TpX/ACxQf8ik/pirv0Tp
X/LFB/yKT+mKu/ROlf8ALFB/yKT+mKu/ROlf8sUH/IpP6Yq79E6V/wAsUH/IpP6Yq79E6V/yxQf8
ik/pirv0TpX/ACxQf8ik/pirv0TpX/LFB/yKT+mKu/ROlf8ALFB/yKT+mKu/ROlf8sUH/IpP6Yq7
9E6V/wAsUH/IpP6YqhdV0rSxpd4RZwAiCSh9NP5D7YqitJ/45Vl/xgi/4gMVReKuxV2KuxV2KuxV
2KuxV2KvH/8AnFn/AMlfJ/21b/8A5O4q9gxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV2KuxV
2KuxV2KoTVv+OVe/8YJf+IHFXaT/AMcqy/4wRf8AEBirzvTrnXNTjaZ75vVC27Su8t4vJ57WG5bg
ltc2kcaL6/BV4k0FSxJzUa3tTwcnBw38XHyZ+E1S367qX6ZOieo31n6uLwX31vU+Hp8zGY/Q+t15
cqHn6vT9nK/5Y/d8fD/FXPy9zH8x6bpdqNxqmmpDJLM12LiZLZI0u9TgIeY8Ucsbyeqh6chx6d8s
0Xanj5RDhq/NY6mzyRBtdbAJF8CewM2qCv0/Xz+rOj/Kea/mPJC6Xd6nq2nw6lbzNaQXI5xW8l1q
c7otSBykF5CGNN/sD+OCOmsXbKWejVK2kvqep6jqGmpO1vLpfpetcm61ORZvrCl14xfXIzHwAoau
/L2yqWGjVsJ6rhA25qt8mp2WradpT3DTy6qJvRuRdanGsJt1V2LR/XJDLyUkCjpQ+OYHaOo/LYjk
ript02bxTVUv1e21LSNOn1O4u2uoLUCSW3juNThd0qAwWQ30oU06VQ5odP7ReJkEeCrPf+xzDhoc
0Wug62VBbUQjEVKCXVHAPhy+vpyp48R8sqPtOf8AU/8AZfsT4Pm8t/5xw03Urv8AL6Zobz6ukep3
iFfUvviIcEtSG7tkH2qfZJ71zN7Q7b/L5BDg4tgedc/gxhjsPQ+Op/p/9A/WG9f6r9e+vfWtT4en
6npel6H1yvLl8XP1fbj3yn/RD+68Tg/iqr8r7k+FvTtXXU9INj6tw13+kLqOxjC3Wpwem8wbhKSb
ybmqld0oK/zDL+ze2vzOXw+Hh277/QwzR4ImSNutG1m3tZrj9Iep6KNJ6fq6onLiCePL6+3GtOtD
8s6Pw3XDW+SWWMuqajZwX8Fw1tBdxrNDA9zqczokg5KGkF7EGbid6KMujpbF23HPR5Kdld6ne3t9
YpK0Mmmukc07XepyLM0qCUFYxeR+mFR1G7tU16ZpO09d+WmIVxbe5EtRVbNXd7qdpqdjpjytNNqf
q+jci71ONYfQXm3KL645k5g0FHSnXfpmHDtm4Slw/TXXv+CBqbBNK97LqOmxJd3Vw9zbiaGOWGK5
1OFys0qxEq7XsoBXnX7O/Tbrjp+2PEmI8NX5/sWGps1S+2h1m4t4rgXfpCZFk9L19Uk48hXjz+vR
8qVpXiK+AyuXblGuD7f2IOq8l5s9bAJF6HI3CGfVEBPhy+vvSvjxPywDt3+h9v7EfmvJkulaRpmo
aXZ36vfxrdwRzrGdRviVEqB6E+t2rnQhzEgstN1e9t/rUd+YYpHf04ml1N2VVcqoZxqCcjQbniPl
nLan2hljySgIDY97eMVhQsLXWrzUtSsfr3pnTXjjaX1tUb1DLGJuQX6+vDirhaVapFdq0G/7M1H5
nCMhFXbg6nN4cq5obWTrem6rpmnC8Ep1MzUm9fVF9L6ugc/B9fbnyrT7S0982McVmmqGpMgdlR11
i3ltWmvPVhlurW3lRJtUjbjcXCQsVY37gEB6j4Tlk9MIi7bIZ7NUynWdJsNO0e+1BWvpWs7eW4WI
6lfKGMSF+PL1WpWnWmYU5UCe5yEq/QGtU/46Yr4epqn/AHkM5T/ROf8AU/8AZfsb/B80DoKajr2k
watb3DWENzy4W0l1qdyy8GKNWUXluDVlJHwdM67EOOIl3h1uXVcMiK5KLyan+lbrSVmZZrJY5Zbs
3epssizg8AsP1tShUo3I+o3bx2vx4OLqmOpsXSjfXmp6fJaRSyNcNqE62sDrd6nCIpGBfmym7l9R
eCN8IK7038KNcPAxGfOmQz7HZWv/ANMWFlcXz3hlS1jaZ40n1KN2WMFiFZ7ydA1BtyjYeIOc/j7b
4pAcHM9/7GA1Nnky60uLqfyrdfWpfXuIFvLaS4KqpkNtJJB6jKoChn9PkQoAqdhTN+5aZaT/AMcq
y/4wRf8AEBirynTdeGmIYfqF5ferBYS87KFplSunWycHb4QH+DlQV+Eg985rtXBxZr4ojYc3Czxu
XNS/TE3+ITrv6Lv/AEfqosfqf1Wb6xX1DKZacfR4dF/vOVf2aZi+FHwuHjjfFf2e5r4Rw1Y5t6j5
kXWre0+pafeiOKeG8W4eB3hcQ/vBGr24n+JiAnT4TXlQgjMjQ4hp84lOUdvNMYcJ3IRR88Q8/SXS
NTNxQn0Db/GAKUZkDF1QlqBuNDvSpU07TBrceUXD1BPB5hBaP5hXRNLtNKubC9lkgpBHPFbusUzF
qIIvrAgkZm5fY4V69QK5YMnCBYKZRsk2Edo+uTaPqWr6xeaVqH1XUhCwRbaQPAtshRmuDII4lU15
ArI232uOUTnZJaskRKgCFa+8wvqWs6PrNtpWo/VdMW4Zka1kLzi5RY1NuYxJGwAqxLOoI6E1zmu2
NZgzYTjjOIlfXyLm6PTzxysr9Z81R69pF5pVppmoxyTj6vLPJbM8cDchyEwhM0iso34ceVKGlCDn
NafRjFkhOU4Vz59Pk7Aysckt8x/nvonl7ULPS77y9rs2qXsbSw2lpZiRmWP7TIJJIWZRQ78fmBgx
dkSyAyjPHwjrZ/Uk5K6MY/IvWb3yl+X0kevaHqdp697dXqu9sY1WKUjh6jTGIKzcfhHeopUmmZva
WmGoz+icD6QOfcwgaG4ZsdduB5o/xB+h9T+rfUvqBtPqk31nl6vrepTj6Xp0+H+85V/ZpvmH+Xj4
HB4kOLivme6u5le/JZq/mQeYI9Mm0/Tb4w2N7Ffmdrd3ilW3DVjie3E4Z2Y8RWi9asKZuux+x82D
MMkq4a6OJqc8DExvdHX/AOYNrNBc2SaRqgumjaMxtbboXX4WlVGd0VuWx470NK0OdeLPIOqjhPOw
kun+Z49K06002fTr+R7SKO2SaO3dUnMYWNTEJvRkYt9rhx5AVPRSctnqI4oXPYByJQsk2Flhrraf
qGp6jPpt96GpSRSgC3kQwCKNYW+sNKIolFED8ldgAfiIpnI9rShqsoOOUeVbsZRugCFl1rrajqmk
6zb6bf8A1bTxMxja2lMk63UYRTBwV4yF+0ebrt0rmBDAIwlEzjZrr3H3KI0CLCvfeZ4NatvqVtYX
0f8ApEHrXD27vHEYZ0kkWT0PWdXCp9jjWtK064cGnGLJGUpRrnz/AGLCHCQSQr2XnCOG1htpdK1A
XESRxmL0lDuSrbxRu6SOv7ttwm3emVnRGVyEoVfex8K97Cu/nIqjEaHq1QCRW1oPwY5EaP8Apw+a
+H5h6H5dtxb+X9MtxKk4htIIxNEeUb8Y1HJD3VqVBzsxydkwjTtY81W9sYLLy+L6zjlmWC8F5FF6
qCVgH9N15LXwOcBrsGE5pXkrf+aXKiTXJCaTq/miPWdZlt9CFzdTyQve2gukj+qusQjRDI68JecS
LJVOnLidxnY9hxEdMBE8Q335dXVa8Az3NILzLqnmSbXdEnudGW1vLc3P1GxNyshuucYWWkqLwi9J
fi+P7XQb5uYE8Q2aMUY0d1b9J+ZJ7vTor3RRZWzahYc7n60kvGl5EVHBF5HkwC/Tl2WR4Ts24wOI
bvRPNo5eVdZHIJWxuRyavEfuW3PEM1PkDmsyC4n3OcGO/wCLLmlf8PatTr/dQf8AVbPNvysf9Uh/
sv8AiXL4vJJfJGuzWHliys49LvdRSIPS8skUwPzdpPgM7QOePLi1UHxA56dp9scR5B0GohczuELJ
rsq+ZtRu/wBF3jvcxwRNZLGv1iEQKSHlBYRBZfWPDjIa8W8DTMwy3OzKEPSNwhta1qS4m02STT7u
0+pXa3SpcIOU5CtF6MAiMvKUiXmFamynwzD7XHHp5Dl5nkzEdjuiNU8zi9027s/0XqNp9ahkhN1d
W5jgi9RSvqSuC3FErVjTYZxmDS+uPrhzHVhHHuNwz2w/5RnUv+M+q/8AUXPnYuxTXSf+OVZf8YIv
+IDFXmmg6tpdlC8V5eQW0jRWLqk0iRsUOm2o5AMRUVUivtnL9r4pSzWATsHB1ESZJmfMvlwCp1Wz
p/zERf8ANWavwMn80/Jo4D3MX8qebvKmieWtPsda1qx0u9VHZrW9uYbeUK8jMpMcrKwqrAjbpmXq
9NklkJEZHl0PcGzJCRPJQX8xPy//AMZ3Fx/ibSvQOnQxib69bcC4nlYqG50qAwNM6X2eiceOQmOH
1ddujIQlw8urvMX5ieQJbjQzF5m0qQRaraySlL62YIiluTtR9lHcnN3mnEjY9V4JUdujJPMv5nfl
rL5d1WKLzZo0kslncLHGmoWrMzGJgAqiSpJPbKDIOPDFKxsVvlz8zfy2h8vaXFL5s0aOWO0gSSN9
QtVZWWJQQQZKgg55hqNDnOSREJ/Uf4T3vRCQrmoeS/PvkafUPMEUPmLTJJJ9TkmhRby3LPH9XgXm
oD1ZaqRUbZPV6TNww9Etodx/nSWMhuxDzn5n8txf85BeR76XVrOOyh0+/Sa6e4iWJGkjkVFZy3EF
mNACd8zNNp8n5LJHhlZlHaixJHEGdfmBruiXnlHULa01C2ubhxGUhhmjkchJVdyFUkniilj4AE5h
9n6fIMwJjLkeh/mllMilef8AN38rreZ4ZfNelrLGeLr9aiNCOoqGIygdnagi+CXyKeMd7HPy+/Nn
8s7PyhYW135n06C4T1ecUlxGrDlM7CoJ8Dnp2A1AA9zoM+KRmSAhj+av5bf4t1e5/wAS6d9Xlgs1
il+sJxYp6vIA13pyFcy8M4i7LKGOXCNlDXfzS/Lia40gxeZNPcQ36SSlbhDxQRSAsd9hVhmD2z+8
05jHcshjlR2Revfmv+Wsuh6jFF5m055ZLWZURbiMlmaMgAAHqc43Bo8wyRJieY6MYY5WNkx8n+cv
KN35a0022tWMvpW0MUoW4iqjpGoZWHKoI8DlWfT5BM+k8+5jKBvkpeU9a0e3/TH1i+t4fX1O5ng9
SVE5xPx4yJyI5I1DRhscs1OGZ4dj9I6JnE7bdERLqumXHmqzmgu4ZYUiMbypIrIHcSFVLA05EISB
7YxxSGCVg/UP0rwnhLKMwWpOvJ//ACiWif8AMBa/8mVzv4cg7YJBpGr2NlYra3TPDcQvKskbRSAg
iRv8n7j3zgNdocxzSIiatzIyFITR9UtLfXNcuZxLFb3ssElpM8MyrKsdusTFCUoaOhH9hGdj2Fjl
j0wjIUbP3up18TKdjuQXme+guvMOgXtss01pYm6+uTpDMyRetEEj5sFoOTCgzd45DiDRixyAOypP
f293LYwWwkllN/YtwWKSvFLuJ3Y/DsFVSSewy7LkiYndtxwPEGaebgT5U1oAEk2FyAAKk/uW6AZq
so9B9znBKv8AFXlilf0xZU61+sxf81Z5n+Vy/wA2XyLmcQSD8v8AXNFsfKNhaXt/b2l1EJPUt55U
ikXnK7ryRyrDkrBhUdDXPUtLtij7g89qYE5DshX1vRl82ardNf24tZ4bSOC4MqCOR4RIZVR68WKC
VOQB25DxzNwyG7KETwjZD6zqmmX1/oUVldw3UkeopLIkMiyFYxDKhdgpNF5Oor4kZgduSB00mVGj
7k58yf8AKO6p/wAwc/8AyabODwf3kfeGqHMMjsP+UZ1L/jPqv/UXPneO1TXSf+OVZf8AGCL/AIgM
Vea6Hpun30BkvraK7eKGxiiadFkKRjTrZ+C8weK83ZqDuSe+cx2vmnHNQJAodXB1EiJc0z/w55e/
6tdp/wAiIv8AmnNX+ZyfzpfMtHHLveX6f5X8t3v59eYLW80q0ubWLRrV4reaCOSJHaQAsqMpUH3A
zYz1GQaWJEjfEercZngG/VkXm/yP5LgGjfV9B06D1dUtopfStYY+cb8uSNxUclbup2y/sTPOeoAl
IkV1KMc5b79Ez1LyB5EGnXRXy5pisIZCrLZwKwPE7ghAQflnbnHGuQUTPemHlP8AL3yFceVtHuLj
y3pc1xPZW8s00llbu7vJErMzMyEkknMMAU0ZMkuI7lC6Z5D/AC+XXfMC3Pl/Svq1tNbrCstpbmON
Xt0chAy8V5O5O2cX7RajLDOIwlIbdCR9zuNFvjBLF/PXlLyfZfmb+Wn6M0bT7aG7u79ZxbW0MaSq
tqGXmEUBwDuK5haPU5Tp8xlKRIEep23ciURYX/8AOSnlPyvH+UWtalFpFnFqFl9V+qXccEaSx+pe
wI/F1AI5KSDg7F1WWWpjEykQb6n+aVyRHC9I0vyx5aOmWhOk2ZPox1Jt4ifsD/JzWZNXm4j65c+8
sxEPNfyB8reSZvye8v32qaTp0tzci5Mt1dQQO7sLqVRV5FJPwqBmz7X1OYaqcYykAK2BPcGGMDhZ
dD5L8nnzvc2h0SwNommwzJbG2iMQlknkRnEfHiGKxqK07Z0Hs1llkwyMyZerrv0Dr+0SY1WyF8++
TvKVpbaQbTRbG2M+q2sE5htoo/UicsWjfgo5I3EVU7HOkjEWHCw5JEnfopeYPJ3lGHQdSmh0Swim
itZniljtoUdWWNirKyqCpB3BGZUsca5NsZm+apoHk7yjPoenTz6JYTTy20MksslrC7u7xhmZmZSS
STUk55tm1OXjl6pcz1LXKcrO7EPy28vaCv5h/mLajTrb6tBeWPoQGJCkfO2LNwUii1PhmTqs+Tws
Z4jZB6+bZkmeGO7Mb/SdLj8x6TZx2kUdncx3UlzaqirDI8IQRM8YHFinqvxJG1cohqMnhS9R5jr7
2AmeE7qHnnRdHtvK97PbWNvBOnphJYokRwHlVGAZQD8SsQfEHJaLPM5QDIke9OKR4huy/Ne0p15P
/wCUS0T/AJgLX/kyud/DkHbBN8kl2KuxV2KpT5uJHlTWiCQRYXJBBoR+5boRleU+g+5ISr/C3ln/
AKtFl/0jxf8ANOeZfmsv86XzLmcISH8v9E0a+8o6fdX1hb3d1IJBJcXESSyNwldF5O4ZjxVQo36C
mep6bfHEnuDz2pkRkO6FfRdHbzXqtm1jbtaW8NpJBbGJDFG8wkEjIlOKl/STkQN6DwzNwxG7KEjw
jdDazpmm2N/ocllaQ2skmopFI0MaxlkMMr8W4gVHJFND3AzA7ciBppMrNH3Jz5k/5R3VP+YOf/k0
2cHg/vI+8NUOYZHYf8ozqX/GfVf+oufO8dqmuk/8cqy/4wRf8QGKvLtLsNTu4+dlqT6akcFhG8cU
UcnqMNPt29RjMJKNRwvwUFFG1anOa7WyxGWjEHbz/QXC1EhxclLzInmbRtFudSTXpZ2gApE9vbAE
uwQbrHXYtX36e+YWnljnPhMB16y7ve1wMSapJ9R/KvzK3mqbzPo/nKfTNUurZLS8kaytrgSRxmq/
A9EWlB0X+OSGuhwcEsYMQb5lfFFUQlGmeTPzL80aLYahefmDKnGU3EMS6XZDhLC7xq3JOFfHfMka
zHpsp4Me468RZGcYmgFceVfzTvdT1PRpfzElEVvDCXkXSrFS63QkBHwgFePp9Qe/amdR2ZrJ6rGZ
H070kSjV0iR5a/NnSBpOm2v5jyi2uLhbKJTpFgfSX03cU5BiQoj4ha/qpmVPEYjmxlwGzw/ara1+
Vf5iQaZrF7c/mEb5JYjc3ltc6Lp80czWyl0qkvqIKUoCF228Bmv1HZ2LLLjkPUOtkfcQyxayqiBs
35c/KPzNfS+WvMGqecpJxpUBuNJsrbTbKzit3uohzosS8GHFqbpnE5e0sceOEcY9R3uUjdfb9ruB
A87R2r+Tdd/MPyvr/l7VPMk0Vqt49iStrbkN9UkSVJGCrG32lFQrDEarHpskJwxi+G+cut+a8JI5
sc0aL8z9A/NfTPI1955m1SxvdJkvRP8AULaJo/SdkVArevX+7+1Xv9OXTlp8mnlmGIAiVfVL9FIF
g1btU/JjzL5a8rJY6f5xE2hWNwosNMvtH0+9EP1u4WM8ZLlZW2MvI0Ar7VxxdpY82W5Y6mQbInIf
SL6e5TAgc2SR/ld+aMWoNqMf5mTLeNELcv8Aoex4+kpBVAleAAIqKDufE4dL2/HBHhx4qH9Y/pDX
l0wn9W6V6X5E/NDzfoOn6lf/AJjTIFmNxBCNJsaJLBKyI3JPT5fZ7jO5xkkA26iU4wkQI/ahJvJ/
5oX2qa1oFx+YcrW9rHFHI40mxUyJdRFmHwgFaDbY5kw45Xu2RnGgac3lP80tMudJ0m3/ADDl9C5L
wRk6TYn01hiMg+0GLbJx65oO0+zsGDGcnDxG+8jn8VJibNJhof5ea15Uj1zXG8z3F/qmot9d1OZr
a3QTfV1PFFQiQR/DVQV2G21BTNGNVDLKEDAcI2G56seMSIFbJ3YaFq2pWtjq82syi9eJZbeURRVh
WZKtGqgCNgQ1GLIa0B2oKVT1EImUBAVfeenxQZgWKRc3ljVLpBFf61JfWtQz2s1vbiNypqvP01jY
gMAaVp45HHq4wlxRhG/fL9aI5ADYCnd+W7iCzmlTUbhmijZlV7i9IJVSQGpcq33Gvvk46uBI/dw+
1IyDuD03SxCNMtBDEIYRDH6UK/ZReA4qPYDbOxdiisVY9eXmsT6xdWtrdJaW9okVB6QkdnkDMxLM
1KUoAAPHfwnCFuLnzmBoLtOvNXi1yGxu7pLqC4tZ5wfSEbq8EkKihVqEMJzWo7DGcaTp85mTaf5B
yUq81sF8rayxRZAtjckxvy4tSFtm4FGofZgffIZT6T7khjQ8oXnGh8y6v0pX1Lb/AKoZ5t+aj/qc
P9l/xTl8Pmk3krQJ9R8tWd7Fq17pkcoYLZWLoIE9NzGSouEuJPjKc2+PqTnp2n3xxPkHQaidTOwQ
r6DMfMuo2f6UvRJbRwStfCRfrEwnUgJKSpiKxeieHGNacm8TXMwx3O7KE/SNgoazor282nRyX91e
C8uktke4f47diDJ68Bh9HjKFiKAsG2Y9qg4fa54NPI/V5HkzjPY7K+q+WFs9Mu7w6pqF0LaF5vqt
zcNJBL6al/TlQBeUb0oy13Gcbh1YMx6Icx0/awjk3GwZ7Yf8ozqX/GfVf+oufOwdimuk/wDHKsv+
MEX/ABAYq8q03UNctVKabpX6ShaCweWX147fhIdOtgY6PyLfCqty2+1TtnNdq44HL6pUa7nCzgcW
5U9efzZrOk3Gmy6C1qk6/wB8l1bzMCh5qAhaEHkygH4thvv0zD04wwnxGf8AsT3NcOEG7TXT9V83
anZpfaZ5fS8spa+hcrepGr8TxaizRxyCjAr8Sjp4UOZo7Dkf4h8mz8qe9A+X4PNekW6eXrfRhe3V
kHaTlcRW78HYSB2X97GATKVAWVj8JJptl2fseU5mXFzZz05Ju0TBpHnyDVbzUx5f5yXyRRvbm7t1
WNbcNwIk5NzLmVqjgvGg6123PZeP8tjMTvun8vtVobUbrX5JNHuX0xPrENxPcxWUU4dzJYv9VmSV
3WGNADMaMheppQUqRsvEOTYBMdIZAgFG6j5m8z6hYXNg/ltoI7uJ4HnW7gkKLIpRnCH0+RUGoXkK
+IxOGfciPZswQbWaX5l81WGmWlgPLRmFpDHAJfrkCc/TQJy4/FxrStKnONyeyOaUieMbl2wEu5D6
Lq/mfSfr3DQGuf0hdy3z1uYIvTealYhRpOYXj9v4a/yjLdR7K5Z8NSHpiB8kASHRgmr+Y9fb/nIP
Qr9tDK3aaHPElj9aiPJPVkJk9WnEdelMsj7O5I4Dg4hxSlxWwN8XJn2t635n1jT3sZPL7WqM8cvq
rdQTHlA6zIvEmLZnjClq7CpoemVaf2Uy458RkOR+0EMyJHojj5z82UNPKxr2rfQf805R/oPzfzwn
1dyB8taxr+h6fZaL+hfUgWcQR381zFCCbmciMvFF9ZZfilC/CW8c7EYpQjuOTqs3Z8iTK1SGy84N
req6vZaKt4t9KIJFW5iijRrEtbng8lHkDMrfajSnbkN8cefhvZiNOQALWajZ+c/rFrq15ogtINJ9
Sd/9KhlUq6em7OyHmixxsz/BG5NKAZidpR/MYuAbJ/L7EWr/APO56zpfFPL/AAsdRhoLpLuB2EEy
/wB4sT+iSeDVCsV96ZosPYsoTEuLkbYx0xBu0PoFz5uaxFlYaALtNKY6fPKbuKI+rbfAQyMDuVCt
8LMu9ORIORydiylIniG57lOmJPNVvNc82WdzHaXHl5Uu5qNDB9djJdaMWYMEKALw35MDuKV3pjaj
srwo8Up7e5rng4RZKheat5ymtJ4V8tUMkbID9dgO7KR0oP15hxxYgfr/ANiWsRj3vTtGlgl0exlt
3MkElvE0MhHEsjICpKnpUds7UG3ZpZF5saZTJb6PfTQ8nVJlNoFcIxXkoe4VqGm1QD7ZqsvbenhI
xJNjybBjJY5L5i1p9f1FtK0OW7YLAl5DPPBbvBKFYqvIPMkgeNlf4TtWh3qBtNHqY5occN4l12sg
OIWaWR+a9TtPMdjLrOiTWkstvc29jbW80Fy07M0MshLl4UjEaw/tH4uW3TfJMTI0GOmMY2bZAPPE
QlgSbSb6BJ5obcSv9UKq08ixIW4XDtTk4rQHBLBICy5YyxJpMvM8cUnlrVo5ZfQiezuFkm4l+CmJ
gW4AqW4jeld8xsguJ9zYGJrr/nYqCfKpBpuPr9v/AEOed/l9N/qp/wBIf1uZZ7kD5ffzdoOkW+lQ
aA99Fbg8bl7m2t2YuxdgYw84FGYgfHuM67F7QaWERGzsO51mXQSlIm+aWtq2tnzBqNzFpJl1KRYY
b/TfWjUWyxJygf1yeEvrCVzRV+Hjvm97P1kc8OPHvH5NUsAxiiVO8vtWutR0hdT006bEl4jwN6sc
4kl4MoQlCCn7tnb7O9Oo709tGR00rDChRosg8yf8o7qn/MHP/wAmmzhcH95H3hphzDI7D/lGdS/4
z6r/ANRc+d47VNdJ/wCOVZf8YIv+IDFXnWgyy2lqPVtLxlnhsZYZIbS5nRk/R1tHUPDG6/bjYUrX
bOb7U0mXJluMSRTh58cjLYJkdUQCv1PUP+4dff8AVHNd/J+f+aWjwZdyI8g340fylYabqNpfQ3lu
JBLGLG7kA5yu4+KOJlPwsOhzs4jYOyCraalHH5svdSe1vhZ3ECwxSfUbwkvHwLAoIuQHxbEih3p0
OSSnf+JtO/3zff8AcPvv+qOKsQvluo30y8NleNA76wfgtZ5JFFzfJNDziRGkTnGpYclHvvmTppiJ
Nt2CQB3a+vn/AJYdR/7h97/1RzN8eHe5Pix73fXz/wAsOo/9w+9/6o4+PDvXxY97vr5/5YdR/wC4
fe/9UcfHh3r4se95nq93X/nIHQZPqt4KaHcD0zZ3QlP719xEY/UI9wtMpOWPiA3tTWZjjBt6Z9fP
/LDqP/cPvf8Aqjl3jw72zxY97vr5/wCWHUf+4fe/9UcfHh3r4se9Y0k93cWMMNjfc/r1nITJZXcS
BIrqOR2Z5IlRQEQnc5XmyxMSAWGTJExO7JtI1e3sbe4trm3vVlW9vW+Gyu5FKyXcroyukTKwZWBB
BzWuGt1/Wra+0LUbK2t757m7tpoIENjeIDJKhRAWaJVUcm6sQB3xVry7rlraeX9Mtbi3vknt7SCK
ZPqF6eLpGqsKiEjYjFUv8oaimn/pr65aX0X1zVbq7t/9BvG5QyFQjfDEaV4nY74qhvMd2115jsdQ
t7O+ktLeJopnFjdghpA5WiGLmR8O5AoNq9Rms7VwzyYqiLNtGeJMdmzqiAEmz1Hbw06+P6oc53+T
8/8ANLh+DLuZX5Ztp7Xy3pVtcIY54LO3jljPVXSJVYH5EZ2ceQdkGPaTqKWVitrcWt8s0LyK4Wxv
HWokb7LpEysPAg0OcJrezNRLNIiBIJcuMxSF0i9Ntret3U1lfpb30sElq/1G7PNY4FhaqrEWWjxn
ZgNtxsQc67sPFLFphGYqVn73Va6BnO47oLzNPPeeYNBvbawv5LWwN19bk+o3YKetEEjorRBmqw/Z
Bp3pm5hMCQacWKQBsKk88t1LZQw2V9z+vWLkvY3cahY7uJ3ZneJVUKqkkk5dlyxMSAW3HjkJDZmv
mW2nuvLuq21uhknns7iOKMdWd4mVQK+JOa2Y9JcwJQNetCARbahQ776dfD9cOedfyTqf5hczxI97
f6dtf+Wa/wD+4fff9Ucf5J1P8wr4ke9i0LXMXmbWtRewvxZ3/wBWFpILK6Yt6EXCSqLGXSjNtzA5
dq53ns7A4dPw5PTKy6/Vgylss1prq7n0t7fT9QdbO9S5uK2N2vGII8ZI5RLyPKRfhWppvSgOZna3
7zTyjDeTijHKjsi9auZLrR761gsb9p7i3liiU2F4oLuhVRyaIAbnqTTOOw9n5xMExPMMI4ZXyZTY
f8ozqX/GfVf+oufOwdimuk/8cqy/4wRf8QGKoC38ttaRLb6fql5Z2ce0Nqn1eRI17IhnhmcKP2V5
UA2FBiqp+htR/wCr9ff8BY/9k2Ku/Q2o/wDV+vv+Asf+ybFWIXPmq+hW5vkudXl8vWUskN1q6DTd
hCxSaeOD6v6jwRMrBmHxGhKqy0JlwmraTniJcLLl0i/ZQy6/fMrCqsEsSCD3H+jZFub/AENqP/V+
vv8AgLH/ALJsVd+htR/6v19/wFj/ANk2Ku/Q2o/9X6+/4Cx/7JsVd+htR/6v19/wFj/2TYq8m1zT
bwf85M+XITqt00jeXrlhclbX1FAmk+EAQCOnzSvvir1n9Daj/wBX6+/4Cx/7JsVd+htR/wCr9ff8
BY/9k2Ku/Q2o/wDV+vv+Asf+ybFXfobUf+r9ff8AAWP/AGTYq79Daj/1fr7/AICx/wCybFWOatqW
vRarLpOjXd9qd5axpNfO76fbQQiSpjjMhs5WaV1UsFC0AoWZaishElqyZow5ppoX1nWdLh1CDWtS
hWQukkEsdgJIpYZGimifjbsvKORGQ8WIqNiRkWwGxaP/AENqP/V+vv8AgLH/ALJsUu/Q2o/9X6+/
4Cx/7JsVd+htR/6v19/wFj/2TYq79Daj/wBX6+/4Cx/7JsVd+htR/wCr9ff8BY/9k2Ku/Q2o/wDV
+vv+Asf+ybFXfobUf+r9ff8AAWP/AGTYq79Daj/1fr7/AICx/wCybFXfobUf+r9ff8BY/wDZNirv
0NqP/V+vv+Asf+ybFXfobUf+r9ff8BY/9k2Ku/Q2o/8AV+vv+Asf+ybFXHRL9gVbXb8qdmAWzUkH
/KW3Vh8wa4qqXFja2Hl6eztU4W8FtIkalmc0CHdnYszMepZiSTud8VV9J/45Vl/xgi/4gMVVbu7t
LO1lu7yaO2tYFMk08zBI0RRUszsQFA8TiqC0XzP5e1wS/ojUYL4wcfXWFwzIHqULL9oBqGhPXCRS
AUzwJYX5MjQ+W/qMihls7i90+RSNmFtdSwVI/wAtU5fTmRHk6jOKmUy/LyV38k6NHIS01pbJZTsx
qTLZ/wCjSknx5xHKC7WJsWmPmLWI9F0HUNWkQyLY28k4iHV2RSVjX/KdqKPc5GRoWyYJe6FLo+nW
OsNeTy+ZlvbEXV/60hFxLdXUUEsBjZinoP6pRI6cU2K0Ycs4zRdp5surG/pkeXk5EoARemZ2jjux
V4/rv/rUfln/AMBy6/5PSYq9gxV2KsK8zWFprHnC20vVoxc6ZFp73UFhLvBLMZhHJI6H4ZDEvALy
+zzr1zm/aDVZcYiIExHl8W7FEFF+TJZbK91Ty5LLJNFp5hutNaZjI62V0GCRGRiWf0poJVFdwnEZ
seyNYc+ASl9Q2P49zDJGiyrNmwYd5WPrvreoH7V7q15WvX/Q2Gnj/hbMZfDk6nUm5o38vwW8vvdE
U+u31/cofGOS8lMLfTFwOUy5uzxiogeSeahqFhp1nLe6hcR2lnAvKa4mdY40XpVmYgDAzQWi+aPL
+tvNHpd7Hcy24Vp4RVZUV68GaNwrhWoeLUoe2EikAprgS7FXYq7FXYq7FXYq7FXYq7FXYqhNW/45
V7/xgl/4gcVdpP8AxyrL/jBF/wAQGKpD+ZFjcXHlv6xDE1z+jLm31Ca0UczNDbSB5VCA/E6JWSNe
7quTxyqQJYzFimM6hJKBY+aNEH1q8sV9aFYiP9Ms5QGmtwa0PqpRo67CQKelcz8sOOLh458JejaZ
qVlqenW2o2Mons7yJJ7eZejRyAMp39jmtc5jOij0Nf8AM1l0Vb6O6hTpSO5tIWY/7KdZTl2Pk6zW
D1IjyKTFFrWnEf7watdAHx+ucNR/7Hcrnzc3Tm4BZ53k+tXOiaEp/wB7rxbu6A6i204i4LfI3Agj
b2fNR21qPD00u+W3z/Y5OMWUPqqfXfMvl7S/2Fmm1S5Xs0VigRR9FzcwP9Gc97OYOLMZ/wA0fe3Z
jszLO2cZ2KvH9d/9aj8s/wDgOXX/ACekxV7BirsVYr5yT6rqvl7WB8Kw3b6fdP4QagnFR/sruK3G
aTt7Dx4Ce78fdbZiO6hfyfo/zZoepVpDdmbSbrbb/SFE1u7H/Jlt/TX3kzU+zWoqcsZ6i/l+PsbM
w2tl000cMMk0rcYolLux7KoqTnYuOSwTy9efor8t7bVblaSR6c2p3a/8WyRm6m/4d2zIGwdNIcU6
82U+VNMfSvK+kaZJ/eWNlb28h8WiiVGP0kZju5Yjr14PMPmj6sp56N5dkBYfsz6nSvyZbRG+XqN2
aPMvTY+pcbPPoq+WozqHniS9gX/RdFtJbO4uB+3c3bQy+gD3EUcQdx4uncHBqpAmk6eO1s+zFch2
KuxV2KuxV2KuxV2KuxV2KuxVCat/xyr3/jBL/wAQOKu0n/jlWX/GCL/iAxVF4q83ex/w55jk0anH
SdSMl3oh6LG9eV1Z/wCxY+rEP5SygUjzN02S/SXFzw6ojyjf/oHzBJoEx46VrDyXWjMfsxXZrJdW
g9pKNcR/89B0CjK9Rjo2zwzsUmkw9D8wbuv2b/SrYoNvtWdxOJD8yLpBv4ZXjaNaORXaGwtvO+sW
v2UvrO0vYx/NLG8tvOR/qosA+nBkG7LRy9NKFrJ+kvN+rajXlb6cqaTZnYjmv7+7dSP5neONveLO
K9pNTc44x/Dufi7TCNrVfLym786a3eEVi0+3tNNiJ/ZmYPd3FP8AWjmt/uzYezmHhwGX84/cwzHd
lmdC1OxV4/rv/rUfln/wHLr/AJPSYq9gxV2Ksf8AP1nPd+TtWW2XleQQG7sh/wAvNoRcW/8AyViX
KNVjE8cgeVJid0u1q3bXPK8h05x688Ud5pcrfZFxEVuLVz7LKiMc860eY6fPGR/hO/3H7HLkLDfm
fXIdW/LK4v7ItH+nLOO1tP545dTK20YanRkknAYdiM9Nju4GQ0CVPzrFGfK1xYKoWK/e20zgNhxv
riO0p22pNl8uTq8AuYTDzz5iudJ0uO204qdd1RzaaUrDkEkKkvcOv++4EBkbx2XqwyrHDiNO1nKh
bEZ0bQ9Hs9J0hfW1O6cWmmJMSxluZeUjzzEbsFo88zdSAx65sJyEIuFGJnJ6B5d0K10LR7fTLZmk
WIFpbiSnqTTSMXlmkI6vJIxZvc5rSbc8BMsCuxV2KuxV2KuxV2KuxV2KuxV2KoTVv+OVe/8AGCX/
AIgcVYzrPmDWLG20LS9I+rxXuoWzzfW7xHmhjjtkiDKIo5IGd3MwoPUWgDHtTMPW6vwIcVXu15cn
CLUrDz5e6fKlt5vhhtI5CFh1u15fUWZjQLOshZ7Uk9CzMh/nBIXKdJ2nDNtykxx5hJO/N3l867ok
ltBIsOoQstzpd0wqIruLeJzTfgfsyAfaQsvfNnGRBsNpFimE8YfMvl9S/OyuuQNVIM1lf2slDQ7j
1Le4jp4EjuDmz2nH3uBvGSiPzA09/NWirrsyWOuWmm6nb31ggZ2klaewZJLaIBpZI5ljZo+IPRlP
xI1MHh4JUW3UAziK70Vr3mLVE1PTtd0DQdU1G5s47u1kt3s57UPDdRq4P+krCwpc20HLavDkQD0M
ckgRsjTYpRO/JOvJkDW2gQWrxXKzw1a8nuoHgae5mYzXE4V/9+TSM3055v2pgzjKZ5BXF8ftdvAi
tkb5CUvp+p3zf3t7qt+ZK7/7yztYpv8A8Y7Rc7TsrGIaaA8r+e7jzO5TrVdY0rSLNr3VLuKztVIU
zTOEUsfsqK/aZuyjc9s2FMGOH8zNHJ5x6dqslp3uhZSqKdz6L8bk/RFXwy3wJ1dNnhS7mCXWp6fq
n/OSnlLUNPnS5srnyzdPDPGaqw9eQfQQdiDuDscqa2f3n5i6ZHeT2unWF7rBtXeK5mskhWFJYzxe
MS3MtukjK2zemWoag7gjLY4ZSFgM445HkjNE87+XtXu/qEMz22qcS/6OvI2t7gqv2mjWQASqvdoy
yjxyEomPNiYkc0/yBF7IYP5JLW/k+zt+DyNpaS2DIgLOTp8j2pAHdj6P055xqsEjqJRAsk/fu5kT
sx1U8yLfQ6ePL2ot5ei1VtZRisHNeSPKbbh6m9L5/XVq9Ph7DO97NjkhijHJ9Udv1OBqYmQIijvN
nnTQorWw/SX1nTI49Rspphf2txbJxhuUk+GR0EchUorcUZjmwlIEOFgwyjOyHaeL3VdWn8zapE0F
xcJ6Gl2Ugo9pY15BGHaWZgJJfD4U34A5mYMXCN+bPLk4imfkSzGq6ndeaJd7aP1NO0RT09JHpdXA
/wCM00fFT/IgI+2cxc+Til5ByMMKCbeY/Olrpdz+jLGA6rr7oHTTYmCCNG2WW6mIZYIz2JBZt+Cs
QRmBqNVDCLkWU5iI3SS18zec7TVdNXV5tOubTUrpbQ2lpbzQyxGRXZWSWSeYS8OPx/u1+EFhSlDh
aPtPxsnDw1s1Y8/Eapn2bVyHYq7FXYq7FXYq7FXYq7FXYqhNW/45V7/xgl/4gcVSq88uWGveXbC3
umkhlgjims7yBuE8Ewi4iSNqEV4sQQwKsCQwINMhkxxnExkLBQQCKLFrqfUdGmGm+aEjktbk+haa
0i0tLgv8KxXCEt6EzV48WPBz9lqngOZ1vZcsXqhvH7Q4OXAY7jk3p41zyuQNDX9IaGux0CVwrwj/
AJcZnNFA7QSHh/K0Y2Nmi7XMfTk3Heyx6itilVrdXnmLzvqun+WfX0+xuoYLzWbu5tpI5LG6IaKS
OJJV9J5po44mT7SCjyHlUBun0+rBhcTYLeYCZt6PoHlXQtBjkGm2qxzz0N1eOTJczsP2pp35SSHw
5HboKDATbaBSbYEuxVguleaLHy95NLzIZr1dRv7K206IqJri7F7OBGgYj7QHqFjsE+M7YYQvYJAJ
KU2um3t1fLrWvyLea0Q3oqtTb2aP1htFbpts8hHOTvQcVXaYcIgPNzceMR966wi1bzTPJDo0v1LR
onaK710AMzuhKvFYqwKsykUaZgUU7AO3LjVm1NbRYZM1bBjx0LTND/5yR8q6bpsZjtY/Lt6/xu8j
tJLcyySSO8hZ2d3YsxJ3JzAJtxCWX6z5Iv8ARDLqPlNDNaEtLd+XGaiMWJZ3sXY0hkJNfTP7tj/I
SWzIw6gx2PJux5SOaXU0XzJpgbeWJXNGHOG4t7iI0ND8MsE0TD2ZTmeRGY8nLoSCfeUfM2oRXy+X
tfm9a7YM2lamVCfW41BLRyhQqLcRruQuzr8agUYLrc2EwPk4WTHwnyTDyCVfy6bhAPRur/U7q3Yd
HhuNRuJopB7PG6sPnlAiBya2R4VWTQwzxPDNGssMilZI3AZWUihDA7EHFXmXnXypf+XNKvLzyzI0
GjSRut9YDlJ9QV9mvbFaOeMIJZrcDjQVQAgq90MxiKapYgTaKTXdQ1DS7XS/KUDaH5dhgjit9VmQ
C4aBFCotnbSA8BwA/eTrUf77P2s0Os7WjC4w3l9jDJqANghY20/RGTRtFs3vtZuyZxZo5eaVmNGu
by4fkVWo+KWUknovJqLmlw4MuqnZ+bjRhLIWT+XPJstreJrOt3Iv9bVWWERgra2ivsyW0Z3JI2aV
6u3bip450+l0cMAqPPvc3HjEeTKcy2x2KuxV2KuxV2KuxV2KuxV2KoTVv+OVe/8AGCX/AIgcVdpP
/HKsv+MEX/EBiqreWdpe2stpeQpcWs6mOeCVQ6OjChVlaoIPvirz/VNLvvJxNxGz3nlGo9QuWkuN
NXpyLGrS2i9yfji6nkn2NHr+yhP1Y9pdzi5cF7hnOlafYWdsTZpGBct680sYH72RlVfUJH2iVVRX
wAza6bAMWMQ7nIhHhFI3L2TsVdirHdT8naPJfza1a2ca6xID6lwB8TgqqsPAFliQEjrxFegpfp8g
jLdtxT4TuxSWxn8wa0vlyF3hs0iW5124QlXFs7MkdtGw3V7lkcFhuqK1KMUOZWpy8Iocy35slCg9
ItbW1tLWK1tYkgtYEWKCCJQiIiCiqqigAAFABmucN5Jrv/rUfln/AMBy6/5PSYq9gxVgHnzSRoty
/m+xHG2HFfMluK8XtwOIvAOgktxQyN+1EDWpVMydPl4TR5N2LJRTGy8s6frEBGq20d1YhgywSqGV
nQ8lah/lYVB8cv1WUAcLbnntTKba2t7W3itraJYbeBFjhhjAVERBxVVUbAACgGa9xFXFXYq0QGBB
FQdiDiQrz+/guzq3+F/K8cUTWscYursp/o2nQMo9NPTWgeYp/dwgii/E1F4hue/kcyzEyPo5+Z/H
e4n5e5b8mV+XPLOmaBZtBZhpJpm9S9vpjzuLmWlDJNJtU+AFFUfCoCgDN9jxxgOGIoBygABQTbJp
dirsVdirsVdirsVdirsVdirsVQmrf8cq9/4wS/8AEDirtJ/45Vl/xgi/4gMVReKtEAih3B6jFWM+
SZPqMd55WlNJtBcR2gPVtOmq1k426IitAT/NG2KsnxV2KuxVokAVOwHU4qxryKi3FpqGvBQo169k
vICB1tUVbe1cf5MsMKy/7M4SbSSybAh4/rv/AK1H5Z/8By6/5PSYq9gxVSura3uraa1uEEtvOjRT
RNuGRxxZT7EHFUh8gzv/AIbg02c1vdEZtKvK1qXtKIshqB/fRcJh7OMSbVkeKuxV2KoPWNVs9I0q
71O9Yra2cTzTFRyYqgrRVG7MeiqOp2xVL/J2m3lloiSaggTVdQke/wBTQHlwuLk8zEGH2hCvGJT3
VRiqeYq7FXYq7FXYq7FXYq7FXYq7FXYq7FUJq3/HKvf+MEv/ABA4q7Sf+OVZf8YIv+IDFUXirsVY
35ssry2mtfM2mRNPf6UrrdWce73djJQzwqO8iFRLD/lLwqA7HFU707UbHUrGC/sJluLO6RZbeeM1
V0YVBGKonFXYqxTzFdSa/dSeVdMkPpNRfMV9GaC2t2FTbKwP+9Fwvw0G8aEuaEx8lWUQwxQxJDCi
xxRqEjjQBVVVFAqgbAAYqvxV4/rv/rUfln/wHLr/AJPSYq9gxV2KsV16O50DV28z2kTz6fOiw+Yb
SJS8npx/3V7Ei1LvCCVkUDk0dKVMaqyrJLO8tL21iu7OeO5tZ1DwzxMHjdTuGVlqCDiqtirsVYlO
480+Y0tIjz8v6BcCW9kG6XOpQmsUA8VtHAkkp/u3iv7DjFWW4q7FXYq7FXYq7FXYq7FXYq7FXYq7
FXYqhNW/45V7/wAYJf8AiBxV2k/8cqy/4wRf8QGKovFXYq7FWOS+WdTs72a68uakmnJdu0t3YXVu
13aNK5LPNHGsts8Ujk1fjJxJ348iSVWm0DzXeP8A7kvMZigG3o6TaJZ8/wDjJJcPfSf8i2Q4qvPk
bSHB9a71WYn7RbVdRUEeBSOdEp/sd++Kpvpul6dplmlnp1tFaWsdSkEKBEBJqTRe5O5PfFUVirsV
YBqfkbWrn869G85xtD+h7DSJ9PnUuRN60kjsvFONCtG68sVZ/irsVdirH5/InlmSeWeG3msJbglr
htOurrT/AFGbcu4s5YAzH+Y74qtbye8BD6TrWp2Mo6iW5fUI39nS/Nyaf8Y2Q++KrJdC84XsZttQ
8wxRWj7SHS7JrO5ZNqr68txd8OXTkiKwr8JU0IVT2wsLOws4bKyhWC1gUJDCgoqqMVRGKuxV2Kux
V2KuxV2KuxV2KuxV2KuxV2KoTVv+OVe/8YJf+IHFVCwnvILG2hewn5xRIjUaAiqqAf8AduKq/wBd
uf8Algn/AOCg/wCquKu+u3P/ACwT/wDBQf8AVXFXfXbn/lgn/wCCg/6q4q767c/8sE//AAUH/VXF
XfXbn/lgn/4KD/qrirvrtz/ywT/8FB/1VxV3125/5YJ/+Cg/6q4q767c/wDLBP8A8FB/1VxV3125
/wCWCf8A4KD/AKq4q767c/8ALBP/AMFB/wBVcVd9duf+WCf/AIKD/qrirvrtz/ywT/8ABQf9VcVd
9duf+WCf/goP+quKu+u3P/LBP/wUH/VXFXfXbn/lgn/4KD/qrirvrtz/AMsE/wDwUH/VXFXfXbn/
AJYJ/wDgoP8Aqrirvrtz/wAsE/8AwUH/AFVxV3125/5YJ/8AgoP+quKu+u3P/LBP/wAFB/1VxV31
25/5YJ/+Cg/6q4q767c/8sE//BQf9VcVd9duf+WCf/goP+quKu+u3P8AywT/APBQf9VcVd9duf8A
lgn/AOCg/wCquKu+u3P/ACwT/wDBQf8AVXFXfXbn/lgn/wCCg/6q4q767c/8sE//AAUH/VXFXfXb
n/lgn/4KD/qrirvrtz/ywT/8FB/1VxVQv57yexuYUsJ+csTotWgAqykD/duKv//Z</xapgimg:image>
    </rdf:li>
   </rdf:alt>
  </xap:thumbnails>
 </rdf:description>

 <rdf:description rdf:about="uuid:4dd77512-294e-11df-b0f4-001f5b3c2ba8">
  <xapmm:documentid>uuid:db0c57f4-dad3-11dc-b3c0-003065732f80</xapmm:documentid>
 </rdf:description>

 <rdf:description rdf:about="uuid:4dd77512-294e-11df-b0f4-001f5b3c2ba8">
  <dc:format>image/svg+xml</dc:format>
  <dc:title>
   <rdf:alt>
    <rdf:li lang="x-default">keyboard.ai</rdf:li>
   </rdf:alt>
  </dc:title>
 </rdf:description>

</rdf:rdf>
</x:xmpmeta>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
            </metadata>
        <g transform="translate(275 25.452)"><path d="m104.83 115.39c6.404-2.645-8.252-81.105-10.439-94.6-3.708-22.874 20.403-27.359 24.219-4.037 2.169 13.249 13.406 91.545 19.883 92.723" fill="#cff" ns:knockout="Off"></path><path d="m77.572 137.87c6.351-6.543-36.331-73.707-43.051-83.852-10.573-15.957 10.541-26.844 19.885-13.199 5.886 8.594 44.021 77.211 50.424 74.564" fill="#c0dbfc" ns:knockout="Off"></path><path d="m61.288 163.93c-12.38-12.268-42.161-34.516-50.955-40.324-16.419-10.842-8.151-28.834 9.289-19.791 11.855 6.146 51.601 40.602 57.951 34.057" fill="#befc75" ns:knockout="Off"></path><path d="m180.69 146.27c2.476-0.215 5.742-3.523 10.661-9.414 26.474-31.705 55.667-34.346 63.162-17.869-17.557 10.336-45.352 33.574-50.785 56.691" fill="#e9befc" ns:knockout="Off"></path><path d="m138.49 109.47c6.477 1.178 26.692-67.762 31.054-82.859 5.918-20.479 27.516-13.883 22.155 6.934-3.078 11.955-15.788 56.023-17.843 84.938" fill="#ff6" ns:knockout="Off"></path><path d="m71.329 145.83c21.224-35.646 55.968-37.51 81.838-34.816" fill="#fff" stroke="#000" stroke-linecap="round" stroke-linejoin="bevel" stroke-width="2.2742" ns:knockout="Off"></path><path d="m203.41 176.23c-4.001 17.025-13.369 32.77-24.92 43.295-12.778 11.641-27.906 5.285-41.088 9.52-9.404 3.021-17.9 6.805-28.715 3.371-16.236-5.16-38.154-46.174-42.324-61.123-2.028-7.266-45.412-39.908-56.348-47.131-16.419-10.84-8.151-28.834 9.288-19.791 11.856 6.146 51.603 40.602 57.953 34.059 6.351-6.545-36.33-73.709-43.052-83.854-10.573-15.957 10.54-26.844 19.885-13.198 5.885 8.593 44.021 77.212 50.424 74.565 6.404-2.646-8.252-81.106-10.44-94.601-3.708-22.874 20.403-27.36 24.22-4.038 2.168 13.25 13.406 91.547 19.882 92.723 6.477 1.178 26.693-67.762 31.055-82.859 5.918-20.478 27.515-13.883 22.154 6.934-3.876 15.059-23.037 81.07-16.934 103.57 3.519 12.973 6.746 11.52 16.583-0.262 26.473-31.705 55.666-34.346 63.162-17.869-17.557 10.335-45.353 33.575-50.785 56.691z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="bevel" stroke-width="2.2742" ns:knockout="Off"></path></g><g transform="translate(-275.39 26.165)"><path d="m425.07 115.77c-6.403-2.646 8.252-81.105 10.439-94.6 3.707-22.875-20.402-27.36-24.219-4.038-2.17 13.249-13.407 91.546-19.884 92.724" fill="#cff" ns:knockout="Off"></path><path d="m452.33 138.26c-6.352-6.543 36.33-73.709 43.051-83.852 10.572-15.957-10.541-26.845-19.885-13.199-5.885 8.592-44.021 77.211-50.424 74.564" fill="#c0dbfc" ns:knockout="Off"></path><path d="m468.61 164.32c12.381-12.268 42.16-34.516 50.957-40.324 16.418-10.842 8.15-28.834-9.289-19.791-11.855 6.146-51.602 40.602-57.951 34.057" fill="#befc75" ns:knockout="Off"></path><path d="m349.21 146.65c-2.476-0.213-5.742-3.521-10.661-9.414-26.474-31.703-55.667-34.346-63.162-17.867 17.557 10.336 45.352 33.574 50.786 56.691" fill="#e9befc" ns:knockout="Off"></path><path d="m391.41 109.86c-6.477 1.178-26.692-67.763-31.054-82.86-5.917-20.478-27.515-13.882-22.155 6.934 3.078 11.954 15.788 56.024 17.843 84.938" fill="#ff6" ns:knockout="Off"></path><path d="m327.84 175.51c4.001 17.025 13.369 32.77 24.919 43.293 12.779 11.641 27.907 5.285 41.089 9.52 9.405 3.021 17.901 6.807 28.714 3.371 16.238-5.16 38.154-46.172 42.324-61.123 2.029-7.266 45.414-39.908 56.35-47.131 16.418-10.84 8.15-28.834-9.289-19.791-11.855 6.148-51.602 40.602-57.951 34.059s36.33-73.709 43.051-83.852c10.572-15.958-10.541-26.846-19.885-13.199-5.885 8.592-44.021 77.211-50.424 74.564-6.403-2.646 8.253-81.105 10.439-94.6 3.707-22.875-20.402-27.361-24.219-4.039-2.169 13.25-13.406 91.547-19.883 92.725s-26.692-67.764-31.054-82.861c-5.918-20.477-27.516-13.882-22.155 6.934 3.877 15.059 23.037 81.072 16.934 103.57-3.519 12.971-6.746 11.518-16.583-0.264-26.474-31.703-55.667-34.346-63.162-17.869 17.557 10.337 45.352 33.576 50.785 56.693z" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="bevel" stroke-width="2.2742" ns:knockout="Off"></path><path d="m459.92 145.12c-21.223-35.648-55.966-37.51-81.839-34.818" fill="#fff" stroke="#000" stroke-linecap="round" stroke-linejoin="bevel" stroke-width="2.2742" ns:knockout="Off"></path></g>
        
    <text transform="translate(-4,18.354)" fill="#000000" font-family="Tahoma" font-size="13.333px" style="line-height:1;shape-inside:url(#rect109);white-space:pre" space="preserve"></text><text x="74.959618" y="20.693985" fill="#000000" font-family="Tahoma" font-size="13.333px" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="74.959618" y="20.693985"><tspan x="74.959618" y="20.693985" font-family="Tahoma" font-size="13.333px" style="line-height:1">May</tspan></tspan><tspan x="74.959618" y="35.762753"><tspan x="74.959618" y="35.762753" font-family="Tahoma" font-size="13.333px" style="line-height:1">60</tspan></tspan></text><text x="151.14308" y="7.6939859" fill="#000000" font-family="Tahoma" font-size="13.333px" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="151.14308" y="7.6939859" style="line-height:1">June</tspan><tspan x="151.14308" y="22.762749" style="line-height:1">91</tspan></text><text x="214.66582" y="42.130184" fill="#000000" font-family="Tahoma" font-size="13.333px" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="214.66582" y="42.130184"><tspan x="214.66582" y="42.130184" font-family="Tahoma" font-size="13.333px" style="line-height:1">July</tspan></tspan><tspan x="214.66582" y="57.198948"><tspan x="214.66582" y="57.198948" font-family="Tahoma" font-size="13.333px" style="line-height:1">121</tspan></tspan></text><text x="230.51364" y="110.2179" fill="#000000" font-family="Tahoma" font-size="13.333px" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="230.51364" y="110.2179"><tspan x="230.51364" y="110.2179" font-family="Tahoma" font-size="13.333px" style="line-height:1">August</tspan></tspan><tspan x="230.51364" y="125.28667"><tspan x="230.51364" y="125.28667" font-family="Tahoma" font-size="13.333px" style="line-height:1">152</tspan></tspan></text><text x="501.76001" y="115.98518" fill="#000000" font-family="Tahoma" font-size="13.333px" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="501.76001" y="115.98518" font-family="Tahoma" font-size="13.333px" style="line-height:1"></tspan></text><text x="287.47159" y="108.20547" fill="#000000" font-family="Tahoma" font-size="13.333px" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="287.47159" y="108.20547" style="line-height:1">September</tspan><tspan x="287.47159" y="123.27423" style="line-height:1">183</tspan></text><text x="317.61273" y="42.130184" fill="#000000" font-family="Tahoma" font-size="13.333px" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="317.61273" y="42.130184" style="line-height:1">October</tspan><tspan x="317.61273" y="57.198948" style="line-height:1">213</tspan></text><text x="381.24997" y="8.1301823" fill="#000000" font-family="Tahoma" font-size="13.333px" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="381.24997" y="8.1301823" style="line-height:1">November</tspan><tspan x="381.24997" y="23.198946" style="line-height:1">244</tspan></text><text x="459.61121" y="21.130182" fill="#000000" font-family="Tahoma" font-size="13.333px" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="459.61121" y="21.130182" style="line-height:1">December</tspan><tspan x="459.61121" y="36.198944" style="line-height:1">274</tspan></text><text x="501.9632" y="85.693985" fill="#000000" font-family="Tahoma" font-size="13.333px" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="0" y="-0.15816404"><tspan x="501.9632" y="85.693985" font-family="Tahoma" font-size="13.333px" style="line-height:1"></tspan></tspan><tspan x="0" y="13.175136"></tspan><tspan x="501.9632" y="85.693985" font-family="Tahoma" font-size="13.333px"><tspan x="501.9632" y="85.693985" style="line-height:1">January</tspan><tspan x="501.9632" y="100.76275" style="line-height:1">305</tspan><tspan x="501.9632" y="115.83151" style="line-height:1"></tspan></tspan><tspan x="501.9632" y="115.83151" font-family="Tahoma" font-size="13.333px"><tspan x="501.9632" y="115.83151" style="line-height:1">February</tspan><tspan x="501.9632" y="130.90027" style="line-height:1">336</tspan></tspan></text><text x="515.56207" y="226.96729" fill="#ffffff" font-family="Tahoma" font-size="13.333px" stroke="#000000" stroke-linejoin="round" stroke-width=".378" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="515.56207" y="226.96729" font-family="Tahoma" font-size="13.333px" style="line-height:1"></tspan></text><text x="21.274513" y="86.13018" fill="#000000" font-family="Tahoma" font-size="13.333px" text-align="center" text-anchor="middle" style="line-height:1" space="preserve"><tspan x="0" y="-0.075284496"><tspan x="21.274513" y="86.13018" font-family="Tahoma" font-size="13.333px" style="line-height:1"></tspan></tspan><tspan x="0" y="13.258015"></tspan><tspan x="21.274513" y="86.13018"><tspan x="21.274513" y="86.13018" font-family="Tahoma" font-size="13.333px" style="line-height:1">March</tspan></tspan><tspan x="21.274513" y="101.19894"><tspan x="21.274513" y="101.19894" font-family="Tahoma" font-size="13.333px" style="line-height:1">-1</tspan></tspan><tspan x="21.274513" y="116.26772"><tspan x="21.274513" y="116.26772" font-family="Tahoma" font-size="13.333px" style="line-height:1">April</tspan></tspan><tspan x="21.274513" y="131.33647"><tspan x="21.274513" y="131.33647" font-family="Tahoma" font-size="13.333px" style="line-height:1">30</tspan></tspan></text></svg>
<p>The finger🖐<a href="https://en.wikipedia.org/wiki/Mnemonic#:~:text=any%20learning%20technique%20that%20aids%20information%20retention%20or%20retrieval%20in%20the%20human%20memory">mnemonic</a> described above is similar to the <a href="https://en.wikipedia.org/wiki/Knuckle_mnemonic#:~:text=a%20mnemonic%20device%20for%20remembering%20the%20number%20of%20days%20in%20the%20months%20of%20the%20Julian%20and%20Gregorian%20calendars">knuckle👊</a>and <a href="https://en.wikipedia.org/wiki/Month#:~:text=this%20cyclical%20pattern%20of%20month%20lengths%20matches%20the%20musical%20keyboard%20alternation%20of%20wide%20white%20keys%20(31%20days)%20and%20narrow%20black%20keys%20(30%20days)">musical keyboard🎹</a>mnemonics. These mnemonics attempt to make sense of the irregular pattern of <a href="https://en.wikipedia.org/wiki/Month#:~:text=Name-,Number,of%20days">month lengths</a> in the Gregorian calendar. As opposed to months, we do not need mnemonics, tables, or mental calculations to use deks, because all of the required information is plainly visible in the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>.</p>
</section>
<section id="tod" class="level4">
<h4 class="anchored" data-anchor-id="tod">Time of day (tod)</h4>
<p>In addition to the dek and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span>, <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-year">doys</span> can also provide the time-of-day (<span class="under tool" data-bs-toggle="tooltip" data-bs-title="time-of-day">tod</span>). The dek, <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span>, and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="time-of-day">tod</span> are all just different parts of the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>. If we floor a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span>, ⌊<span class="cyan">d</span>⌋, we get its integer part, which is a floating🛟date that provides the dek and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-dek">dod</span>, and if we obtain the remainder after dividing a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-year">doy</span> or a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="day-of-era">doe</span> by 1, <span class="cyan">d</span> <a href="https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder">mod</a> 1, we get its decimal part, which is a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="time-of-day">tod</span>.</p>
<p>The combination of a <span class="under tool" data-bs-toggle="tooltip" data-bs-title="time-of-day">tod</span> and a Dec time zone <span class="lime">z</span> is called a Dec time: .<span class="cyan">tod</span>-<span class="lime">z</span>. Dec times can be appended to Dec dates to form Dec snaps🫰: <span class="yellow">year</span>+<span class="cyan">day</span>.<span class="cyan">tod</span>-<span class="lime">z</span>. The Dec snap🫰on the left side of the navbar of my site, <span class="yellow"><span><span id="ojs-element-id-95"></span></span></span><span><span id="ojs-element-id-96"></span></span><span class="cyan"><span><span id="ojs-element-id-97"></span></span></span>+<span class="wine"><span><span id="ojs-element-id-98"></span></span></span>🗓️<span class="cyan"><span><span id="ojs-element-id-99"></span></span></span><span><span id="ojs-element-id-100"></span></span><span class="lime"><span><span id="ojs-element-id-101"></span></span></span>🕓, multiplies the <span class="under tool" data-bs-toggle="tooltip" data-bs-title="time-of-day">tod</span> by 10, <span class="cyan"><span><span id="ojs-element-id-102"></span></span></span> × 10 = <span class="cyan"><span><span id="ojs-element-id-103"></span></span></span>, so it is in the same <a href="https://en.wiktionary.org/wiki/deciday#:~:text=One%20tenth%20of%20one%20day">deciday</a> units as the time zone.</p>
</section>
<section id="next" class="level4">
<h4 class="anchored" data-anchor-id="next">Next</h4>
<p>After reading this article, you should be able to understand the examples in the <a href="../../quarto/filter">filter</a>, <a href="../../quarto/script">script</a>, and <a href="../../quarto/include">include</a> articles in the <a href="../../quarto">Quarto section</a> of my site. To see the full extent of the benefits that Decalendar can provide, I recommend that you continue on through the <a href="../../dec">Dec section</a> of my site to the <a href="../../dec/time">time</a>🕰️, <a href="../../dec/iso">ISO 8601</a>🌐, <a href="../../dec/snap">snap</a>🫰, and <a href="../../dec/span">span</a>🌈articles.</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div id="navchart">
<div>
<pre class="mermaid mermaid-js" data-label="navchart">%%{init: {'theme': 'default', 'themeVariables': { 'fontSize': '24px'}}}%%
flowchart LR
   A[Dec]--&gt;B[date]--&gt;C[time]--&gt;D[iso]--&gt;E[snap]--&gt;F[span]
   click A "/dec"
   click B "/dec/date"
   click C "/dec/time"
   click D "/dec/iso"
   click E "/dec/snap"
   click F "/dec/span"
</pre>
</div>
</div>
</div>
</div>
</section>
<section id="cite" class="level4">
<h4 class="anchored" data-anchor-id="cite">Cite</h4>
<p>Thank you for your interest in Dec.&nbsp;You will find citation information for this article below. Please note that the original source of the algorithms underlying the conversion of Dec <span class="yellow">year</span>+<span class="cyan">day</span> dates and <span class="under tool" data-bs-toggle="tooltip" data-bs-title="days-of-era">does</span> is <a href="https://howardhinnant.github.io">Hinnant, Howard</a>. <span class="tool" data-bs-toggle="tooltip" data-bs-title="2021-09-01"><u><span class="yellow">2021</span>+<span class="cyan">184</span></u></span>. “<code>chrono</code>-Compatible Low-Level Date Algorithms.” <span class="yellow"><span><span id="ojs-element-id-104"></span></span></span>+<span class="cyan"><span><span id="ojs-element-id-105"></span></span></span>. <a href="https://howardhinnant.github.io/date_algorithms.html" class="uri">https://howardhinnant.github.io/date_algorithms.html</a>.</p>
<div class="cell hidden">
<div class="sourceCode cell-code hidden" id="cb6" data-startfrom="551" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 550;"><span id="cb6-551"><a href="#cb6-551" aria-hidden="true" tabindex="-1"></a>unix <span class="op">=</span> {</span>
<span id="cb6-552"><a href="#cb6-552" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span>(<span class="kw">true</span>) {</span>
<span id="cb6-553"><a href="#cb6-553" aria-hidden="true" tabindex="-1"></a>    <span class="kw">yield</span> <span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()<span class="op">;</span></span>
<span id="cb6-554"><a href="#cb6-554" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-555"><a href="#cb6-555" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-556"><a href="#cb6-556" aria-hidden="true" tabindex="-1"></a><span class="co">// http://howardhinnant.github.io/date_algorithms.html#civil_from_days</span></span>
<span id="cb6-557"><a href="#cb6-557" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">unix2dote</span>(unix<span class="op">,</span> zone<span class="op">,</span> offset <span class="op">=</span> <span class="dv">719468</span>) {</span>
<span id="cb6-558"><a href="#cb6-558" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> [(unix <span class="op">??</span> <span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()) <span class="op">/</span> <span class="dv">86400000</span> <span class="op">+</span> (</span>
<span id="cb6-559"><a href="#cb6-559" aria-hidden="true" tabindex="-1"></a>    zone <span class="op">=</span> zone <span class="op">??</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="fu">round</span>(</span>
<span id="cb6-560"><a href="#cb6-560" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">new</span> <span class="bu">Date</span>)<span class="op">.</span><span class="fu">getTimezoneOffset</span>() <span class="op">/</span> <span class="dv">144</span>)</span>
<span id="cb6-561"><a href="#cb6-561" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">/</span> <span class="dv">10</span> <span class="op">+</span> offset<span class="op">,</span> zone]</span>
<span id="cb6-562"><a href="#cb6-562" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-563"><a href="#cb6-563" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">dote2date</span>(dote<span class="op">,</span> zone <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb6-564"><a href="#cb6-564" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> cote <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((</span>
<span id="cb6-565"><a href="#cb6-565" aria-hidden="true" tabindex="-1"></a>      dote <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">?</span> dote</span>
<span id="cb6-566"><a href="#cb6-566" aria-hidden="true" tabindex="-1"></a>      <span class="op">:</span> dote <span class="op">-</span> <span class="dv">146096</span></span>
<span id="cb6-567"><a href="#cb6-567" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">/</span> <span class="dv">146097</span>)<span class="op">,</span></span>
<span id="cb6-568"><a href="#cb6-568" aria-hidden="true" tabindex="-1"></a>  dotc <span class="op">=</span> dote <span class="op">-</span> cote <span class="op">*</span> <span class="dv">146097</span><span class="op">,</span></span>
<span id="cb6-569"><a href="#cb6-569" aria-hidden="true" tabindex="-1"></a>  yotc <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((dotc</span>
<span id="cb6-570"><a href="#cb6-570" aria-hidden="true" tabindex="-1"></a>    <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">1460</span>)</span>
<span id="cb6-571"><a href="#cb6-571" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">36524</span>)</span>
<span id="cb6-572"><a href="#cb6-572" aria-hidden="true" tabindex="-1"></a>    <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">146096</span>)</span>
<span id="cb6-573"><a href="#cb6-573" aria-hidden="true" tabindex="-1"></a>  ) <span class="op">/</span> <span class="dv">365</span>)<span class="op">;</span></span>
<span id="cb6-574"><a href="#cb6-574" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> [</span>
<span id="cb6-575"><a href="#cb6-575" aria-hidden="true" tabindex="-1"></a>    yotc <span class="op">+</span> cote <span class="op">*</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb6-576"><a href="#cb6-576" aria-hidden="true" tabindex="-1"></a>    dotc <span class="op">-</span> (yotc <span class="op">*</span> <span class="dv">365</span></span>
<span id="cb6-577"><a href="#cb6-577" aria-hidden="true" tabindex="-1"></a>      <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yotc <span class="op">/</span> <span class="dv">4</span>)</span>
<span id="cb6-578"><a href="#cb6-578" aria-hidden="true" tabindex="-1"></a>      <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yotc <span class="op">/</span> <span class="dv">100</span>)</span>
<span id="cb6-579"><a href="#cb6-579" aria-hidden="true" tabindex="-1"></a>  )<span class="op">,</span> zone]}</span>
<span id="cb6-580"><a href="#cb6-580" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2deco0</span>(year <span class="op">=</span> <span class="dv">1969</span><span class="op">,</span> doty <span class="op">=</span> <span class="dv">306</span><span class="op">,</span> zone <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb6-581"><a href="#cb6-581" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="vs">`</span><span class="sc">${</span>year<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">4</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">+</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(doty)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}${</span><span class="bu">String</span>(doty <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">10</span>)<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">6</span>)<span class="sc">}</span><span class="vs">-</span><span class="sc">${</span>zone<span class="sc">}</span><span class="vs">`</span></span>
<span id="cb6-582"><a href="#cb6-582" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-583"><a href="#cb6-583" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">dotw2diff</span>(x<span class="op">,</span> y) {</span>
<span id="cb6-584"><a href="#cb6-584" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (x <span class="op">-</span> y <span class="op">+</span> <span class="dv">7</span>) <span class="op">%</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb6-585"><a href="#cb6-585" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-586"><a href="#cb6-586" aria-hidden="true" tabindex="-1"></a>dz <span class="op">=</span> <span class="fu">unix2dote</span>(unix)</span>
<span id="cb6-587"><a href="#cb6-587" aria-hidden="true" tabindex="-1"></a>ydz <span class="op">=</span> <span class="fu">dote2date</span>(<span class="op">...</span>dz)</span>
<span id="cb6-588"><a href="#cb6-588" aria-hidden="true" tabindex="-1"></a>deco <span class="op">=</span> <span class="fu">doty2deco0</span>(<span class="op">...</span>ydz)</span>
<span id="cb6-589"><a href="#cb6-589" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">year2leap</span>(year <span class="op">=</span> <span class="dv">1970</span>) {</span>
<span id="cb6-590"><a href="#cb6-590" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> year <span class="op">%</span> <span class="dv">4</span> <span class="op">==</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> year <span class="op">%</span> <span class="dv">100</span> <span class="op">!=</span> <span class="dv">0</span> <span class="op">||</span> year <span class="op">%</span> <span class="dv">400</span> <span class="op">==</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb6-591"><a href="#cb6-591" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-592"><a href="#cb6-592" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">dote2dotw</span>(d <span class="op">=</span> <span class="dv">719468</span>) {</span>
<span id="cb6-593"><a href="#cb6-593" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> d <span class="op">&gt;=</span> <span class="op">-</span><span class="dv">3</span> <span class="op">?</span> (d <span class="op">+</span> <span class="dv">3</span>) <span class="op">%</span> <span class="dv">7</span> <span class="op">:</span> (d <span class="op">+</span> <span class="dv">4</span>) <span class="op">%</span> <span class="dv">7</span> <span class="op">+</span> <span class="dv">6</span></span>
<span id="cb6-594"><a href="#cb6-594" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-595"><a href="#cb6-595" aria-hidden="true" tabindex="-1"></a>decoYear <span class="op">=</span> deco<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">4</span>)</span>
<span id="cb6-596"><a href="#cb6-596" aria-hidden="true" tabindex="-1"></a>nextYear <span class="op">=</span> <span class="pp">parseInt</span>(decoYear) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb6-597"><a href="#cb6-597" aria-hidden="true" tabindex="-1"></a>decoDoty <span class="op">=</span> deco<span class="op">.</span><span class="fu">slice</span>(<span class="dv">5</span><span class="op">,</span> <span class="dv">8</span>)</span>
<span id="cb6-598"><a href="#cb6-598" aria-hidden="true" tabindex="-1"></a>decoDek <span class="op">=</span> decoDoty<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb6-599"><a href="#cb6-599" aria-hidden="true" tabindex="-1"></a>decoDod <span class="op">=</span> decoDoty[<span class="dv">2</span>]</span>
<span id="cb6-600"><a href="#cb6-600" aria-hidden="true" tabindex="-1"></a>decoPent <span class="op">=</span> decoDek <span class="op">*</span> <span class="dv">2</span> <span class="op">+</span> (decoDod <span class="op">&gt;</span> <span class="dv">4</span>)</span>
<span id="cb6-601"><a href="#cb6-601" aria-hidden="true" tabindex="-1"></a>xmasDiff <span class="op">=</span> decoDoty <span class="op">-</span> <span class="dv">299</span></span>
<span id="cb6-602"><a href="#cb6-602" aria-hidden="true" tabindex="-1"></a>xmasDiffSign <span class="op">=</span> xmasDiff <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"-"</span> <span class="op">:</span> <span class="st">"+"</span></span>
<span id="cb6-603"><a href="#cb6-603" aria-hidden="true" tabindex="-1"></a>xmasDiffSince <span class="op">=</span> xmasDiff <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"are left until"</span> <span class="op">:</span> <span class="st">"have passed since"</span></span>
<span id="cb6-604"><a href="#cb6-604" aria-hidden="true" tabindex="-1"></a>dotyInputStr <span class="op">=</span> <span class="bu">String</span>(dotyInput)<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb6-605"><a href="#cb6-605" aria-hidden="true" tabindex="-1"></a>dekInput <span class="op">=</span> <span class="pp">parseInt</span>(dotyInputStr<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">2</span>))</span>
<span id="cb6-606"><a href="#cb6-606" aria-hidden="true" tabindex="-1"></a>dodInput <span class="op">=</span> dotyInputStr[<span class="dv">2</span>]</span>
<span id="cb6-607"><a href="#cb6-607" aria-hidden="true" tabindex="-1"></a>xmasDote <span class="op">=</span> <span class="fu">date2dote</span>(ydz[<span class="dv">0</span>]<span class="op">,</span> <span class="dv">299</span>)[<span class="dv">0</span>]</span>
<span id="cb6-608"><a href="#cb6-608" aria-hidden="true" tabindex="-1"></a>xmasDotw <span class="op">=</span> <span class="fu">dote2dotw</span>(xmasDote)</span>
<span id="cb6-609"><a href="#cb6-609" aria-hidden="true" tabindex="-1"></a>dotw <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">dote2dotw</span>(dz[<span class="dv">0</span>]))</span>
<span id="cb6-610"><a href="#cb6-610" aria-hidden="true" tabindex="-1"></a>day266dotw <span class="op">=</span> <span class="fu">dote2dotw</span>(<span class="fu">date2dote</span>(ydz[<span class="dv">0</span>]<span class="op">,</span> <span class="dv">266</span>)[<span class="dv">0</span>])</span>
<span id="cb6-611"><a href="#cb6-611" aria-hidden="true" tabindex="-1"></a>day266dotwDiff <span class="op">=</span> <span class="fu">dotw2diff</span>(<span class="dv">4</span><span class="op">,</span> day266dotw)</span>
<span id="cb6-612"><a href="#cb6-612" aria-hidden="true" tabindex="-1"></a>week <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((ydz[<span class="dv">1</span>] <span class="op">+</span> doty0dotw) <span class="op">/</span> <span class="dv">7</span>)</span>
<span id="cb6-613"><a href="#cb6-613" aria-hidden="true" tabindex="-1"></a>dotm <span class="op">=</span> <span class="fu">doty2dotm</span>(<span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(ydz[<span class="dv">1</span>]))</span>
<span id="cb6-614"><a href="#cb6-614" aria-hidden="true" tabindex="-1"></a>dotm0 <span class="op">=</span> <span class="bu">String</span>(dotm <span class="op">-</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb6-615"><a href="#cb6-615" aria-hidden="true" tabindex="-1"></a>dotm1 <span class="op">=</span> dotm<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb6-616"><a href="#cb6-616" aria-hidden="true" tabindex="-1"></a>monthNumber <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(ydz[<span class="dv">1</span>] <span class="op">-</span> dotm)</span>
<span id="cb6-617"><a href="#cb6-617" aria-hidden="true" tabindex="-1"></a>monthNumber0 <span class="op">=</span> <span class="bu">String</span>(monthNumber <span class="op">+</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb6-618"><a href="#cb6-618" aria-hidden="true" tabindex="-1"></a>monthNumber1 <span class="op">=</span> monthNumber<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb6-619"><a href="#cb6-619" aria-hidden="true" tabindex="-1"></a>dotw0doty <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(ydz[<span class="dv">1</span>]) <span class="op">-</span> dotw</span>
<span id="cb6-620"><a href="#cb6-620" aria-hidden="true" tabindex="-1"></a>doty0dote <span class="op">=</span> <span class="fu">date2dote</span>(ydz[<span class="dv">0</span>]<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> ydz[<span class="dv">2</span>])</span>
<span id="cb6-621"><a href="#cb6-621" aria-hidden="true" tabindex="-1"></a>doty0dotw <span class="op">=</span> <span class="fu">dote2dotw</span>(<span class="op">...</span>doty0dote)</span>
<span id="cb6-622"><a href="#cb6-622" aria-hidden="true" tabindex="-1"></a>dotw0sign <span class="op">=</span> dotw0doty <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"-"</span> <span class="op">:</span> <span class="st">"+"</span></span>
<span id="cb6-623"><a href="#cb6-623" aria-hidden="true" tabindex="-1"></a>dayTime <span class="op">=</span> dz[<span class="dv">0</span>] <span class="op">%</span> <span class="dv">1</span></span>
<span id="cb6-624"><a href="#cb6-624" aria-hidden="true" tabindex="-1"></a>decidayTime <span class="op">=</span> (dayTime <span class="op">*</span> <span class="dv">10</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">4</span>)</span>
<span id="cb6-625"><a href="#cb6-625" aria-hidden="true" tabindex="-1"></a>zone <span class="op">=</span> dz[<span class="dv">1</span>]</span>
<span id="cb6-626"><a href="#cb6-626" aria-hidden="true" tabindex="-1"></a>zoneSign <span class="op">=</span> zone <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"+"</span> <span class="op">:</span> <span class="st">"-"</span></span>
<span id="cb6-627"><a href="#cb6-627" aria-hidden="true" tabindex="-1"></a>nDaysInYear <span class="op">=</span> <span class="dv">365</span> <span class="op">+</span> <span class="fu">year2leap</span>(ydz[<span class="dv">0</span>] <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb6-628"><a href="#cb6-628" aria-hidden="true" tabindex="-1"></a>Tminus <span class="op">=</span> nDaysInYear <span class="op">-</span> decoDoty</span>
<span id="cb6-629"><a href="#cb6-629" aria-hidden="true" tabindex="-1"></a>TminusPadded <span class="op">=</span> Tminus<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb6-630"><a href="#cb6-630" aria-hidden="true" tabindex="-1"></a>fracYear <span class="op">=</span> ydz[<span class="dv">0</span>] <span class="op">+</span> ydz[<span class="dv">1</span>] <span class="op">/</span> nDaysInYear</span>
<span id="cb6-631"><a href="#cb6-631" aria-hidden="true" tabindex="-1"></a>fullfracYear <span class="op">=</span> (fracYear)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">4</span>)</span>
<span id="cb6-632"><a href="#cb6-632" aria-hidden="true" tabindex="-1"></a>mod1FracYear <span class="op">=</span> (fracYear <span class="op">%</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">4</span>)</span>
<span id="cb6-633"><a href="#cb6-633" aria-hidden="true" tabindex="-1"></a>months <span class="op">=</span> [<span class="st">"January"</span><span class="op">,</span> <span class="st">"February"</span><span class="op">,</span> <span class="st">"March"</span><span class="op">,</span> <span class="st">"April"</span><span class="op">,</span> <span class="st">"May"</span><span class="op">,</span> <span class="st">"June"</span><span class="op">,</span> <span class="st">"July"</span><span class="op">,</span> <span class="st">"August"</span><span class="op">,</span> <span class="st">"September"</span><span class="op">,</span> <span class="st">"October"</span><span class="op">,</span> <span class="st">"November"</span><span class="op">,</span> <span class="st">"December"</span>]<span class="op">;</span></span>
<span id="cb6-634"><a href="#cb6-634" aria-hidden="true" tabindex="-1"></a>monthNums <span class="op">=</span> [<span class="st">"305"</span><span class="op">,</span> <span class="st">"336"</span><span class="op">,</span> <span class="st">""</span><span class="op">,</span> <span class="st">"31"</span><span class="op">,</span> <span class="st">"61"</span><span class="op">,</span> <span class="st">"92"</span><span class="op">,</span> <span class="st">"122"</span><span class="op">,</span> <span class="st">"153"</span><span class="op">,</span> <span class="st">"184"</span><span class="op">,</span> <span class="st">"214"</span><span class="op">,</span> <span class="st">"245"</span><span class="op">,</span> <span class="st">"275"</span>]<span class="op">;</span></span>
<span id="cb6-635"><a href="#cb6-635" aria-hidden="true" tabindex="-1"></a>today <span class="op">=</span> <span class="kw">new</span> <span class="bu">Date</span>()</span>
<span id="cb6-636"><a href="#cb6-636" aria-hidden="true" tabindex="-1"></a>monthName <span class="op">=</span> today<span class="op">.</span><span class="fu">toLocaleString</span>(<span class="st">'default'</span><span class="op">,</span> { <span class="dt">month</span><span class="op">:</span> <span class="st">'long'</span> })<span class="op">;</span></span>
<span id="cb6-637"><a href="#cb6-637" aria-hidden="true" tabindex="-1"></a>monthNumJS <span class="op">=</span> today<span class="op">.</span><span class="fu">getMonth</span>()<span class="op">;</span></span>
<span id="cb6-638"><a href="#cb6-638" aria-hidden="true" tabindex="-1"></a>currMonth <span class="op">=</span> monthNums[monthNumJS]</span>
<span id="cb6-639"><a href="#cb6-639" aria-hidden="true" tabindex="-1"></a>nextMonth <span class="op">=</span> monthNums[(monthNumJS <span class="op">+</span> <span class="dv">1</span>) <span class="op">%</span> <span class="dv">12</span>]</span>
<span id="cb6-640"><a href="#cb6-640" aria-hidden="true" tabindex="-1"></a>dekStart <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(decoDoty <span class="op">/</span> <span class="dv">10</span>) <span class="op">*</span> <span class="dv">10</span></span>
<span id="cb6-641"><a href="#cb6-641" aria-hidden="true" tabindex="-1"></a>diff <span class="op">=</span> <span class="pp">parseInt</span>(currMonth <span class="op">||</span> <span class="dv">0</span>) <span class="op">-</span> <span class="pp">parseInt</span>(nextMonth <span class="op">||</span> nDaysInYear)</span>
<span id="cb6-642"><a href="#cb6-642" aria-hidden="true" tabindex="-1"></a>  <span class="co">//currMonth === "" ? 0 : parseInt(currMonth) - nextMonth === "" ? nDaysInYear : parseInt(nextMonth)</span></span>
<span id="cb6-643"><a href="#cb6-643" aria-hidden="true" tabindex="-1"></a><span class="co">// https://observablehq.com/@juang1744/transform-input/1</span></span>
<span id="cb6-644"><a href="#cb6-644" aria-hidden="true" tabindex="-1"></a>transformInput <span class="op">=</span> <span class="kw">function</span>(target<span class="op">,</span> {<span class="dt">bind</span><span class="op">:</span> source<span class="op">,</span> transform <span class="op">=</span> identity<span class="op">,</span> involutory <span class="op">=</span> <span class="kw">false</span><span class="op">,</span> invert <span class="op">=</span> involutory <span class="op">?</span> transform <span class="op">:</span> <span class="fu">inverse</span>(transform)} <span class="op">=</span> {}){</span>
<span id="cb6-645"><a href="#cb6-645" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (source <span class="op">===</span> <span class="kw">undefined</span>) {</span>
<span id="cb6-646"><a href="#cb6-646" aria-hidden="true" tabindex="-1"></a>    source <span class="op">=</span> target<span class="op">;</span></span>
<span id="cb6-647"><a href="#cb6-647" aria-hidden="true" tabindex="-1"></a>    target <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;div&gt;</span><span class="sc">${</span>source<span class="sc">}</span><span class="vs">&lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb6-648"><a href="#cb6-648" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-649"><a href="#cb6-649" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">sourceInputHandler</span>() {</span>
<span id="cb6-650"><a href="#cb6-650" aria-hidden="true" tabindex="-1"></a>    target<span class="op">.</span><span class="fu">removeEventListener</span>(<span class="st">"input"</span><span class="op">,</span> targetInputHandler)<span class="op">;</span></span>
<span id="cb6-651"><a href="#cb6-651" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setTransform</span>(target)<span class="op">.</span><span class="fu">to</span>(<span class="fu">transform</span>(source<span class="op">.</span><span class="at">value</span>))<span class="op">.</span><span class="fu">andDispatchEvent</span>()<span class="op">;</span></span>
<span id="cb6-652"><a href="#cb6-652" aria-hidden="true" tabindex="-1"></a>    target<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"input"</span><span class="op">,</span> targetInputHandler)<span class="op">;</span></span>
<span id="cb6-653"><a href="#cb6-653" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-654"><a href="#cb6-654" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">targetInputHandler</span>() {</span>
<span id="cb6-655"><a href="#cb6-655" aria-hidden="true" tabindex="-1"></a>    source<span class="op">.</span><span class="fu">removeEventListener</span>(<span class="st">"input"</span><span class="op">,</span> sourceInputHandler)<span class="op">;</span></span>
<span id="cb6-656"><a href="#cb6-656" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setTransform</span>(source)<span class="op">.</span><span class="fu">to</span>(<span class="fu">invert</span>(target<span class="op">.</span><span class="at">value</span>))<span class="op">.</span><span class="fu">andDispatchEvent</span>()<span class="op">;</span></span>
<span id="cb6-657"><a href="#cb6-657" aria-hidden="true" tabindex="-1"></a>    source<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"input"</span><span class="op">,</span> sourceInputHandler)<span class="op">;</span></span>
<span id="cb6-658"><a href="#cb6-658" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-659"><a href="#cb6-659" aria-hidden="true" tabindex="-1"></a>  source<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"input"</span><span class="op">,</span> sourceInputHandler)<span class="op">;</span></span>
<span id="cb6-660"><a href="#cb6-660" aria-hidden="true" tabindex="-1"></a>  target<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"input"</span><span class="op">,</span> targetInputHandler)<span class="op">;</span></span>
<span id="cb6-661"><a href="#cb6-661" aria-hidden="true" tabindex="-1"></a>  invalidation<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb6-662"><a href="#cb6-662" aria-hidden="true" tabindex="-1"></a>    source<span class="op">.</span><span class="fu">removeEventListener</span>(<span class="st">"input"</span><span class="op">,</span> sourceInputHandler)<span class="op">;</span></span>
<span id="cb6-663"><a href="#cb6-663" aria-hidden="true" tabindex="-1"></a>    target<span class="op">.</span><span class="fu">removeEventListener</span>(<span class="st">"input"</span><span class="op">,</span> targetInputHandler)<span class="op">;</span></span>
<span id="cb6-664"><a href="#cb6-664" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb6-665"><a href="#cb6-665" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sourceInputHandler</span>()<span class="op">;</span></span>
<span id="cb6-666"><a href="#cb6-666" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> target<span class="op">;</span></span>
<span id="cb6-667"><a href="#cb6-667" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-668"><a href="#cb6-668" aria-hidden="true" tabindex="-1"></a>setTransform <span class="op">=</span> (input) <span class="kw">=&gt;</span> ({<span class="dt">to</span><span class="op">:</span> (value) <span class="kw">=&gt;</span> (input<span class="op">.</span><span class="at">value</span> <span class="op">=</span> value<span class="op">,</span> {<span class="dt">andDispatchEvent</span><span class="op">:</span> (<span class="bu">event</span> <span class="op">=</span> <span class="kw">new</span> <span class="bu">Event</span>(<span class="st">"input"</span>)) <span class="kw">=&gt;</span> input<span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="bu">event</span>)})})<span class="op">;</span></span>
<span id="cb6-669"><a href="#cb6-669" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">inverse</span>(f) {</span>
<span id="cb6-670"><a href="#cb6-670" aria-hidden="true" tabindex="-1"></a>  <span class="cf">switch</span> (f) {</span>
<span id="cb6-671"><a href="#cb6-671" aria-hidden="true" tabindex="-1"></a>    <span class="cf">case</span> <span class="dt">identity</span><span class="op">:</span>  <span class="cf">return</span> identity<span class="op">;</span></span>
<span id="cb6-672"><a href="#cb6-672" aria-hidden="true" tabindex="-1"></a>    <span class="cf">case</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span><span class="op">:</span> <span class="cf">return</span> square<span class="op">;</span></span>
<span id="cb6-673"><a href="#cb6-673" aria-hidden="true" tabindex="-1"></a>    <span class="cf">case</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">log</span><span class="op">:</span>  <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">exp</span><span class="op">;</span></span>
<span id="cb6-674"><a href="#cb6-674" aria-hidden="true" tabindex="-1"></a>    <span class="cf">case</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">exp</span><span class="op">:</span>  <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">log</span><span class="op">;</span></span>
<span id="cb6-675"><a href="#cb6-675" aria-hidden="true" tabindex="-1"></a>    <span class="cf">default</span><span class="op">:</span>        <span class="cf">return</span> (x <span class="kw">=&gt;</span> <span class="fu">solve</span>(f<span class="op">,</span> x<span class="op">,</span> x))<span class="op">;</span></span>
<span id="cb6-676"><a href="#cb6-676" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-677"><a href="#cb6-677" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">solve</span>(f<span class="op">,</span> y<span class="op">,</span> x <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb6-678"><a href="#cb6-678" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> dx <span class="op">=</span> <span class="fl">1e-6</span><span class="op">;</span></span>
<span id="cb6-679"><a href="#cb6-679" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> steps <span class="op">=</span> <span class="dv">100</span><span class="op">,</span> deltax<span class="op">,</span> fx<span class="op">,</span> dfx<span class="op">;</span></span>
<span id="cb6-680"><a href="#cb6-680" aria-hidden="true" tabindex="-1"></a>    <span class="cf">do</span> {</span>
<span id="cb6-681"><a href="#cb6-681" aria-hidden="true" tabindex="-1"></a>      fx <span class="op">=</span> <span class="fu">f</span>(x)</span>
<span id="cb6-682"><a href="#cb6-682" aria-hidden="true" tabindex="-1"></a>      dfx <span class="op">=</span> (<span class="fu">f</span>(x <span class="op">+</span> dx) <span class="op">-</span> fx) <span class="op">||</span> dx<span class="op">;</span></span>
<span id="cb6-683"><a href="#cb6-683" aria-hidden="true" tabindex="-1"></a>      deltax <span class="op">=</span> dx <span class="op">*</span> (fx <span class="op">-</span> y)<span class="op">/</span>dfx</span>
<span id="cb6-684"><a href="#cb6-684" aria-hidden="true" tabindex="-1"></a>      x <span class="op">-=</span> deltax<span class="op">;</span></span>
<span id="cb6-685"><a href="#cb6-685" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">while</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(deltax) <span class="op">&gt;</span> dx <span class="op">&amp;&amp;</span> <span class="op">--</span>steps <span class="op">&gt;</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb6-686"><a href="#cb6-686" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> steps <span class="op">===</span> <span class="dv">0</span> <span class="op">?</span> <span class="kw">NaN</span> <span class="op">:</span> x<span class="op">;</span></span>
<span id="cb6-687"><a href="#cb6-687" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-688"><a href="#cb6-688" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">square</span>(x) {</span>
<span id="cb6-689"><a href="#cb6-689" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x <span class="op">*</span> x<span class="op">;</span></span>
<span id="cb6-690"><a href="#cb6-690" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-691"><a href="#cb6-691" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-692"><a href="#cb6-692" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">identity</span>(x) {</span>
<span id="cb6-693"><a href="#cb6-693" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> x<span class="op">;</span></span>
<span id="cb6-694"><a href="#cb6-694" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-695"><a href="#cb6-695" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2month</span>(doty <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb6-696"><a href="#cb6-696" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> m <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((<span class="dv">5</span> <span class="op">*</span> doty <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">153</span>)<span class="op">;</span></span>
<span id="cb6-697"><a href="#cb6-697" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(m <span class="op">&lt;</span> <span class="dv">10</span> <span class="op">?</span> m <span class="op">+</span> <span class="dv">3</span> <span class="op">:</span> m <span class="op">-</span> <span class="dv">9</span>)<span class="op">;</span></span>
<span id="cb6-698"><a href="#cb6-698" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-699"><a href="#cb6-699" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">month2doty</span>(month <span class="op">=</span> <span class="dv">1</span>) {</span>
<span id="cb6-700"><a href="#cb6-700" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(</span>
<span id="cb6-701"><a href="#cb6-701" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">153</span> <span class="op">*</span> (month <span class="op">&gt;</span> <span class="dv">2</span> <span class="op">?</span> month <span class="op">-</span> <span class="dv">3</span> <span class="op">:</span> month <span class="op">+</span> <span class="dv">9</span>) <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">5</span></span>
<span id="cb6-702"><a href="#cb6-702" aria-hidden="true" tabindex="-1"></a>)}</span>
<span id="cb6-703"><a href="#cb6-703" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2dotm</span>(doty <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb6-704"><a href="#cb6-704" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> m <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((<span class="dv">5</span> <span class="op">*</span> doty <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">153</span>)<span class="op">;</span></span>
<span id="cb6-705"><a href="#cb6-705" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> doty <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((<span class="dv">153</span> <span class="op">*</span> m <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">5</span>) <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb6-706"><a href="#cb6-706" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb6-707"><a href="#cb6-707" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>({<span class="dt">length</span><span class="op">:</span> <span class="dv">366</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> i)</span>
<span id="cb6-708"><a href="#cb6-708" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span>(viewof dotyInput<span class="op">,</span> leapscrub[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-15" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-16" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-17" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-18" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-19" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-20" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-21" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-22" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-23" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-24" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-25" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-26" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-27" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-28" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-29" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-30" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-31" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-32" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-33" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-34" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-35" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-36" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-37" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-38" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-39" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-40" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-41" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-42" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-43" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-44" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-45" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-46" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-47" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-48" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-49" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-50" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-51" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-52" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-53" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-54" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-55" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-56" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-57" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-58" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-59" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-60" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-61" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-62" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-63" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-64" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-65" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-66" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb7" data-startfrom="710" data-source-offset="-5695"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 709;"><span id="cb7-710"><a href="#cb7-710" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">set</span>(input<span class="op">,</span> value) {</span>
<span id="cb7-711"><a href="#cb7-711" aria-hidden="true" tabindex="-1"></a>  input<span class="op">.</span><span class="at">value</span> <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb7-712"><a href="#cb7-712" aria-hidden="true" tabindex="-1"></a>  input<span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="kw">new</span> <span class="bu">Event</span>(<span class="st">"input"</span><span class="op">,</span> {<span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span>}))<span class="op">;</span></span>
<span id="cb7-713"><a href="#cb7-713" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-714"><a href="#cb7-714" aria-hidden="true" tabindex="-1"></a><span class="co">// https://observablehq.com/@mbostock/scrubber</span></span>
<span id="cb7-715"><a href="#cb7-715" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Scrubber</span>(values<span class="op">,</span> {</span>
<span id="cb7-716"><a href="#cb7-716" aria-hidden="true" tabindex="-1"></a>  format <span class="op">=</span> value <span class="kw">=&gt;</span> value<span class="op">,</span></span>
<span id="cb7-717"><a href="#cb7-717" aria-hidden="true" tabindex="-1"></a>  initial <span class="op">=</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb7-718"><a href="#cb7-718" aria-hidden="true" tabindex="-1"></a>  direction <span class="op">=</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb7-719"><a href="#cb7-719" aria-hidden="true" tabindex="-1"></a>  delay <span class="op">=</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb7-720"><a href="#cb7-720" aria-hidden="true" tabindex="-1"></a>  autoplay <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb7-721"><a href="#cb7-721" aria-hidden="true" tabindex="-1"></a>  loop <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb7-722"><a href="#cb7-722" aria-hidden="true" tabindex="-1"></a>  loopDelay <span class="op">=</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb7-723"><a href="#cb7-723" aria-hidden="true" tabindex="-1"></a>  alternate <span class="op">=</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb7-724"><a href="#cb7-724" aria-hidden="true" tabindex="-1"></a>  inputStyle <span class="op">=</span> <span class="st">""</span></span>
<span id="cb7-725"><a href="#cb7-725" aria-hidden="true" tabindex="-1"></a>} <span class="op">=</span> {}) {</span>
<span id="cb7-726"><a href="#cb7-726" aria-hidden="true" tabindex="-1"></a>  values <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(values)<span class="op">;</span></span>
<span id="cb7-727"><a href="#cb7-727" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> form <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;form style="font: 18px var(--monospace); font-variant-numeric: tabular-nums; display: flex; height: 33px; align-items: center;"&gt;</span></span>
<span id="cb7-728"><a href="#cb7-728" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;button name=b type=button style="margin-right: 0.4em; width: 5em;"&gt;&lt;/button&gt;</span></span>
<span id="cb7-729"><a href="#cb7-729" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;label style="display: flex; align-items: center;"&gt;</span></span>
<span id="cb7-730"><a href="#cb7-730" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;input name=i type=range min=0 max=</span><span class="sc">${</span>values<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span><span class="sc">}</span><span class="vs"> value=</span><span class="sc">${</span>initial<span class="sc">}</span><span class="vs"> step=1 style=</span><span class="sc">${</span>inputStyle<span class="sc">}</span><span class="vs">&gt;</span></span>
<span id="cb7-731"><a href="#cb7-731" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;output name=o style="margin-left: 0.4em;"&gt;&lt;/output&gt;</span></span>
<span id="cb7-732"><a href="#cb7-732" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/label&gt;</span></span>
<span id="cb7-733"><a href="#cb7-733" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/form&gt;`</span><span class="op">;</span></span>
<span id="cb7-734"><a href="#cb7-734" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> frame <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb7-735"><a href="#cb7-735" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> timer <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb7-736"><a href="#cb7-736" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> interval <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb7-737"><a href="#cb7-737" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">start</span>() {</span>
<span id="cb7-738"><a href="#cb7-738" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">b</span><span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> <span class="st">"Stop"</span><span class="op">;</span></span>
<span id="cb7-739"><a href="#cb7-739" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (delay <span class="op">===</span> <span class="kw">null</span>) frame <span class="op">=</span> <span class="fu">requestAnimationFrame</span>(tick)<span class="op">;</span></span>
<span id="cb7-740"><a href="#cb7-740" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> interval <span class="op">=</span> <span class="pp">setInterval</span>(tick<span class="op">,</span> delay)<span class="op">;</span></span>
<span id="cb7-741"><a href="#cb7-741" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-742"><a href="#cb7-742" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">stop</span>() {</span>
<span id="cb7-743"><a href="#cb7-743" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">b</span><span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> <span class="st">"Play"</span><span class="op">;</span></span>
<span id="cb7-744"><a href="#cb7-744" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (frame <span class="op">!==</span> <span class="kw">null</span>) <span class="fu">cancelAnimationFrame</span>(frame)<span class="op">,</span> frame <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb7-745"><a href="#cb7-745" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (timer <span class="op">!==</span> <span class="kw">null</span>) <span class="pp">clearTimeout</span>(timer)<span class="op">,</span> timer <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb7-746"><a href="#cb7-746" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (interval <span class="op">!==</span> <span class="kw">null</span>) <span class="pp">clearInterval</span>(interval)<span class="op">,</span> interval <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb7-747"><a href="#cb7-747" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-748"><a href="#cb7-748" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">running</span>() {</span>
<span id="cb7-749"><a href="#cb7-749" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> frame <span class="op">!==</span> <span class="kw">null</span> <span class="op">||</span> timer <span class="op">!==</span> <span class="kw">null</span> <span class="op">||</span> interval <span class="op">!==</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb7-750"><a href="#cb7-750" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-751"><a href="#cb7-751" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">tick</span>() {</span>
<span id="cb7-752"><a href="#cb7-752" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">===</span> (direction <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">?</span> values<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span> <span class="op">:</span> direction <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="dv">0</span> <span class="op">:</span> <span class="kw">NaN</span>)) {</span>
<span id="cb7-753"><a href="#cb7-753" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="op">!</span>loop) <span class="cf">return</span> <span class="fu">stop</span>()<span class="op">;</span></span>
<span id="cb7-754"><a href="#cb7-754" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (alternate) direction <span class="op">=</span> <span class="op">-</span>direction<span class="op">;</span></span>
<span id="cb7-755"><a href="#cb7-755" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (loopDelay <span class="op">!==</span> <span class="kw">null</span>) {</span>
<span id="cb7-756"><a href="#cb7-756" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (frame <span class="op">!==</span> <span class="kw">null</span>) <span class="fu">cancelAnimationFrame</span>(frame)<span class="op">,</span> frame <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb7-757"><a href="#cb7-757" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (interval <span class="op">!==</span> <span class="kw">null</span>) <span class="pp">clearInterval</span>(interval)<span class="op">,</span> interval <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb7-758"><a href="#cb7-758" aria-hidden="true" tabindex="-1"></a>        timer <span class="op">=</span> <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> (<span class="fu">step</span>()<span class="op">,</span> <span class="fu">start</span>())<span class="op">,</span> loopDelay)<span class="op">;</span></span>
<span id="cb7-759"><a href="#cb7-759" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span><span class="op">;</span></span>
<span id="cb7-760"><a href="#cb7-760" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb7-761"><a href="#cb7-761" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-762"><a href="#cb7-762" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (delay <span class="op">===</span> <span class="kw">null</span>) frame <span class="op">=</span> <span class="fu">requestAnimationFrame</span>(tick)<span class="op">;</span></span>
<span id="cb7-763"><a href="#cb7-763" aria-hidden="true" tabindex="-1"></a>    <span class="fu">step</span>()<span class="op">;</span></span>
<span id="cb7-764"><a href="#cb7-764" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-765"><a href="#cb7-765" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">step</span>() {</span>
<span id="cb7-766"><a href="#cb7-766" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">=</span> (form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">+</span> direction <span class="op">+</span> values<span class="op">.</span><span class="at">length</span>) <span class="op">%</span> values<span class="op">.</span><span class="at">length</span><span class="op">;</span></span>
<span id="cb7-767"><a href="#cb7-767" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="kw">new</span> <span class="bu">CustomEvent</span>(<span class="st">"input"</span><span class="op">,</span> {<span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span>}))<span class="op">;</span></span>
<span id="cb7-768"><a href="#cb7-768" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-769"><a href="#cb7-769" aria-hidden="true" tabindex="-1"></a>  form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">oninput</span> <span class="op">=</span> <span class="bu">event</span> <span class="kw">=&gt;</span> {</span>
<span id="cb7-770"><a href="#cb7-770" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="bu">event</span> <span class="op">&amp;&amp;</span> <span class="bu">event</span><span class="op">.</span><span class="at">isTrusted</span> <span class="op">&amp;&amp;</span> <span class="fu">running</span>()) <span class="fu">stop</span>()<span class="op">;</span></span>
<span id="cb7-771"><a href="#cb7-771" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">value</span> <span class="op">=</span> values[form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span>]<span class="op">;</span></span>
<span id="cb7-772"><a href="#cb7-772" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">o</span><span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="fu">format</span>(form<span class="op">.</span><span class="at">value</span><span class="op">,</span> form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span><span class="op">,</span> values)<span class="op">;</span></span>
<span id="cb7-773"><a href="#cb7-773" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb7-774"><a href="#cb7-774" aria-hidden="true" tabindex="-1"></a>  form<span class="op">.</span><span class="at">b</span><span class="op">.</span><span class="at">onclick</span> <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb7-775"><a href="#cb7-775" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">running</span>()) <span class="cf">return</span> <span class="fu">stop</span>()<span class="op">;</span></span>
<span id="cb7-776"><a href="#cb7-776" aria-hidden="true" tabindex="-1"></a>    direction <span class="op">=</span> alternate <span class="op">&amp;&amp;</span> form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">===</span> values<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span> <span class="op">?</span> <span class="op">-</span><span class="dv">1</span> <span class="op">:</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb7-777"><a href="#cb7-777" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">=</span> (form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">+</span> direction) <span class="op">%</span> values<span class="op">.</span><span class="at">length</span><span class="op">;</span></span>
<span id="cb7-778"><a href="#cb7-778" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="kw">new</span> <span class="bu">CustomEvent</span>(<span class="st">"input"</span><span class="op">,</span> {<span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span>}))<span class="op">;</span></span>
<span id="cb7-779"><a href="#cb7-779" aria-hidden="true" tabindex="-1"></a>    <span class="fu">start</span>()<span class="op">;</span></span>
<span id="cb7-780"><a href="#cb7-780" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb7-781"><a href="#cb7-781" aria-hidden="true" tabindex="-1"></a>  form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="fu">oninput</span>()<span class="op">;</span></span>
<span id="cb7-782"><a href="#cb7-782" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (autoplay) <span class="fu">start</span>()<span class="op">;</span></span>
<span id="cb7-783"><a href="#cb7-783" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="fu">stop</span>()<span class="op">;</span></span>
<span id="cb7-784"><a href="#cb7-784" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">disposal</span>(form)<span class="op">.</span><span class="fu">then</span>(stop)<span class="op">;</span></span>
<span id="cb7-785"><a href="#cb7-785" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> form<span class="op">;</span></span>
<span id="cb7-786"><a href="#cb7-786" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-787"><a href="#cb7-787" aria-hidden="true" tabindex="-1"></a>calYear <span class="op">=</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Monday"</span> <span class="op">?</span> <span class="dv">6</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Tuesday"</span> <span class="op">?</span> <span class="dv">7</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Wednesday"</span> <span class="op">?</span> <span class="dv">2</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Thursday"</span> <span class="op">?</span> <span class="dv">3</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Friday"</span> <span class="op">?</span> <span class="dv">9</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Saturday"</span> <span class="op">?</span> <span class="dv">10</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Sunday"</span> <span class="op">?</span> <span class="dv">11</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Monday"</span> <span class="op">?</span> <span class="dv">12</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Tuesday"</span> <span class="op">?</span> <span class="dv">24</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Wednesday"</span> <span class="op">?</span> <span class="dv">8</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Thursday"</span> <span class="op">?</span> <span class="dv">20</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Friday"</span> <span class="op">?</span> <span class="dv">4</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Saturday"</span> <span class="op">?</span> <span class="dv">16</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Sunday"</span> <span class="op">?</span> <span class="dv">28</span> <span class="op">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb7-788"><a href="#cb7-788" aria-hidden="true" tabindex="-1"></a>datesCal <span class="op">=</span> d3<span class="op">.</span><span class="fu">utcDays</span>(<span class="kw">new</span> <span class="bu">Date</span>(calYear<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">,</span> <span class="kw">new</span> <span class="bu">Date</span>(calYear<span class="op">,</span> <span class="dv">12</span><span class="op">,</span> <span class="dv">0</span>))<span class="op">;</span></span>
<span id="cb7-789"><a href="#cb7-789" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">unix2doty</span>(unix) {</span>
<span id="cb7-790"><a href="#cb7-790" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> dote <span class="op">=</span> (</span>
<span id="cb7-791"><a href="#cb7-791" aria-hidden="true" tabindex="-1"></a>    unix <span class="op">??</span> <span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()</span>
<span id="cb7-792"><a href="#cb7-792" aria-hidden="true" tabindex="-1"></a>  ) <span class="op">/</span> <span class="dv">86400000</span> <span class="op">+</span> <span class="dv">719468</span><span class="op">,</span></span>
<span id="cb7-793"><a href="#cb7-793" aria-hidden="true" tabindex="-1"></a>    cote <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((</span>
<span id="cb7-794"><a href="#cb7-794" aria-hidden="true" tabindex="-1"></a>      dote <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">?</span> dote</span>
<span id="cb7-795"><a href="#cb7-795" aria-hidden="true" tabindex="-1"></a>      <span class="op">:</span> dote <span class="op">-</span> <span class="dv">146096</span></span>
<span id="cb7-796"><a href="#cb7-796" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">/</span> <span class="dv">146097</span>)<span class="op">,</span></span>
<span id="cb7-797"><a href="#cb7-797" aria-hidden="true" tabindex="-1"></a>  dotc <span class="op">=</span> dote <span class="op">-</span> cote <span class="op">*</span> <span class="dv">146097</span><span class="op">,</span></span>
<span id="cb7-798"><a href="#cb7-798" aria-hidden="true" tabindex="-1"></a>  yotc <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((dotc</span>
<span id="cb7-799"><a href="#cb7-799" aria-hidden="true" tabindex="-1"></a>    <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">1460</span>)</span>
<span id="cb7-800"><a href="#cb7-800" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">36524</span>)</span>
<span id="cb7-801"><a href="#cb7-801" aria-hidden="true" tabindex="-1"></a>    <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">146096</span>)</span>
<span id="cb7-802"><a href="#cb7-802" aria-hidden="true" tabindex="-1"></a>  ) <span class="op">/</span> <span class="dv">365</span>)<span class="op">;</span></span>
<span id="cb7-803"><a href="#cb7-803" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> dotc <span class="op">-</span> (yotc <span class="op">*</span> <span class="dv">365</span></span>
<span id="cb7-804"><a href="#cb7-804" aria-hidden="true" tabindex="-1"></a>      <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yotc <span class="op">/</span> <span class="dv">4</span>)</span>
<span id="cb7-805"><a href="#cb7-805" aria-hidden="true" tabindex="-1"></a>      <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yotc <span class="op">/</span> <span class="dv">100</span>)</span>
<span id="cb7-806"><a href="#cb7-806" aria-hidden="true" tabindex="-1"></a>  )}</span>
<span id="cb7-807"><a href="#cb7-807" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">date2dote</span>(year <span class="op">=</span> <span class="dv">1969</span><span class="op">,</span> doty <span class="op">=</span> <span class="dv">306</span><span class="op">,</span> zone <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb7-808"><a href="#cb7-808" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> cote <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((year <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">?</span> year <span class="op">:</span> year <span class="op">-</span> <span class="dv">399</span>) <span class="op">/</span> <span class="dv">400</span>)<span class="op">,</span></span>
<span id="cb7-809"><a href="#cb7-809" aria-hidden="true" tabindex="-1"></a>      yote <span class="op">=</span> year <span class="op">-</span> cote <span class="op">*</span> <span class="dv">400</span><span class="op">;</span></span>
<span id="cb7-810"><a href="#cb7-810" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [cote <span class="op">*</span> <span class="dv">146097</span> <span class="op">+</span> yote <span class="op">*</span> <span class="dv">365</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yote <span class="op">/</span> <span class="dv">4</span>) <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yote <span class="op">/</span> <span class="dv">100</span>) <span class="op">+</span> doty<span class="op">,</span> zone]</span>
<span id="cb7-811"><a href="#cb7-811" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-812"><a href="#cb7-812" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2deco</span>(yearDoty <span class="op">=</span> [<span class="dv">1969</span><span class="op">,</span> <span class="dv">306</span>]<span class="op">,</span> zone <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb7-813"><a href="#cb7-813" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> yd <span class="op">=</span> <span class="fu">dote2date</span>(<span class="op">...</span><span class="fu">date2dote</span>(yearDoty[<span class="dv">0</span>]<span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yearDoty[<span class="dv">1</span>])<span class="op">,</span> zone))<span class="op">;</span></span>
<span id="cb7-814"><a href="#cb7-814" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="vs">`</span><span class="sc">${</span>yd[<span class="dv">0</span>]<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">4</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">+</span><span class="sc">${</span>yd[<span class="dv">1</span>]<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}${</span></span>
<span id="cb7-815"><a href="#cb7-815" aria-hidden="true" tabindex="-1"></a>        yearDoty[<span class="dv">1</span>]<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">includes</span>(<span class="st">"."</span>) <span class="op">?</span> <span class="st">"."</span> <span class="op">+</span> (</span>
<span id="cb7-816"><a href="#cb7-816" aria-hidden="true" tabindex="-1"></a>            (yearDoty[<span class="dv">1</span>] <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">?</span> (yearDoty[<span class="dv">1</span>] <span class="op">-</span> zone)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">split</span>(<span class="st">"."</span>)<span class="op">.</span><span class="fu">pop</span>()</span>
<span id="cb7-817"><a href="#cb7-817" aria-hidden="true" tabindex="-1"></a>            <span class="op">:</span> [<span class="op">...</span>(yearDoty[<span class="dv">1</span>] <span class="op">-</span> zone)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">split</span>(<span class="st">"."</span>)<span class="op">.</span><span class="fu">pop</span>()]<span class="op">.</span><span class="fu">map</span>(</span>
<span id="cb7-818"><a href="#cb7-818" aria-hidden="true" tabindex="-1"></a>                (e<span class="op">,</span> i<span class="op">,</span> a) <span class="kw">=&gt;</span> (i <span class="op">+</span> <span class="dv">1</span> <span class="op">===</span> a<span class="op">.</span><span class="at">length</span>) <span class="op">?</span> <span class="dv">10</span> <span class="op">-</span> e <span class="op">:</span> <span class="dv">9</span> <span class="op">-</span> e</span>
<span id="cb7-819"><a href="#cb7-819" aria-hidden="true" tabindex="-1"></a>            )<span class="op">.</span><span class="fu">join</span>(<span class="st">""</span>)</span>
<span id="cb7-820"><a href="#cb7-820" aria-hidden="true" tabindex="-1"></a>        ) <span class="op">:</span> <span class="st">""</span></span>
<span id="cb7-821"><a href="#cb7-821" aria-hidden="true" tabindex="-1"></a>    <span class="sc">}</span><span class="vs">`</span></span>
<span id="cb7-822"><a href="#cb7-822" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-823"><a href="#cb7-823" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">deco2doty</span>(timestamp <span class="op">=</span> <span class="st">"1969+306.00000Z"</span>) {</span>
<span id="cb7-824"><a href="#cb7-824" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> arr <span class="op">=</span> timestamp<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">split</span>(<span class="ss">/</span><span class="sc">(?</span><span class="ss">=</span><span class="sc">[+-]|[a-zA-Z])</span><span class="ss">/</span><span class="op">,</span> <span class="dv">3</span>)<span class="op">;</span></span>
<span id="cb7-825"><a href="#cb7-825" aria-hidden="true" tabindex="-1"></a>    <span class="cf">switch</span> (arr<span class="op">.</span><span class="at">length</span>) {</span>
<span id="cb7-826"><a href="#cb7-826" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="dv">1</span><span class="op">:</span> <span class="cf">return</span> [<span class="fu">unix2doty</span>(<span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>())[<span class="dv">0</span>]<span class="op">,</span> <span class="pp">parseFloat</span>(arr[<span class="dv">0</span>])<span class="op">,</span> <span class="dv">0</span>]<span class="op">;</span></span>
<span id="cb7-827"><a href="#cb7-827" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="dv">2</span><span class="op">:</span> <span class="cf">return</span> (<span class="ss">/</span><span class="sc">^[a-zA-Z]+$</span><span class="ss">/</span><span class="op">.</span><span class="fu">test</span>(arr[<span class="dv">1</span>]))</span>
<span id="cb7-828"><a href="#cb7-828" aria-hidden="true" tabindex="-1"></a>            <span class="op">?</span> [<span class="fu">unix2doty</span>(<span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>())[<span class="dv">0</span>]<span class="op">,</span> <span class="pp">parseFloat</span>(arr[<span class="dv">0</span>])<span class="op">,</span> <span class="fu">zone2hour</span>(arr[<span class="dv">1</span>]) <span class="op">/</span> <span class="dv">24</span>]</span>
<span id="cb7-829"><a href="#cb7-829" aria-hidden="true" tabindex="-1"></a>            <span class="op">:</span> [<span class="pp">parseFloat</span>(arr[<span class="dv">0</span>])<span class="op">,</span> <span class="pp">parseFloat</span>(arr[<span class="dv">1</span>])<span class="op">,</span> <span class="dv">0</span>]<span class="op">;</span></span>
<span id="cb7-830"><a href="#cb7-830" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb7-831"><a href="#cb7-831" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [<span class="pp">parseFloat</span>(arr[<span class="dv">0</span>])<span class="op">,</span> <span class="pp">parseFloat</span>(arr[<span class="dv">1</span>])<span class="op">,</span> <span class="ss">/</span><span class="sc">^[a-zA-Z]+$</span><span class="ss">/</span><span class="op">.</span><span class="fu">test</span>(arr[<span class="dv">2</span>])</span>
<span id="cb7-832"><a href="#cb7-832" aria-hidden="true" tabindex="-1"></a>        <span class="op">?</span> <span class="fu">zone2hour</span>(arr[<span class="dv">2</span>]) <span class="op">/</span> <span class="dv">24</span></span>
<span id="cb7-833"><a href="#cb7-833" aria-hidden="true" tabindex="-1"></a>        <span class="op">:</span> <span class="pp">parseFloat</span>(arr[<span class="dv">2</span>]<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">([+-])</span><span class="ss">/</span><span class="op">,</span> <span class="st">"$1</span><span class="sc">\.</span><span class="st">"</span>))]<span class="op">;</span></span>
<span id="cb7-834"><a href="#cb7-834" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-835"><a href="#cb7-835" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">zone2hour</span>(zone <span class="op">=</span> <span class="st">"Z"</span>) {</span>
<span id="cb7-836"><a href="#cb7-836" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (zone <span class="op">=</span> zone<span class="op">.</span><span class="fu">toUpperCase</span>()) <span class="op">==</span> <span class="st">"Z"</span> <span class="op">?</span> <span class="dv">0</span></span>
<span id="cb7-837"><a href="#cb7-837" aria-hidden="true" tabindex="-1"></a>        <span class="op">:</span> zone <span class="op">&gt;</span> <span class="st">"@"</span> <span class="op">&amp;&amp;</span> zone <span class="op">&lt;</span> <span class="st">"J"</span> <span class="op">?</span> zone<span class="op">.</span><span class="fu">charCodeAt</span>() <span class="op">-</span> <span class="dv">64</span></span>
<span id="cb7-838"><a href="#cb7-838" aria-hidden="true" tabindex="-1"></a>        <span class="op">:</span> zone <span class="op">&gt;</span> <span class="st">"J"</span> <span class="op">&amp;&amp;</span> zone <span class="op">&lt;</span> <span class="st">"N"</span> <span class="op">?</span> zone<span class="op">.</span><span class="fu">charCodeAt</span>() <span class="op">-</span> <span class="dv">65</span></span>
<span id="cb7-839"><a href="#cb7-839" aria-hidden="true" tabindex="-1"></a>        <span class="op">:</span> zone <span class="op">&lt;</span> <span class="st">"Z"</span> <span class="op">&amp;&amp;</span> zone <span class="op">&gt;</span> <span class="st">"M"</span> <span class="op">?</span> <span class="op">-</span>(zone<span class="op">.</span><span class="fu">charCodeAt</span>() <span class="op">-</span> <span class="dv">77</span>)</span>
<span id="cb7-840"><a href="#cb7-840" aria-hidden="true" tabindex="-1"></a>        <span class="op">:</span> zone<span class="op">;</span></span>
<span id="cb7-841"><a href="#cb7-841" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-842"><a href="#cb7-842" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2unix</span>(year <span class="op">=</span> <span class="dv">1969</span><span class="op">,</span> doty <span class="op">=</span> <span class="dv">306</span><span class="op">,</span> zone <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb7-843"><a href="#cb7-843" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (<span class="fu">date2dote</span>(year<span class="op">,</span> doty<span class="op">,</span> zone) <span class="op">-</span> <span class="dv">719468</span>) <span class="op">*</span> <span class="dv">86400000</span><span class="op">;</span></span>
<span id="cb7-844"><a href="#cb7-844" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-845"><a href="#cb7-845" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2isoc</span>(yd) {</span>
<span id="cb7-846"><a href="#cb7-846" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">new</span> <span class="bu">Date</span>(<span class="fu">doty2unix</span>(<span class="op">...</span>yd))</span>
<span id="cb7-847"><a href="#cb7-847" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-848"><a href="#cb7-848" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2greg</span>(doty <span class="op">=</span> <span class="dv">306</span>) {</span>
<span id="cb7-849"><a href="#cb7-849" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> m <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((<span class="dv">5</span> <span class="op">*</span> doty <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">153</span>)<span class="op">;</span></span>
<span id="cb7-850"><a href="#cb7-850" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [</span>
<span id="cb7-851"><a href="#cb7-851" aria-hidden="true" tabindex="-1"></a>      <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(m <span class="op">&lt;</span> <span class="dv">10</span> <span class="op">?</span> m <span class="op">+</span> <span class="dv">3</span> <span class="op">:</span> m <span class="op">-</span> <span class="dv">9</span>)<span class="op">,</span></span>
<span id="cb7-852"><a href="#cb7-852" aria-hidden="true" tabindex="-1"></a>      <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(doty <span class="op">-</span> (<span class="dv">153</span> <span class="op">*</span> m <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">5</span> <span class="op">+</span> <span class="dv">2</span>)</span>
<span id="cb7-853"><a href="#cb7-853" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">;</span></span>
<span id="cb7-854"><a href="#cb7-854" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-855"><a href="#cb7-855" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">greg2doty</span>(month <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> day <span class="op">=</span> <span class="dv">1</span>) {</span>
<span id="cb7-856"><a href="#cb7-856" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(</span>
<span id="cb7-857"><a href="#cb7-857" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">153</span> <span class="op">*</span> (month <span class="op">&gt;</span> <span class="dv">2</span> <span class="op">?</span> month <span class="op">-</span> <span class="dv">3</span> <span class="op">:</span> month <span class="op">+</span> <span class="dv">9</span>) <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">5</span> <span class="op">+</span> day <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb7-858"><a href="#cb7-858" aria-hidden="true" tabindex="-1"></a>)}</span>
<span id="cb7-859"><a href="#cb7-859" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">greg2year</span>(year <span class="op">=</span> <span class="dv">1970</span><span class="op">,</span> month <span class="op">=</span> <span class="dv">1</span>) { <span class="cf">return</span> year <span class="op">-</span> (month <span class="op">&lt;</span> <span class="dv">3</span>) }</span>
<span id="cb7-860"><a href="#cb7-860" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">isoc2doty</span>(isoc) {</span>
<span id="cb7-861"><a href="#cb7-861" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> [<span class="fu">greg2year</span>(isoc<span class="op">.</span><span class="fu">getFullYear</span>()<span class="op">,</span> isoc<span class="op">.</span><span class="fu">getUTCMonth</span>() <span class="op">+</span> <span class="dv">1</span>)<span class="op">,</span> <span class="fu">greg2doty</span>(isoc<span class="op">.</span><span class="fu">getUTCMonth</span>() <span class="op">+</span> <span class="dv">1</span><span class="op">,</span> isoc<span class="op">.</span><span class="fu">getUTCDate</span>())]<span class="op">;</span></span>
<span id="cb7-862"><a href="#cb7-862" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb7-863"><a href="#cb7-863" aria-hidden="true" tabindex="-1"></a>leapInput <span class="op">=</span> leapscrub[<span class="dv">1</span>]</span>
<span id="cb7-864"><a href="#cb7-864" aria-hidden="true" tabindex="-1"></a>turnInput <span class="op">=</span> leapscrub[<span class="dv">2</span>]</span>
<span id="cb7-865"><a href="#cb7-865" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">addN</span>(d) { <span class="cf">return</span> d <span class="op">+</span> <span class="dv">365</span> <span class="op">+</span> leapInput }</span>
<span id="cb7-866"><a href="#cb7-866" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">subN</span>(d) { <span class="cf">return</span> d <span class="op">-</span> <span class="dv">365</span> <span class="op">-</span> leapInput }</span>
<span id="cb7-867"><a href="#cb7-867" aria-hidden="true" tabindex="-1"></a>dates <span class="op">=</span> d3<span class="op">.</span><span class="fu">utcDays</span>(<span class="kw">new</span> <span class="bu">Date</span>(<span class="dv">1999</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">,</span> <span class="kw">new</span> <span class="bu">Date</span>(<span class="dv">2000</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">28</span> <span class="op">+</span> leapInput))<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-67" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-68" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-69" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-70" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-71" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-72" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-73" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-74" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-75" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-76" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-77" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-78" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-79" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-80" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-81" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-82" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-83" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-84" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-85" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display hidden">
<div>
<div id="ojs-cell-6-86" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<style>
h6.relative.anchored {
  margin-top: -25px;
  margin-bottom: -2px;
}
form.oi-3a86ea-checkbox {
  max-width: 700px;
}
div.cell:has(form.oi-3a86ea-toggle) {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
}
div.observablehq > div:has(form.oi-3a86ea-toggle) {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
}
div.cell:has(form.oi-3a86ea) {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
}
form.oi-3a86ea-toggle {
  max-width: 100% !important;
  --input-width: 30px;
  --label-width: 100px;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
}
form.oi-3a86ea {
  --input-width: 200px;
  padding-right: 9px;
}
form.oi-3a86ea-toggle > label {
  width: 75px;
}
form.oi-3a86ea-toggle > label[for="oi-3a86ea-2"] {
  width: 110px;
}
form.oi-3a86ea-toggle > input#oi-3a86ea-2 {
  width: 15px;
}
form.oi-3a86ea-toggle {
  width: 105px;
}
form.oi-3a86ea-toggle:has(input#oi-3a86ea-2) {
  width: 150px;
}
input.oi-3a86ea-input[type="checkbox"] {
  margin: 4px 0px 0px 0px;
}
div > form.oi-3a86ea > label {
  --label-width: 105px;
}
form.oi-3a86ea > div.oi-3a86ea-input > input[type="number"] {
  max-width: 60px;
}
div.column-page:has(svg.calplot) {
  display: flex;
  justify-content: center;
}
div.observablehq > figure > h2 {
  text-align: center;
  font-size: 1.3rem;
  margin-bottom: -8px;
}
input[type="radio"] {
  margin: 1px 0px 0px 0px;
}
p:has(.radiotitle) {
  margin-top: -3px;
  margin-bottom: -3px;
}
#radiobuttons {
  margin-bottom: -12px;
}
svg#finger {
  max-width: 760px;
}
h4.anchored {
  margin: 8px 0px 8px 0px;
}
#mermaid-1 {
  margin-top: 15px;
  margin-bottom: -20px;
}
div.cell-output-display:has(svg#mermaid-2.flowchart.mermaid-js) {
  margin-top: -35px;
}
div.cell-output-display:has(svg#mermaid-3.flowchart.mermaid-js) {
  margin-top: -35px;
  margin-bottom: -35px;
}
</style>


<!-- -->

<div class="ojs-auto-generated hidden">
<script type="ojs-module-contents">
eyJjb250ZW50cyI6WyAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZG90eUlucHV0fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0RvdHl9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0yIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtUbWludXN9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0zIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkZWNvRG90eX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTQifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke1RtaW51c308L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTUifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke25EYXlzSW5ZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNiJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0Rla308L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTcifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29Eb3R5fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtOCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0RvZH08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTkifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29Eb3R5fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMTAifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29Eb3R5fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMTEifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29EZWt9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0xMiJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0RvZH08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTEzIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHt4bWFzRG90d308L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTE0In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHt4bWFzRG90ZX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTE1In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHt4bWFzRG90d308L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTE2In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkYXkyNjZkb3R3fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMTcifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RheTI2NmRvdHdEaWZmfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMTgifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RheTI2NmRvdHd9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0xOSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGF5MjY2ZG90d0RpZmZ9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0yMCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZnVsbGZyYWNZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMjEifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29ZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMjIifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29Eb3R5fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMjMifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke25EYXlzSW5ZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMjQifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke25leHRZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMjUifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke1RtaW51c1BhZGRlZH08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTI2In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtuZXh0WWVhcn08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTI3In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtUbWludXN9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0yOCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0RvdHl9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0yOSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7bW9kMUZyYWNZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMzAifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke25EYXlzSW5ZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMzEifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29ZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMzIifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke3htYXNEaWZmU2lnbn08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTMzIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtNYXRoLmFicyh4bWFzRGlmZil9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0zNCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7TWF0aC5hYnMoeG1hc0RpZmYpfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMzUifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke3htYXNEaWZmU2luY2V9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0zNiJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0RvdHl9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0zNyJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7eG1hc0RpZmZ9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0zOCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb1llYXJ9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0zOSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0RvdHl9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC00MCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb1llYXJ9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC00MSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7eG1hc0RpZmZTaWdufTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNDIifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke01hdGguYWJzKHhtYXNEaWZmKX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTQzIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkZWNvWWVhcn08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTQ0In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkZWNvRG90eX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTQ1In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHt4bWFzRGlmZlNpZ259PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC00NiJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7TWF0aC5hYnMoeG1hc0RpZmYpfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNDcifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29ZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNDgifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29Eb3R5fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNDkifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29ZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNTAifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29Eb3R5fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNTEifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29ZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNTIifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke3htYXNEaWZmU2lnbn08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTUzIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtNYXRoLmFicyh4bWFzRGlmZil9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC01NCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb1llYXJ9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC01NSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0RvdHl9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC01NiJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb1llYXJ9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC01NyJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0RvdHl9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC01OCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb1llYXJ9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC01OSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZG90dzBzaWdufTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNjAifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RvdHcwZG90eX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTYxIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkb3R3fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNjIifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29Eb3R5fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNjMifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RvdHcwZG90eX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTY0In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkb3R3fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNjUifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29ZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNjYifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke3dlZWt9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC02NyJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZG90d308L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTY4In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHt3ZWVrfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNjkifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RvdHcwZG90eX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTcwIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkb3R5MGRvdHd9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC03MSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7d2Vla308L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTcyIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkb3R3MGRvdHl9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC03MyJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZG90eTBkb3R3fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNzQifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke3dlZWt9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC03NSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZG90d308L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTc2In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHt3ZWVrfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtNzcifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RvdHd9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC03OCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0RvdHl9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC03OSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZG90eTBkb3R3fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtODAifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29Eb3R5WzJdfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtODEifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29Eb3R5fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtODIifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29QZW50fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtODMifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29EZWt9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC04NCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0RvZH08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTg1In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkZWNvWWVhcn08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTg2In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHttb250aE51bWJlcn08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTg3In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkb3RtfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtODgifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29ZZWFyfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtODkifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke21vbnRoTnVtYmVyMH08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTkwIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkb3RtMH08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTkxIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkZWNvWWVhcn08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTkyIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkb3RtfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtOTMifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RvdHd9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC05NCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb1llYXJ9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC05NSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZG90dzBzaWdufTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtOTYifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RvdHcwZG90eX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTk3In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkb3R3fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtOTgifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY2lkYXlUaW1lfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtOTkifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke3pvbmVTaWdufTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMTAwIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtNYXRoLmFicyh6b25lKX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTEwMSJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGF5VGltZS50b0ZpeGVkKDUpfTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMTAyIn0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkZWNpZGF5VGltZX08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTEwMyJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb1llYXJ9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0xMDQifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke2RlY29Eb3R5fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMTA1In0sICB7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJpbmxpbmUiOiJ0cnVlIiwic291cmNlIjoiaHRsLmh0bWxgPHNwYW4+JHtkYXkyNjZkb3R3RGlmZiArIDI2Nn08L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTEwNiJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7ZGVjb0RvdHkuc2xpY2UoMCwgMil9PC9zcGFuPmAiLCAiY2VsbE5hbWUiOiJvanMtZWxlbWVudC1pZC0xMDcifSwgIHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImlubGluZSI6InRydWUiLCJzb3VyY2UiOiJodGwuaHRtbGA8c3Bhbj4ke21vbnRoTnVtYmVyIC0gZG90d308L3NwYW4+YCIsICJjZWxsTmFtZSI6Im9qcy1lbGVtZW50LWlkLTEwOCJ9LCAgeyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiaW5saW5lIjoidHJ1ZSIsInNvdXJjZSI6Imh0bC5odG1sYDxzcGFuPiR7bW9udGhOdW1iZXIgLSBkb3R3fTwvc3Bhbj5gIiwgImNlbGxOYW1lIjoib2pzLWVsZW1lbnQtaWQtMTA5In1dfQ==
</script>
</div>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{laptev2024,
  author = {Laptev, Martin},
  title = {Dec {Date}},
  date = {2024},
  urldate = {2024},
  url = {https://maptv.github.io/dec/date},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-laptev2024" class="csl-entry quarto-appendix-citeas" role="listitem">
Laptev, Martin. 2024. <span>“Dec Date.”</span> 2024. <a href="https://maptv.github.io/dec/date">https://maptv.github.io/dec/date</a>.
</div></div></section></div></main> <!-- /main -->
<script src="../../asset/cite.js"></script>
<style>
#title-block-header > div.quarto-title-banner.page-columns.page-full { margin: 0px; padding: 0px; }
#title-block-header { margin: 0px; }
main#quarto-document-content { margin: 0px; padding: 0px; }
ul.navbar-nav.navbar-nav-scroll { -webkit-flex-direction: row; }
#quarto-sidebar { padding: 0px; overflow-x: hidden !important; }
#quarto-sidebar > * { padding: 0px; }
div.quarto-title-meta { padding-bottom: 8px; }
h2, h3 { margin: 0px; }
h3 { margin-top: 17px !important; }
div.cell.page-columns.page-full { height: 0px !important; }
@media only screen and (max-width: 991px) { #quarto-search { display: none !important; } #quarto-sidebar { padding: 0px 9px 0px 9px !important; } }
@media only screen and (max-width: 767px) { div.cell.page-columns.page-full { display: none !important; } }
</style>
<script src="../../asset/stamp.js"></script>
<script>
const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
</script>
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiBsZWFwc2NydWIgPSBJbnB1dHMuZm9ybShbXG4gIFNjcnViYmVyKG51bWJlcnMsIHthdXRvcGxheTogZmFsc2UsIGFsdGVybmF0ZTogdHJ1ZSwgZGVsYXk6IDg2LjQsIGxvb3BEZWxheTogODY0LCBmb3JtYXQ6IHkgPT4gXCJcIiwgaW5wdXRTdHlsZTogXCJkaXNwbGF5Om5vbmU7XCJ9KSxcbiAgSW5wdXRzLnRvZ2dsZSh7bGFiZWw6IFwiTGVhcCB5ZWFyXCIsIHZhbHVlOiBmYWxzZX0pLFxuICBJbnB1dHMudG9nZ2xlKHtsYWJlbDogXCJWZXJ0aWNhbCBsYXlvdXRcIiwgdmFsdWU6IGZhbHNlfSksXG5dKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoidmlld29mIGRvdHlJbnB1dCA9IElucHV0cy5yYW5nZShbMCwgMzY0ICsgbGVhcElucHV0XSwge3ZhbHVlOiAzMDYsIHN0ZXA6IDEsIGxhYmVsOiBcIkRheSBvZiB5ZWFyXCJ9KTtcbnZpZXdvZiBtb250aElucHV0ID0gdHJhbnNmb3JtSW5wdXQoXG4gIElucHV0cy5yYW5nZShbMSwgMTJdLCB7c3RlcDogMSwgbGFiZWw6IFwiTW9udGhcIn0pLFxuICB7YmluZDogdmlld29mIGRvdHlJbnB1dCwgdHJhbnNmb3JtOiBkb3R5Mm1vbnRoLCBpbnZlcnQ6IG1vbnRoMmRvdHl9XG4pO1xudmlld29mIGRvdHlJbnB1dDEgPSB0cmFuc2Zvcm1JbnB1dChcbiAgSW5wdXRzLnJhbmdlKFstMzY1IC0gbGVhcElucHV0LCAtMV0sIHtzdGVwOiAxLCBsYWJlbDogXCJEYXkgb2YgeWVhclwifSksXG4gIHtiaW5kOiB2aWV3b2YgZG90eUlucHV0LCB0cmFuc2Zvcm06IHN1Yk4sIGludmVydDogYWRkTn1cbik7XG52aWV3b2YgZG90bUlucHV0ID0gdHJhbnNmb3JtSW5wdXQoXG4gIElucHV0cy5yYW5nZShbMSwgMzFdLCB7c3RlcDogMSwgbGFiZWw6IFwiRGF5IG9mIG1vbnRoXCJ9KSxcbiAge2JpbmQ6IHZpZXdvZiBkb3R5SW5wdXQsIHRyYW5zZm9ybTogZG90eTJkb3RtLCBpbnZlcnQ6ICh4ID0+IE1hdGguZmxvb3IoKCAxNTMgKiAoXG4gICAgdmlld29mIG1vbnRoSW5wdXQudmFsdWUgPiAyXG4gICAgPyB2aWV3b2YgbW9udGhJbnB1dC52YWx1ZSAtIDNcbiAgICA6IHZpZXdvZiBtb250aElucHV0LnZhbHVlICsgOSkgKyAyXG4gICkgLyA1ICsgeCAtIDFcbikpfSk7XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJkZWNQbG90ID0gdHVybklucHV0ID8gUGxvdC5wbG90KHtcbiAgdGl0bGU6IFwiRGVjYWxlbmRhclwiLFxuICBwYWRkaW5nOiAwLFxuICB3aWR0aDogNDgwLFxuICBoZWlnaHQ6IDk4MCxcbiAgY2xhc3NOYW1lOiBcImNhbHBsb3RcIixcbiAgbWFyZ2luVG9wOiAtMyxcbiAgbWFyZ2luUmlnaHQ6IDMxLFxuICBtYXJnaW5Cb3R0b206IDM1LFxuICB4OiB7dGlja1NpemU6IDAsXG4gICAgICBsYWJlbDogXCJEYXkgb2YgZGVrICAgIFwiLFxuICAgICAgZG9tYWluOiBbMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOV0sXG4gICAgICB0aWNrczogWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDldLFxuICAgICAgdGlja1BhZGRpbmc6IC05LFxuICAgICAgbGFiZWxPZmZzZXQ6IDI0LFxuICB9LFxuICB5OiB7aW50ZXJ2YWw6IDEsIHRpY2tzOiAxOCwgbGFiZWw6IFwiRGVrXCIsIHR5cGU6IFwiYmFuZFwiLCB0aWNrU2l6ZTogMCwgdGlja1BhZGRpbmc6IC0yLCBsYWJlbE9mZnNldDogNDAsIGxhYmVsQXJyb3c6IGZhbHNlfSxcbiAgLy9meDoge3RpY2tGb3JtYXQ6IFwiXCJ9LFxuICBzdHlsZTogeyBmb250U2l6ZTogXCIyMXB4XCIgfSxcbiAgY29sb3I6IHtcbiAgICByYW5nZTogZDMuc2NoZW1lUGFzdGVsMS5jb25jYXQoZDMuc2NoZW1lUGFzdGVsMi5zbGljZSg0LCA3KSkuY29uY2F0KGQzLnNjaGVtZVNldDFbMF0pLFxuICAgIGRvbWFpbjogbW9udGhzLmNvbmNhdChcInNlbGVjdGVkXCIpLFxuICAgIGNsYXNzTmFtZTogXCJjYWxcIixcbiAgfSxcbiAgbWFya3M6IFtcbiAgICBQbG90LmNlbGwoZGF0ZXMsIHtcbiAgICAgIHk6IChkLCBpKSA9PiBNYXRoLmZsb29yKGkgLyAxMCksXG4gICAgICB4OiAoZCwgaSkgPT4gaSAlIDEwLFxuICAgICAgLy9meDogZCA9PiBkLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICBmaWxsOiBkID0+IE1hdGguZmxvb3IodW5peDJkb3R5KGQuZ2V0VGltZSgpKSkgPT09IGRvdHlJbnB1dCA/IFwic2VsZWN0ZWRcIiA6IG1vbnRoc1tkLmdldFVUQ01vbnRoKCldLFxuICAgICAgc3Ryb2tlOiBkID0+IE1hdGguZmxvb3IodW5peDJkb3R5KGQuZ2V0VGltZSgpKSkgPT09IGRvdHlJbnB1dCA/IFwiZGFya29yYW5nZVwiIDogXCJub25lXCIsXG4gICAgICBzdHJva2VXaWR0aDogMyxcbiAgICAgIGluc2V0OiAwLjUsXG4gICAgfSksXG4gICAgUGxvdC50ZXh0KGRhdGVzLCB7XG4gICAgICB5OiAoZCwgaSkgPT4gTWF0aC5mbG9vcihpIC8gMTApLFxuICAgICAgdGV4dDogZCA9PiBkLmdldFVUQ0RhdGUoKSA9PT0gMTEgPyBtb250aHNbZC5nZXRVVENNb250aCgpXS5zbGljZSgwLCAzKSA6IFwiXCIsXG4gICAgICBmcmFtZUFuY2hvcjogXCJyaWdodFwiLFxuICAgICAgZHg6IDMyLFxuICAgICAgbW9ub3NwYWNlOiB0cnVlLFxuICAgICAgZm9udFNpemU6IFwiMThweFwifSksXG4gICAgUGxvdC50ZXh0KGRhdGVzLCB7XG4gICAgICB5OiAoZCwgaSkgPT4gTWF0aC5mbG9vcihpIC8gMTApLFxuICAgICAgeDogKGQsIGkpID0+IGkgJSAxMCxcbiAgICAgIC8vZng6IGQgPT4gZC5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgZmlsbDogZCA9PiBNYXRoLmZsb29yKHVuaXgyZG90eShkLmdldFRpbWUoKSkpID09PSBkb3R5SW5wdXQgPyBcIndoaXRlXCIgOiBcImJsYWNrXCIsXG4gICAgICAvL3N0cm9rZTogXCJ3aGl0ZVwiLFxuICAgICAgdGV4dDogKGQsIGkpID0+IFN0cmluZyhpKSwvLy5wYWRTdGFydCgzLCBcIjBcIikuc2xpY2UoMSksXG4gICAgICBtb25vc3BhY2U6IHRydWUsXG4gICAgICBmb250U2l6ZTogXCIxNnB4XCJ9KVxuICAgIF1cbiAgfSkgOiBQbG90LnBsb3Qoe1xuICB0aXRsZTogXCJEZWNhbGVuZGFyXCIsXG4gIHBhZGRpbmc6IDAsXG4gIHdpZHRoOiAxMjgwLFxuICBoZWlnaHQ6IDI4MCxcbiAgbWFyZ2luVG9wOiAtMyxcbiAgbWFyZ2luTGVmdDogMzEsXG4gIG1hcmdpbkJvdHRvbTogMzUsXG4gIHk6IHt0aWNrU2l6ZTogMCxcbiAgICAgIGxhYmVsOiBcIkRheSBvZiBkZWsgICAgXCIsXG4gICAgICBkb21haW46IFstMSwgMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOV0sXG4gICAgICB0aWNrczogWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDldLFxuICAgICAgdGlja1BhZGRpbmc6IC00LFxuICAgICAgbGFiZWxPZmZzZXQ6IDI4LFxuICB9LFxuICB4OiB7aW50ZXJ2YWw6IDEsIHRpY2tzOiAxOCwgbGFiZWw6IFwiRGVrXCIsIHR5cGU6IFwiYmFuZFwiLCB0aWNrU2l6ZTogMCwgdGlja1BhZGRpbmc6IC0yLCBsYWJlbE9mZnNldDogMzIsIGxhYmVsQXJyb3c6IGZhbHNlfSxcbiAgc3R5bGU6IHsgZm9udFNpemU6IFwiMjFweFwiIH0sXG4gIGNvbG9yOiB7XG4gICAgcmFuZ2U6IGQzLnNjaGVtZVBhc3RlbDEuY29uY2F0KGQzLnNjaGVtZVBhc3RlbDIuc2xpY2UoNCwgNykpLmNvbmNhdChkMy5zY2hlbWVTZXQxWzBdKSxcbiAgICBkb21haW46IG1vbnRocy5jb25jYXQoXCJzZWxlY3RlZFwiKSxcbiAgICBjbGFzc05hbWU6IFwiY2FsXCIsXG4gIH0sXG4gIG1hcmtzOiBbXG4gICAgUGxvdC5jZWxsKGRhdGVzLCB7XG4gICAgICB4OiAoZCwgaSkgPT4gTWF0aC5mbG9vcihpIC8gMTApLFxuICAgICAgeTogKGQsIGkpID0+IGkgJSAxMCxcbiAgICAgIC8vZng6IGQgPT4gZC5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgZmlsbDogZCA9PiBNYXRoLmZsb29yKHVuaXgyZG90eShkLmdldFRpbWUoKSkpID09PSBkb3R5SW5wdXQgPyBcInNlbGVjdGVkXCIgOiBtb250aHNbZC5nZXRVVENNb250aCgpXSxcbiAgICAgIHN0cm9rZTogZCA9PiBNYXRoLmZsb29yKHVuaXgyZG90eShkLmdldFRpbWUoKSkpID09PSBkb3R5SW5wdXQgPyBcImRhcmtvcmFuZ2VcIiA6IFwibm9uZVwiLFxuICAgICAgc3Ryb2tlV2lkdGg6IDMsXG4gICAgICBpbnNldDogMC41LFxuICAgIH0pLFxuICAgIFBsb3QudGV4dChkYXRlcywge1xuICAgICAgeDogKGQsIGkpID0+IE1hdGguZmxvb3IoaSAvIDEwKSxcbiAgICAgIHk6IChkLCBpKSA9PiBpICUgMTAsXG4gICAgICAvL2Z4OiBkID0+IGQuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIHRleHQ6IGQgPT4gZC5nZXRVVENEYXRlKCkgPT09IDExID8gbW9udGhzW2QuZ2V0VVRDTW9udGgoKV0uc2xpY2UoMCwgMykgOiBcIlwiLFxuICAgICAgeTogLTEsXG4gICAgICBmcmFtZUFuY2hvcjogXCJsZWZ0XCIsXG4gICAgICBkeTogLTEsXG4gICAgICBtb25vc3BhY2U6IHRydWUsXG4gICAgICBmb250U2l6ZTogXCIxOHB4XCJ9KSxcbiAgICBQbG90LnRleHQoZGF0ZXMsIHtcbiAgICAgIHg6IChkLCBpKSA9PiBNYXRoLmZsb29yKGkgLyAxMCksXG4gICAgICB5OiAoZCwgaSkgPT4gaSAlIDEwLFxuICAgICAgLy9meDogZCA9PiBkLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICBmaWxsOiBkID0+IE1hdGguZmxvb3IodW5peDJkb3R5KGQuZ2V0VGltZSgpKSkgPT09IGRvdHlJbnB1dCA/IFwid2hpdGVcIiA6IFwiYmxhY2tcIixcbiAgICAgIC8vc3Ryb2tlOiBcIndoaXRlXCIsXG4gICAgICB0ZXh0OiAoZCwgaSkgPT4gU3RyaW5nKGkpLC8vLnBhZFN0YXJ0KDMsIFwiMFwiKS5zbGljZSgxKSxcbiAgICAgIG1vbm9zcGFjZTogdHJ1ZSxcbiAgICAgIGZvbnRTaXplOiBcIjE2cHhcIn0pXG4gIF1cbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJjYWxQbG90ID0gdHVybklucHV0ID8gUGxvdC5wbG90KHtcbiAgdGl0bGU6IFwiR3JlZ29yaWFuIGNhbGVuZGFyXCIsXG4gIHBhZGRpbmc6IDAsXG4gIHdpZHRoOiAyODAsXG4gIGhlaWdodDogOTgwLFxuICBjbGFzc05hbWU6IFwiY2FscGxvdFwiLFxuICBtYXJnaW5Ub3A6IDEwLFxuICBtYXJnaW5Cb3R0b206IDMwLFxuICBtYXJnaW5SaWdodDogNDIsXG4gIHg6IHt0aWNrRm9ybWF0OiBQbG90LmZvcm1hdFdlZWtkYXkoXCJlblwiLCBcIm5hcnJvd1wiKSwgdGlja1NpemU6IDAsXG4gICAgICBkb21haW46IFstMSwgMCwgMSwgMiwgMywgNCwgNSwgNl0sXG4gICAgICB0aWNrczogWzAsIDEsIDIsIDMsIDQsIDUsIDZdLFxuICAgICAgdGlja1BhZGRpbmc6IDIsXG4gIH0sXG4gIHk6IHtpbnRlcnZhbDogMSwgdGlja3M6IDI2LCBsYWJlbDogXCJXZWVrXCIsIHR5cGU6IFwiYmFuZFwiLCB0aWNrU2l6ZTogMCwgdGlja1BhZGRpbmc6IC0yNiwgbGFiZWxPZmZzZXQ6IDE2LCBsYWJlbEFycm93OiBmYWxzZX0sXG4gIHN0eWxlOiB7IGZvbnRTaXplOiBcIjIxcHhcIiB9LFxuICBjb2xvcjoge1xuICAgIHJhbmdlOiBkMy5zY2hlbWVQYXN0ZWwxLmNvbmNhdChkMy5zY2hlbWVQYXN0ZWwyLnNsaWNlKDQsIDcpKS5jb25jYXQoZDMuc2NoZW1lU2V0MVswXSksXG4gICAgZG9tYWluOiBtb250aHMuY29uY2F0KFwic2VsZWN0ZWRcIiksXG4gICAgY2xhc3NOYW1lOiBcImNhbFwiLFxuICB9LFxuICBtYXJrczogW1xuICAgIFBsb3QuY2VsbChkYXRlc0NhbCwge1xuICAgICAgeTogZCA9PiBkMy51dGNXZWVrLmNvdW50KGQzLnV0Y1llYXIoZCksIGQpLFxuICAgICAgeDogZCA9PiBkLmdldFVUQ0RheSgpLFxuICAgICAgZmlsbDogZCA9PiBNYXRoLmZsb29yKHVuaXgyZG90eShkLmdldFRpbWUoKSkpID09PSBkb3R5SW5wdXQgPyBcInNlbGVjdGVkXCIgOiBtb250aHNbZC5nZXRVVENNb250aCgpXSxcbiAgICAgIHN0cm9rZTogZCA9PiBNYXRoLmZsb29yKHVuaXgyZG90eShkLmdldFRpbWUoKSkpID09PSBkb3R5SW5wdXQgPyBcImRhcmtvcmFuZ2VcIiA6IFwibm9uZVwiLFxuICAgICAgc3Ryb2tlV2lkdGg6IDMsXG4gICAgICBpbnNldDogLjUsXG4gICAgfSksXG4gICAgUGxvdC50ZXh0KGRhdGVzQ2FsLCB7XG4gICAgICB5OiBkID0+IGQzLnV0Y1dlZWsuY291bnQoZDMudXRjWWVhcihkKSwgZCksXG4gICAgICB0ZXh0OiBkID0+IGQuZ2V0VVRDRGF0ZSgpID09PSA5ID8gbW9udGhzW2QuZ2V0VVRDTW9udGgoKV0uc2xpY2UoMCwgMykgOiBcIlwiLFxuICAgICAgZnJhbWVBbmNob3I6IFwicmlnaHRcIixcbiAgICAgIGR4OiAzMixcbiAgICAgIG1vbm9zcGFjZTogdHJ1ZSxcbiAgICAgIGZvbnRTaXplOiBcIjE4cHhcIn0pLFxuICAgIFBsb3QudGV4dChkYXRlc0NhbCwge1xuICAgICAgeTogZCA9PiBkMy51dGNXZWVrLmNvdW50KGQzLnV0Y1llYXIoZCksIGQpLFxuICAgICAgeDogZCA9PiBkLmdldFVUQ0RheSgpLFxuICAgICAgZmlsbDogZCA9PiBNYXRoLmZsb29yKHVuaXgyZG90eShkLmdldFRpbWUoKSkpID09PSBkb3R5SW5wdXQgPyBcIndoaXRlXCIgOiBcImJsYWNrXCIsXG4gICAgICB0ZXh0OiBkID0+IGQuZ2V0VVRDRGF0ZSgpLCAvL01hdGguZmxvb3IodW5peDJkb3R5KGQuZ2V0VGltZSgpKSkudG9TdHJpbmcoKS5wYWRTdGFydCgzLCBcIjBcIiksXG4gICAgICBtb25vc3BhY2U6IHRydWUsXG4gICAgICBmb250U2l6ZTogXCIxNnB4XCJ9KVxuICBdXG59KSA6IFBsb3QucGxvdCh7XG4gIHRpdGxlOiBcIkdyZWdvcmlhbiBjYWxlbmRhclwiLFxuICBwYWRkaW5nOiAwLFxuICB3aWR0aDogMTI4MCxcbiAgaGVpZ2h0OiAyMDAsXG4gIG1hcmdpblRvcDogMCxcbiAgbWFyZ2luQm90dG9tOiA0MCxcbiAgbWFyZ2luTGVmdDogNDIsXG4gIHk6IHt0aWNrRm9ybWF0OiBQbG90LmZvcm1hdFdlZWtkYXkoXCJlblwiLCBcInNob3J0XCIpLCB0aWNrU2l6ZTogMCxcbiAgICAgIGRvbWFpbjogWy0xLCAwLCAxLCAyLCAzLCA0LCA1LCA2XSxcbiAgICAgIHRpY2tzOiBbMCwgMSwgMiwgMywgNCwgNSwgNl0sXG4gICAgICB0aWNrUGFkZGluZzogMCxcbiAgfSxcbiAgeDoge2ludGVydmFsOiAxLCB0aWNrczogMjYsIGxhYmVsOiBcIldlZWtcIiwgdHlwZTogXCJiYW5kXCIsIHRpY2tTaXplOiAwLCB0aWNrUGFkZGluZzogMiwgbGFiZWxPZmZzZXQ6IDM2LCBsYWJlbEFycm93OiBmYWxzZX0sXG4gIC8vZng6IHt0aWNrRm9ybWF0OiBcIlwifSxcbiAgc3R5bGU6IHsgZm9udFNpemU6IFwiMjFweFwiIH0sXG4gIGNvbG9yOiB7XG4gICAgcmFuZ2U6IGQzLnNjaGVtZVBhc3RlbDEuY29uY2F0KGQzLnNjaGVtZVBhc3RlbDIuc2xpY2UoNCwgNykpLmNvbmNhdChkMy5zY2hlbWVTZXQxWzBdKSxcbiAgICBkb21haW46IG1vbnRocy5jb25jYXQoXCJzZWxlY3RlZFwiKSxcbiAgICBjbGFzc05hbWU6IFwiY2FsXCIsXG4gIH0sXG4gIG1hcmtzOiBbXG4gICAgUGxvdC5jZWxsKGRhdGVzQ2FsLCB7XG4gICAgICB4OiBkID0+IGQzLnV0Y1dlZWsuY291bnQoZDMudXRjWWVhcihkKSwgZCksXG4gICAgICB5OiBkID0+IGQuZ2V0VVRDRGF5KCksXG4gICAgICAvL2Z4OiBkID0+IGQuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIGZpbGw6IGQgPT4gTWF0aC5mbG9vcih1bml4MmRvdHkoZC5nZXRUaW1lKCkpKSA9PT0gZG90eUlucHV0ID8gXCJzZWxlY3RlZFwiIDogbW9udGhzW2QuZ2V0VVRDTW9udGgoKV0sXG4gICAgICBzdHJva2U6IGQgPT4gTWF0aC5mbG9vcih1bml4MmRvdHkoZC5nZXRUaW1lKCkpKSA9PT0gZG90eUlucHV0ID8gXCJkYXJrb3JhbmdlXCIgOiBcIm5vbmVcIixcbiAgICAgIHN0cm9rZVdpZHRoOiAzLFxuICAgICAgaW5zZXQ6IC41LFxuICAgIH0pLFxuICAgIFBsb3QudGV4dChkYXRlc0NhbCwge1xuICAgICAgeDogZCA9PiBkMy51dGNXZWVrLmNvdW50KGQzLnV0Y1llYXIoZCksIGQpLFxuICAgICAgeTogZCA9PiBkLmdldFVUQ0RheSgpLFxuICAgICAgLy9meDogZCA9PiBkLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICB0ZXh0OiBkID0+IGQuZ2V0VVRDRGF0ZSgpID09PSA3ID8gbW9udGhzW2QuZ2V0VVRDTW9udGgoKV0uc2xpY2UoMCwgMykgOiBcIlwiLFxuICAgICAgeTogLTEsXG4gICAgICBmcmFtZUFuY2hvcjogXCJsZWZ0XCIsXG4gICAgICBkeTogLTEsXG4gICAgICBtb25vc3BhY2U6IHRydWUsXG4gICAgICBmb250U2l6ZTogXCIxOHB4XCJ9KSxcbiAgICBQbG90LnRleHQoZGF0ZXNDYWwsIHtcbiAgICAgIHg6IGQgPT4gZDMudXRjV2Vlay5jb3VudChkMy51dGNZZWFyKGQpLCBkKSxcbiAgICAgIHk6IGQgPT4gZC5nZXRVVENEYXkoKSxcbiAgICAgIC8vZng6IGQgPT4gZC5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgZmlsbDogZCA9PiBNYXRoLmZsb29yKHVuaXgyZG90eShkLmdldFRpbWUoKSkpID09PSBkb3R5SW5wdXQgPyBcIndoaXRlXCIgOiBcImJsYWNrXCIsXG4gICAgICAvL3N0cm9rZTogXCJ3aGl0ZVwiLFxuICAgICAgdGV4dDogZCA9PiBkLmdldFVUQ0RhdGUoKSwgLy9NYXRoLmZsb29yKHVuaXgyZG90eShkLmdldFRpbWUoKSkpLnRvU3RyaW5nKCkucGFkU3RhcnQoMywgXCIwXCIpLFxuICAgICAgbW9ub3NwYWNlOiB0cnVlLFxuICAgICAgZm9udFNpemU6IFwiMTZweFwifSlcbiAgXVxufSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiBkb3R3SW5wdXQgPSBJbnB1dHMucmFkaW8oW1xuICBcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCIsXG4gIF0sIHt2YWx1ZTogXCJTdW5kYXlcIn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ1bml4ID0ge1xuICB3aGlsZSh0cnVlKSB7XG4gICAgeWllbGQgRGF0ZS5ub3coKTtcbiAgfVxufVxuLy8gaHR0cDovL2hvd2FyZGhpbm5hbnQuZ2l0aHViLmlvL2RhdGVfYWxnb3JpdGhtcy5odG1sI2NpdmlsX2Zyb21fZGF5c1xuZnVuY3Rpb24gdW5peDJkb3RlKHVuaXgsIHpvbmUsIG9mZnNldCA9IDcxOTQ2OCkge1xuICByZXR1cm4gWyh1bml4ID8/IERhdGUubm93KCkpIC8gODY0MDAwMDAgKyAoXG4gICAgem9uZSA9IHpvbmUgPz8gLU1hdGgucm91bmQoXG4gICAgICAobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCkgLyAxNDQpXG4gICAgKSAvIDEwICsgb2Zmc2V0LCB6b25lXVxufVxuZnVuY3Rpb24gZG90ZTJkYXRlKGRvdGUsIHpvbmUgPSAwKSB7XG4gIGNvbnN0IGNvdGUgPSBNYXRoLmZsb29yKChcbiAgICAgIGRvdGUgPj0gMCA/IGRvdGVcbiAgICAgIDogZG90ZSAtIDE0NjA5NlxuICAgICkgLyAxNDYwOTcpLFxuICBkb3RjID0gZG90ZSAtIGNvdGUgKiAxNDYwOTcsXG4gIHlvdGMgPSBNYXRoLmZsb29yKChkb3RjXG4gICAgLSBNYXRoLmZsb29yKGRvdGMgLyAxNDYwKVxuICAgICsgTWF0aC5mbG9vcihkb3RjIC8gMzY1MjQpXG4gICAgLSBNYXRoLmZsb29yKGRvdGMgLyAxNDYwOTYpXG4gICkgLyAzNjUpO1xuICByZXR1cm4gW1xuICAgIHlvdGMgKyBjb3RlICogNDAwLFxuICAgIGRvdGMgLSAoeW90YyAqIDM2NVxuICAgICAgKyBNYXRoLmZsb29yKHlvdGMgLyA0KVxuICAgICAgLSBNYXRoLmZsb29yKHlvdGMgLyAxMDApXG4gICksIHpvbmVdfVxuZnVuY3Rpb24gZG90eTJkZWNvMCh5ZWFyID0gMTk2OSwgZG90eSA9IDMwNiwgem9uZSA9IDApIHtcbiAgcmV0dXJuIGAke3llYXIudG9TdHJpbmcoKS5wYWRTdGFydCg0LCBcIjBcIil9KyR7TWF0aC5mbG9vcihkb3R5KS50b1N0cmluZygpLnBhZFN0YXJ0KDMsIFwiMFwiKX0ke1N0cmluZyhkb3R5ICUgMSAqIDEwKS5zbGljZSgwLCA2KX0tJHt6b25lfWBcbn1cbmZ1bmN0aW9uIGRvdHcyZGlmZih4LCB5KSB7XG4gIHJldHVybiAoeCAtIHkgKyA3KSAlIDc7XG59XG5keiA9IHVuaXgyZG90ZSh1bml4KVxueWR6ID0gZG90ZTJkYXRlKC4uLmR6KVxuZGVjbyA9IGRvdHkyZGVjbzAoLi4ueWR6KVxuZnVuY3Rpb24geWVhcjJsZWFwKHllYXIgPSAxOTcwKSB7XG4gIHJldHVybiB5ZWFyICUgNCA9PSAwICYmIHllYXIgJSAxMDAgIT0gMCB8fCB5ZWFyICUgNDAwID09IDA7XG59XG5mdW5jdGlvbiBkb3RlMmRvdHcoZCA9IDcxOTQ2OCkge1xuICByZXR1cm4gZCA+PSAtMyA/IChkICsgMykgJSA3IDogKGQgKyA0KSAlIDcgKyA2XG59XG5kZWNvWWVhciA9IGRlY28uc2xpY2UoMCwgNClcbm5leHRZZWFyID0gcGFyc2VJbnQoZGVjb1llYXIpICsgMVxuZGVjb0RvdHkgPSBkZWNvLnNsaWNlKDUsIDgpXG5kZWNvRGVrID0gZGVjb0RvdHkuc2xpY2UoMCwgMilcbmRlY29Eb2QgPSBkZWNvRG90eVsyXVxuZGVjb1BlbnQgPSBkZWNvRGVrICogMiArIChkZWNvRG9kID4gNClcbnhtYXNEaWZmID0gZGVjb0RvdHkgLSAyOTlcbnhtYXNEaWZmU2lnbiA9IHhtYXNEaWZmIDwgMCA/IFwiLVwiIDogXCIrXCJcbnhtYXNEaWZmU2luY2UgPSB4bWFzRGlmZiA8IDAgPyBcImFyZSBsZWZ0IHVudGlsXCIgOiBcImhhdmUgcGFzc2VkIHNpbmNlXCJcbmRvdHlJbnB1dFN0ciA9IFN0cmluZyhkb3R5SW5wdXQpLnBhZFN0YXJ0KDMsIFwiMFwiKVxuZGVrSW5wdXQgPSBwYXJzZUludChkb3R5SW5wdXRTdHIuc2xpY2UoMCwgMikpXG5kb2RJbnB1dCA9IGRvdHlJbnB1dFN0clsyXVxueG1hc0RvdGUgPSBkYXRlMmRvdGUoeWR6WzBdLCAyOTkpWzBdXG54bWFzRG90dyA9IGRvdGUyZG90dyh4bWFzRG90ZSlcbmRvdHcgPSBNYXRoLmZsb29yKGRvdGUyZG90dyhkelswXSkpXG5kYXkyNjZkb3R3ID0gZG90ZTJkb3R3KGRhdGUyZG90ZSh5ZHpbMF0sIDI2NilbMF0pXG5kYXkyNjZkb3R3RGlmZiA9IGRvdHcyZGlmZig0LCBkYXkyNjZkb3R3KVxud2VlayA9IE1hdGguZmxvb3IoKHlkelsxXSArIGRvdHkwZG90dykgLyA3KVxuZG90bSA9IGRvdHkyZG90bShNYXRoLmZsb29yKHlkelsxXSkpXG5kb3RtMCA9IFN0cmluZyhkb3RtIC0gMSkucGFkU3RhcnQoMiwgXCIwXCIpXG5kb3RtMSA9IGRvdG0udG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIilcbm1vbnRoTnVtYmVyID0gTWF0aC5mbG9vcih5ZHpbMV0gLSBkb3RtKVxubW9udGhOdW1iZXIwID0gU3RyaW5nKG1vbnRoTnVtYmVyICsgMSkucGFkU3RhcnQoMywgXCIwXCIpXG5tb250aE51bWJlcjEgPSBtb250aE51bWJlci50b1N0cmluZygpLnBhZFN0YXJ0KDMsIFwiMFwiKVxuZG90dzBkb3R5ID0gTWF0aC5mbG9vcih5ZHpbMV0pIC0gZG90d1xuZG90eTBkb3RlID0gZGF0ZTJkb3RlKHlkelswXSwgMCwgeWR6WzJdKVxuZG90eTBkb3R3ID0gZG90ZTJkb3R3KC4uLmRvdHkwZG90ZSlcbmRvdHcwc2lnbiA9IGRvdHcwZG90eSA8IDAgPyBcIi1cIiA6IFwiK1wiXG5kYXlUaW1lID0gZHpbMF0gJSAxXG5kZWNpZGF5VGltZSA9IChkYXlUaW1lICogMTApLnRvRml4ZWQoNClcbnpvbmUgPSBkelsxXVxuem9uZVNpZ24gPSB6b25lIDwgMCA/IFwiK1wiIDogXCItXCJcbm5EYXlzSW5ZZWFyID0gMzY1ICsgeWVhcjJsZWFwKHlkelswXSArIDEpXG5UbWludXMgPSBuRGF5c0luWWVhciAtIGRlY29Eb3R5XG5UbWludXNQYWRkZWQgPSBUbWludXMudG9TdHJpbmcoKS5wYWRTdGFydCgzLCBcIjBcIilcbmZyYWNZZWFyID0geWR6WzBdICsgeWR6WzFdIC8gbkRheXNJblllYXJcbmZ1bGxmcmFjWWVhciA9IChmcmFjWWVhcikudG9GaXhlZCg0KVxubW9kMUZyYWNZZWFyID0gKGZyYWNZZWFyICUgMSkudG9GaXhlZCg0KVxubW9udGhzID0gW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIiwgXCJKdWx5XCIsIFwiQXVndXN0XCIsIFwiU2VwdGVtYmVyXCIsIFwiT2N0b2JlclwiLCBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIl07XG5tb250aE51bXMgPSBbXCIzMDVcIiwgXCIzMzZcIiwgXCJcIiwgXCIzMVwiLCBcIjYxXCIsIFwiOTJcIiwgXCIxMjJcIiwgXCIxNTNcIiwgXCIxODRcIiwgXCIyMTRcIiwgXCIyNDVcIiwgXCIyNzVcIl07XG50b2RheSA9IG5ldyBEYXRlKClcbm1vbnRoTmFtZSA9IHRvZGF5LnRvTG9jYWxlU3RyaW5nKCdkZWZhdWx0JywgeyBtb250aDogJ2xvbmcnIH0pO1xubW9udGhOdW1KUyA9IHRvZGF5LmdldE1vbnRoKCk7XG5jdXJyTW9udGggPSBtb250aE51bXNbbW9udGhOdW1KU11cbm5leHRNb250aCA9IG1vbnRoTnVtc1sobW9udGhOdW1KUyArIDEpICUgMTJdXG5kZWtTdGFydCA9IE1hdGguZmxvb3IoZGVjb0RvdHkgLyAxMCkgKiAxMFxuZGlmZiA9IHBhcnNlSW50KGN1cnJNb250aCB8fCAwKSAtIHBhcnNlSW50KG5leHRNb250aCB8fCBuRGF5c0luWWVhcilcbiAgLy9jdXJyTW9udGggPT09IFwiXCIgPyAwIDogcGFyc2VJbnQoY3Vyck1vbnRoKSAtIG5leHRNb250aCA9PT0gXCJcIiA/IG5EYXlzSW5ZZWFyIDogcGFyc2VJbnQobmV4dE1vbnRoKVxuLy8gaHR0cHM6Ly9vYnNlcnZhYmxlaHEuY29tL0BqdWFuZzE3NDQvdHJhbnNmb3JtLWlucHV0LzFcbnRyYW5zZm9ybUlucHV0ID0gZnVuY3Rpb24odGFyZ2V0LCB7YmluZDogc291cmNlLCB0cmFuc2Zvcm0gPSBpZGVudGl0eSwgaW52b2x1dG9yeSA9IGZhbHNlLCBpbnZlcnQgPSBpbnZvbHV0b3J5ID8gdHJhbnNmb3JtIDogaW52ZXJzZSh0cmFuc2Zvcm0pfSA9IHt9KXtcbiAgaWYgKHNvdXJjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc291cmNlID0gdGFyZ2V0O1xuICAgIHRhcmdldCA9IGh0bWxgPGRpdj4ke3NvdXJjZX08L2Rpdj5gO1xuICB9XG4gIGZ1bmN0aW9uIHNvdXJjZUlucHV0SGFuZGxlcigpIHtcbiAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHRhcmdldElucHV0SGFuZGxlcik7XG4gICAgc2V0VHJhbnNmb3JtKHRhcmdldCkudG8odHJhbnNmb3JtKHNvdXJjZS52YWx1ZSkpLmFuZERpc3BhdGNoRXZlbnQoKTtcbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHRhcmdldElucHV0SGFuZGxlcik7XG4gIH1cbiAgZnVuY3Rpb24gdGFyZ2V0SW5wdXRIYW5kbGVyKCkge1xuICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgc291cmNlSW5wdXRIYW5kbGVyKTtcbiAgICBzZXRUcmFuc2Zvcm0oc291cmNlKS50byhpbnZlcnQodGFyZ2V0LnZhbHVlKSkuYW5kRGlzcGF0Y2hFdmVudCgpO1xuICAgIHNvdXJjZS5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgc291cmNlSW5wdXRIYW5kbGVyKTtcbiAgfVxuICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHNvdXJjZUlucHV0SGFuZGxlcik7XG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgdGFyZ2V0SW5wdXRIYW5kbGVyKTtcbiAgaW52YWxpZGF0aW9uLnRoZW4oKCkgPT4ge1xuICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgc291cmNlSW5wdXRIYW5kbGVyKTtcbiAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIHRhcmdldElucHV0SGFuZGxlcik7XG4gIH0pO1xuICBzb3VyY2VJbnB1dEhhbmRsZXIoKTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cbnNldFRyYW5zZm9ybSA9IChpbnB1dCkgPT4gKHt0bzogKHZhbHVlKSA9PiAoaW5wdXQudmFsdWUgPSB2YWx1ZSwge2FuZERpc3BhdGNoRXZlbnQ6IChldmVudCA9IG5ldyBFdmVudChcImlucHV0XCIpKSA9PiBpbnB1dC5kaXNwYXRjaEV2ZW50KGV2ZW50KX0pfSk7XG5mdW5jdGlvbiBpbnZlcnNlKGYpIHtcbiAgc3dpdGNoIChmKSB7XG4gICAgY2FzZSBpZGVudGl0eTogIHJldHVybiBpZGVudGl0eTtcbiAgICBjYXNlIE1hdGguc3FydDogcmV0dXJuIHNxdWFyZTtcbiAgICBjYXNlIE1hdGgubG9nOiAgcmV0dXJuIE1hdGguZXhwO1xuICAgIGNhc2UgTWF0aC5leHA6ICByZXR1cm4gTWF0aC5sb2c7XG4gICAgZGVmYXVsdDogICAgICAgIHJldHVybiAoeCA9PiBzb2x2ZShmLCB4LCB4KSk7XG4gIH1cbiAgZnVuY3Rpb24gc29sdmUoZiwgeSwgeCA9IDApIHtcbiAgICBjb25zdCBkeCA9IDFlLTY7XG4gICAgbGV0IHN0ZXBzID0gMTAwLCBkZWx0YXgsIGZ4LCBkZng7XG4gICAgZG8ge1xuICAgICAgZnggPSBmKHgpXG4gICAgICBkZnggPSAoZih4ICsgZHgpIC0gZngpIHx8IGR4O1xuICAgICAgZGVsdGF4ID0gZHggKiAoZnggLSB5KS9kZnhcbiAgICAgIHggLT0gZGVsdGF4O1xuICAgIH0gd2hpbGUgKE1hdGguYWJzKGRlbHRheCkgPiBkeCAmJiAtLXN0ZXBzID4gMCk7XG4gICAgcmV0dXJuIHN0ZXBzID09PSAwID8gTmFOIDogeDtcbiAgfVxuZnVuY3Rpb24gc3F1YXJlKHgpIHtcbiAgICByZXR1cm4geCAqIHg7XG4gIH1cbn1cbmZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgcmV0dXJuIHg7XG59XG5mdW5jdGlvbiBkb3R5Mm1vbnRoKGRvdHkgPSAwKSB7XG4gICAgY29uc3QgbSA9IE1hdGguZmxvb3IoKDUgKiBkb3R5ICsgMikgLyAxNTMpO1xuICAgIHJldHVybiBNYXRoLmZsb29yKG0gPCAxMCA/IG0gKyAzIDogbSAtIDkpO1xufVxuZnVuY3Rpb24gbW9udGgyZG90eShtb250aCA9IDEpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihcbiAgICAgICAgKDE1MyAqIChtb250aCA+IDIgPyBtb250aCAtIDMgOiBtb250aCArIDkpICsgMikgLyA1XG4pfVxuZnVuY3Rpb24gZG90eTJkb3RtKGRvdHkgPSAwKSB7XG4gICAgY29uc3QgbSA9IE1hdGguZmxvb3IoKDUgKiBkb3R5ICsgMikgLyAxNTMpO1xuICAgIHJldHVybiBkb3R5IC0gTWF0aC5mbG9vcigoMTUzICogbSArIDIpIC8gNSkgKyAxO1xufVxubnVtYmVycyA9IEFycmF5LmZyb20oe2xlbmd0aDogMzY2fSwgKF8sIGkpID0+IGkpXG5zZXQodmlld29mIGRvdHlJbnB1dCwgbGVhcHNjcnViWzBdKVxuLy8gaHR0cHM6Ly9vYnNlcnZhYmxlaHEuY29tL0BvYnNlcnZhYmxlaHEvc3luY2hyb25pemVkLWlucHV0c1xuZnVuY3Rpb24gc2V0KGlucHV0LCB2YWx1ZSkge1xuICBpbnB1dC52YWx1ZSA9IHZhbHVlO1xuICBpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcImlucHV0XCIsIHtidWJibGVzOiB0cnVlfSkpO1xufVxuLy8gaHR0cHM6Ly9vYnNlcnZhYmxlaHEuY29tL0BtYm9zdG9jay9zY3J1YmJlclxuZnVuY3Rpb24gU2NydWJiZXIodmFsdWVzLCB7XG4gIGZvcm1hdCA9IHZhbHVlID0+IHZhbHVlLFxuICBpbml0aWFsID0gMCxcbiAgZGlyZWN0aW9uID0gMSxcbiAgZGVsYXkgPSBudWxsLFxuICBhdXRvcGxheSA9IHRydWUsXG4gIGxvb3AgPSB0cnVlLFxuICBsb29wRGVsYXkgPSBudWxsLFxuICBhbHRlcm5hdGUgPSBmYWxzZSxcbiAgaW5wdXRTdHlsZSA9IFwiXCJcbn0gPSB7fSkge1xuICB2YWx1ZXMgPSBBcnJheS5mcm9tKHZhbHVlcyk7XG4gIGNvbnN0IGZvcm0gPSBodG1sYDxmb3JtIHN0eWxlPVwiZm9udDogMThweCB2YXIoLS1tb25vc3BhY2UpOyBmb250LXZhcmlhbnQtbnVtZXJpYzogdGFidWxhci1udW1zOyBkaXNwbGF5OiBmbGV4OyBoZWlnaHQ6IDMzcHg7IGFsaWduLWl0ZW1zOiBjZW50ZXI7XCI+XG4gIDxidXR0b24gbmFtZT1iIHR5cGU9YnV0dG9uIHN0eWxlPVwibWFyZ2luLXJpZ2h0OiAwLjRlbTsgd2lkdGg6IDVlbTtcIj48L2J1dHRvbj5cbiAgPGxhYmVsIHN0eWxlPVwiZGlzcGxheTogZmxleDsgYWxpZ24taXRlbXM6IGNlbnRlcjtcIj5cbiAgICA8aW5wdXQgbmFtZT1pIHR5cGU9cmFuZ2UgbWluPTAgbWF4PSR7dmFsdWVzLmxlbmd0aCAtIDF9IHZhbHVlPSR7aW5pdGlhbH0gc3RlcD0xIHN0eWxlPSR7aW5wdXRTdHlsZX0+XG4gICAgPG91dHB1dCBuYW1lPW8gc3R5bGU9XCJtYXJnaW4tbGVmdDogMC40ZW07XCI+PC9vdXRwdXQ+XG4gIDwvbGFiZWw+XG48L2Zvcm0+YDtcbiAgbGV0IGZyYW1lID0gbnVsbDtcbiAgbGV0IHRpbWVyID0gbnVsbDtcbiAgbGV0IGludGVydmFsID0gbnVsbDtcbiAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgZm9ybS5iLnRleHRDb250ZW50ID0gXCJTdG9wXCI7XG4gICAgaWYgKGRlbGF5ID09PSBudWxsKSBmcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcbiAgICBlbHNlIGludGVydmFsID0gc2V0SW50ZXJ2YWwodGljaywgZGVsYXkpO1xuICB9XG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgZm9ybS5iLnRleHRDb250ZW50ID0gXCJQbGF5XCI7XG4gICAgaWYgKGZyYW1lICE9PSBudWxsKSBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZSksIGZyYW1lID0gbnVsbDtcbiAgICBpZiAodGltZXIgIT09IG51bGwpIGNsZWFyVGltZW91dCh0aW1lciksIHRpbWVyID0gbnVsbDtcbiAgICBpZiAoaW50ZXJ2YWwgIT09IG51bGwpIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpLCBpbnRlcnZhbCA9IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gcnVubmluZygpIHtcbiAgICByZXR1cm4gZnJhbWUgIT09IG51bGwgfHwgdGltZXIgIT09IG51bGwgfHwgaW50ZXJ2YWwgIT09IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gdGljaygpIHtcbiAgICBpZiAoZm9ybS5pLnZhbHVlQXNOdW1iZXIgPT09IChkaXJlY3Rpb24gPiAwID8gdmFsdWVzLmxlbmd0aCAtIDEgOiBkaXJlY3Rpb24gPCAwID8gMCA6IE5hTikpIHtcbiAgICAgIGlmICghbG9vcCkgcmV0dXJuIHN0b3AoKTtcbiAgICAgIGlmIChhbHRlcm5hdGUpIGRpcmVjdGlvbiA9IC1kaXJlY3Rpb247XG4gICAgICBpZiAobG9vcERlbGF5ICE9PSBudWxsKSB7XG4gICAgICAgIGlmIChmcmFtZSAhPT0gbnVsbCkgY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWUpLCBmcmFtZSA9IG51bGw7XG4gICAgICAgIGlmIChpbnRlcnZhbCAhPT0gbnVsbCkgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCksIGludGVydmFsID0gbnVsbDtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IChzdGVwKCksIHN0YXJ0KCkpLCBsb29wRGVsYXkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChkZWxheSA9PT0gbnVsbCkgZnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG4gICAgc3RlcCgpO1xuICB9XG4gIGZ1bmN0aW9uIHN0ZXAoKSB7XG4gICAgZm9ybS5pLnZhbHVlQXNOdW1iZXIgPSAoZm9ybS5pLnZhbHVlQXNOdW1iZXIgKyBkaXJlY3Rpb24gKyB2YWx1ZXMubGVuZ3RoKSAlIHZhbHVlcy5sZW5ndGg7XG4gICAgZm9ybS5pLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiaW5wdXRcIiwge2J1YmJsZXM6IHRydWV9KSk7XG4gIH1cbiAgZm9ybS5pLm9uaW5wdXQgPSBldmVudCA9PiB7XG4gICAgaWYgKGV2ZW50ICYmIGV2ZW50LmlzVHJ1c3RlZCAmJiBydW5uaW5nKCkpIHN0b3AoKTtcbiAgICBmb3JtLnZhbHVlID0gdmFsdWVzW2Zvcm0uaS52YWx1ZUFzTnVtYmVyXTtcbiAgICBmb3JtLm8udmFsdWUgPSBmb3JtYXQoZm9ybS52YWx1ZSwgZm9ybS5pLnZhbHVlQXNOdW1iZXIsIHZhbHVlcyk7XG4gIH07XG4gIGZvcm0uYi5vbmNsaWNrID0gKCkgPT4ge1xuICAgIGlmIChydW5uaW5nKCkpIHJldHVybiBzdG9wKCk7XG4gICAgZGlyZWN0aW9uID0gYWx0ZXJuYXRlICYmIGZvcm0uaS52YWx1ZUFzTnVtYmVyID09PSB2YWx1ZXMubGVuZ3RoIC0gMSA/IC0xIDogMTtcbiAgICBmb3JtLmkudmFsdWVBc051bWJlciA9IChmb3JtLmkudmFsdWVBc051bWJlciArIGRpcmVjdGlvbikgJSB2YWx1ZXMubGVuZ3RoO1xuICAgIGZvcm0uaS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImlucHV0XCIsIHtidWJibGVzOiB0cnVlfSkpO1xuICAgIHN0YXJ0KCk7XG4gIH07XG4gIGZvcm0uaS5vbmlucHV0KCk7XG4gIGlmIChhdXRvcGxheSkgc3RhcnQoKTtcbiAgZWxzZSBzdG9wKCk7XG4gIElucHV0cy5kaXNwb3NhbChmb3JtKS50aGVuKHN0b3ApO1xuICByZXR1cm4gZm9ybTtcbn1cbmNhbFllYXIgPSAhbGVhcElucHV0ICYmIGRvdHdJbnB1dCA9PSBcIk1vbmRheVwiID8gNiA6ICFsZWFwSW5wdXQgJiYgZG90d0lucHV0ID09IFwiVHVlc2RheVwiID8gNyA6ICFsZWFwSW5wdXQgJiYgZG90d0lucHV0ID09IFwiV2VkbmVzZGF5XCIgPyAyIDogIWxlYXBJbnB1dCAmJiBkb3R3SW5wdXQgPT0gXCJUaHVyc2RheVwiID8gMyA6ICFsZWFwSW5wdXQgJiYgZG90d0lucHV0ID09IFwiRnJpZGF5XCIgPyA5IDogIWxlYXBJbnB1dCAmJiBkb3R3SW5wdXQgPT0gXCJTYXR1cmRheVwiID8gMTAgOiAhbGVhcElucHV0ICYmIGRvdHdJbnB1dCA9PSBcIlN1bmRheVwiID8gMTEgOiBsZWFwSW5wdXQgJiYgZG90d0lucHV0ID09IFwiTW9uZGF5XCIgPyAxMiA6IGxlYXBJbnB1dCAmJiBkb3R3SW5wdXQgPT0gXCJUdWVzZGF5XCIgPyAyNCA6IGxlYXBJbnB1dCAmJiBkb3R3SW5wdXQgPT0gXCJXZWRuZXNkYXlcIiA/IDggOiBsZWFwSW5wdXQgJiYgZG90d0lucHV0ID09IFwiVGh1cnNkYXlcIiA/IDIwIDogbGVhcElucHV0ICYmIGRvdHdJbnB1dCA9PSBcIkZyaWRheVwiID8gNCA6IGxlYXBJbnB1dCAmJiBkb3R3SW5wdXQgPT0gXCJTYXR1cmRheVwiID8gMTYgOiBsZWFwSW5wdXQgJiYgZG90d0lucHV0ID09IFwiU3VuZGF5XCIgPyAyOCA6IDA7XG5kYXRlc0NhbCA9IGQzLnV0Y0RheXMobmV3IERhdGUoY2FsWWVhciwgMCwgMCksIG5ldyBEYXRlKGNhbFllYXIsIDEyLCAwKSk7XG5mdW5jdGlvbiB1bml4MmRvdHkodW5peCkge1xuICBjb25zdCBkb3RlID0gKFxuICAgIHVuaXggPz8gRGF0ZS5ub3coKVxuICApIC8gODY0MDAwMDAgKyA3MTk0NjgsXG4gICAgY290ZSA9IE1hdGguZmxvb3IoKFxuICAgICAgZG90ZSA+PSAwID8gZG90ZVxuICAgICAgOiBkb3RlIC0gMTQ2MDk2XG4gICAgKSAvIDE0NjA5NyksXG4gIGRvdGMgPSBkb3RlIC0gY290ZSAqIDE0NjA5NyxcbiAgeW90YyA9IE1hdGguZmxvb3IoKGRvdGNcbiAgICAtIE1hdGguZmxvb3IoZG90YyAvIDE0NjApXG4gICAgKyBNYXRoLmZsb29yKGRvdGMgLyAzNjUyNClcbiAgICAtIE1hdGguZmxvb3IoZG90YyAvIDE0NjA5NilcbiAgKSAvIDM2NSk7XG4gIHJldHVybiBkb3RjIC0gKHlvdGMgKiAzNjVcbiAgICAgICsgTWF0aC5mbG9vcih5b3RjIC8gNClcbiAgICAgIC0gTWF0aC5mbG9vcih5b3RjIC8gMTAwKVxuICApfVxuZnVuY3Rpb24gZGF0ZTJkb3RlKHllYXIgPSAxOTY5LCBkb3R5ID0gMzA2LCB6b25lID0gMCkge1xuICAgIGNvbnN0IGNvdGUgPSBNYXRoLmZsb29yKCh5ZWFyID49IDAgPyB5ZWFyIDogeWVhciAtIDM5OSkgLyA0MDApLFxuICAgICAgeW90ZSA9IHllYXIgLSBjb3RlICogNDAwO1xuICAgIHJldHVybiBbY290ZSAqIDE0NjA5NyArIHlvdGUgKiAzNjUgKyBNYXRoLmZsb29yKHlvdGUgLyA0KSAtIE1hdGguZmxvb3IoeW90ZSAvIDEwMCkgKyBkb3R5LCB6b25lXVxufVxuZnVuY3Rpb24gZG90eTJkZWNvKHllYXJEb3R5ID0gWzE5NjksIDMwNl0sIHpvbmUgPSAwKSB7XG4gICAgY29uc3QgeWQgPSBkb3RlMmRhdGUoLi4uZGF0ZTJkb3RlKHllYXJEb3R5WzBdLCBNYXRoLmZsb29yKHllYXJEb3R5WzFdKSwgem9uZSkpO1xuICAgIHJldHVybiBgJHt5ZFswXS50b1N0cmluZygpLnBhZFN0YXJ0KDQsIFwiMFwiKX0rJHt5ZFsxXS50b1N0cmluZygpLnBhZFN0YXJ0KDMsIFwiMFwiKX0ke1xuICAgICAgICB5ZWFyRG90eVsxXS50b1N0cmluZygpLmluY2x1ZGVzKFwiLlwiKSA/IFwiLlwiICsgKFxuICAgICAgICAgICAgKHllYXJEb3R5WzFdID4gMCkgPyAoeWVhckRvdHlbMV0gLSB6b25lKS50b1N0cmluZygpLnNwbGl0KFwiLlwiKS5wb3AoKVxuICAgICAgICAgICAgOiBbLi4uKHllYXJEb3R5WzFdIC0gem9uZSkudG9TdHJpbmcoKS5zcGxpdChcIi5cIikucG9wKCldLm1hcChcbiAgICAgICAgICAgICAgICAoZSwgaSwgYSkgPT4gKGkgKyAxID09PSBhLmxlbmd0aCkgPyAxMCAtIGUgOiA5IC0gZVxuICAgICAgICAgICAgKS5qb2luKFwiXCIpXG4gICAgICAgICkgOiBcIlwiXG4gICAgfWBcbn1cbmZ1bmN0aW9uIGRlY28yZG90eSh0aW1lc3RhbXAgPSBcIjE5NjkrMzA2LjAwMDAwWlwiKSB7XG4gICAgY29uc3QgYXJyID0gdGltZXN0YW1wLnRvU3RyaW5nKCkuc3BsaXQoLyg/PVsrLV18W2EtekEtWl0pLywgMyk7XG4gICAgc3dpdGNoIChhcnIubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTogcmV0dXJuIFt1bml4MmRvdHkoRGF0ZS5ub3coKSlbMF0sIHBhcnNlRmxvYXQoYXJyWzBdKSwgMF07XG4gICAgICAgIGNhc2UgMjogcmV0dXJuICgvXlthLXpBLVpdKyQvLnRlc3QoYXJyWzFdKSlcbiAgICAgICAgICAgID8gW3VuaXgyZG90eShEYXRlLm5vdygpKVswXSwgcGFyc2VGbG9hdChhcnJbMF0pLCB6b25lMmhvdXIoYXJyWzFdKSAvIDI0XVxuICAgICAgICAgICAgOiBbcGFyc2VGbG9hdChhcnJbMF0pLCBwYXJzZUZsb2F0KGFyclsxXSksIDBdO1xuICAgIH07XG4gICAgcmV0dXJuIFtwYXJzZUZsb2F0KGFyclswXSksIHBhcnNlRmxvYXQoYXJyWzFdKSwgL15bYS16QS1aXSskLy50ZXN0KGFyclsyXSlcbiAgICAgICAgPyB6b25lMmhvdXIoYXJyWzJdKSAvIDI0XG4gICAgICAgIDogcGFyc2VGbG9hdChhcnJbMl0ucmVwbGFjZSgvKFsrLV0pLywgXCIkMVxcLlwiKSldO1xufVxuZnVuY3Rpb24gem9uZTJob3VyKHpvbmUgPSBcIlpcIikge1xuICAgIHJldHVybiAoem9uZSA9IHpvbmUudG9VcHBlckNhc2UoKSkgPT0gXCJaXCIgPyAwXG4gICAgICAgIDogem9uZSA+IFwiQFwiICYmIHpvbmUgPCBcIkpcIiA/IHpvbmUuY2hhckNvZGVBdCgpIC0gNjRcbiAgICAgICAgOiB6b25lID4gXCJKXCIgJiYgem9uZSA8IFwiTlwiID8gem9uZS5jaGFyQ29kZUF0KCkgLSA2NVxuICAgICAgICA6IHpvbmUgPCBcIlpcIiAmJiB6b25lID4gXCJNXCIgPyAtKHpvbmUuY2hhckNvZGVBdCgpIC0gNzcpXG4gICAgICAgIDogem9uZTtcbn1cbmZ1bmN0aW9uIGRvdHkydW5peCh5ZWFyID0gMTk2OSwgZG90eSA9IDMwNiwgem9uZSA9IDApIHtcbiAgICByZXR1cm4gKGRhdGUyZG90ZSh5ZWFyLCBkb3R5LCB6b25lKSAtIDcxOTQ2OCkgKiA4NjQwMDAwMDtcbn1cbmZ1bmN0aW9uIGRvdHkyaXNvYyh5ZCkge1xuICAgIHJldHVybiBuZXcgRGF0ZShkb3R5MnVuaXgoLi4ueWQpKVxufVxuZnVuY3Rpb24gZG90eTJncmVnKGRvdHkgPSAzMDYpIHtcbiAgICBjb25zdCBtID0gTWF0aC5mbG9vcigoNSAqIGRvdHkgKyAyKSAvIDE1Myk7XG4gICAgcmV0dXJuIFtcbiAgICAgIE1hdGguZmxvb3IobSA8IDEwID8gbSArIDMgOiBtIC0gOSksXG4gICAgICBNYXRoLmZsb29yKGRvdHkgLSAoMTUzICogbSArIDIpIC8gNSArIDIpXG4gICAgXTtcbn1cbmZ1bmN0aW9uIGdyZWcyZG90eShtb250aCA9IDEsIGRheSA9IDEpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihcbiAgICAgICAgKDE1MyAqIChtb250aCA+IDIgPyBtb250aCAtIDMgOiBtb250aCArIDkpICsgMikgLyA1ICsgZGF5IC0gMVxuKX1cbmZ1bmN0aW9uIGdyZWcyeWVhcih5ZWFyID0gMTk3MCwgbW9udGggPSAxKSB7IHJldHVybiB5ZWFyIC0gKG1vbnRoIDwgMykgfVxuZnVuY3Rpb24gaXNvYzJkb3R5KGlzb2MpIHtcbiAgcmV0dXJuIFtncmVnMnllYXIoaXNvYy5nZXRGdWxsWWVhcigpLCBpc29jLmdldFVUQ01vbnRoKCkgKyAxKSwgZ3JlZzJkb3R5KGlzb2MuZ2V0VVRDTW9udGgoKSArIDEsIGlzb2MuZ2V0VVRDRGF0ZSgpKV07XG59XG5sZWFwSW5wdXQgPSBsZWFwc2NydWJbMV1cbnR1cm5JbnB1dCA9IGxlYXBzY3J1YlsyXVxuZnVuY3Rpb24gYWRkTihkKSB7IHJldHVybiBkICsgMzY1ICsgbGVhcElucHV0IH1cbmZ1bmN0aW9uIHN1Yk4oZCkgeyByZXR1cm4gZCAtIDM2NSAtIGxlYXBJbnB1dCB9XG5kYXRlcyA9IGQzLnV0Y0RheXMobmV3IERhdGUoMTk5OSwgMiwgMCksIG5ldyBEYXRlKDIwMDAsIDEsIDI4ICsgbGVhcElucHV0KSk7XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2xlYXBzY3J1YicpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdkb3R5SW5wdXQnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbW9udGhJbnB1dCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdkb3R5SW5wdXQxJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2RvdG1JbnB1dCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdkb3R3SW5wdXQnKSJ9XX0=
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../dec/date";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "../..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/maptv\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation column-body">
  <div class="nav-page nav-page-previous">
      <a href="../../dec/index.html" class="pagination-link" aria-label="Dec">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Dec</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../dec/time/index.html" class="pagination-link" aria-label="Time">
        <span class="nav-page-text">Time</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb8" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> Dec Date</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="an">image:</span><span class="co"> /asset/cal16.svg</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> &gt;</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">  Introducing the Dec calendar (Decalendar), which displays dates in years and days using math notation without the need for months or weeks.</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="an">citation:</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">  url: https://maptv.github.io/dec/date</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="an">aliases:</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">  - /dec/date</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">  - /date</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="an">license:</span><span class="co"> CC BY-SA</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="an">lightbox:</span><span class="co"> false</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="an">toc:</span><span class="co"> true</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="an">toc-depth:</span><span class="co"> 4</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a><span class="an">bread-crumbs:</span><span class="co"> false</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co">    grid:</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="co">      body-width: 900px</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co">    shift-heading-level-by: 3</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a><span class="co">    include-after-body:</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a><span class="co">      - ../../asset/cite.html</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="co">      - ../../asset/style.html</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a><span class="co">      - ../../asset/stamp.html</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a><span class="co">      - ../../asset/tooltip.html</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="co">  commonmark: default</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a><span class="an">filters:</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a><span class="co">  - ../../asset/date.lua</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a><span class="co">  - include-code-files</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a><span class="in">```{mermaid}</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>%%| label: navchart</span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>%<span class="dt">%</span>{init: {<span class="ot">'</span><span class="ss">theme</span><span class="ot">'</span>: <span class="ot">'</span><span class="ss">default</span><span class="ot">'</span>, <span class="ot">'</span><span class="ss">themeVariables</span><span class="ot">'</span>: { <span class="ot">'</span><span class="ss">fontSize</span><span class="ot">'</span>: <span class="ot">'</span><span class="ss">24px</span><span class="ot">'</span>}}}%%</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>flowchart LR</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>   A[Dec]--&gt;B[date]--&gt;C[<span class="fu">time</span>]--&gt;D[iso]--&gt;E[snap]--&gt;F[span]</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>   click A <span class="ot">"</span><span class="st">/dec</span><span class="ot">"</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>   click B <span class="ot">"</span><span class="st">/dec/date</span><span class="ot">"</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>   click C <span class="ot">"</span><span class="st">/dec/time</span><span class="ot">"</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>   click D <span class="ot">"</span><span class="st">/dec/iso</span><span class="ot">"</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>   click E <span class="ot">"</span><span class="st">/dec/snap</span><span class="ot">"</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>   click F <span class="ot">"</span><span class="st">/dec/span</span><span class="ot">"</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>My website serves as a demonstration of both the <span class="co">[</span><span class="ot">Quarto</span><span class="co">](https://quarto.org)</span> publishing📤system and the <span class="co">[</span><span class="ot">Dec</span><span class="co">](/dec)</span> measurement📐system. I use several clever hacks to get Quarto to display all of the dates on my website in the Dec <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.cyan} format. Knowing the basics of the Dec calendar🗓️(Decalendar) will help you to understand the articles on <span class="co">[</span><span class="ot">filter</span><span class="co">](https://quarto.org/docs/extensions/filters.html)</span>, <span class="co">[</span><span class="ot">script</span><span class="co">](https://quarto.org/docs/projects/scripts.html)</span>, and <span class="co">[</span><span class="ot">include</span><span class="co">](https://quarto.org/docs/output-formats/html-basics.html#includes)</span> files in the <span class="co">[</span><span class="ot">Quarto section</span><span class="co">](/quarto)</span> of my site.</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>Among its many features, Quarto offers support for the <span class="co">[</span><span class="ot">Observable</span><span class="co">](https://observablehq.com/)</span> data analysis and visualization system. Observable is my top choice for interactive graphics. We can interact with the two Observable <span class="co">[</span><span class="ot">calendar🗓️plots</span><span class="co">](https://observablehq.com/@observablehq/plot-calendar)</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>below using the adjacent Observable <span class="co">[</span><span class="ot">inputs</span><span class="co">](https://observablehq.com/documentation/inputs/overview)</span>. The <span class="co">[</span><span class="ot">scrubber</span><span class="co">](https://observablehq.com/@mbostock/scrubber)</span>🧽input is a great place to start because it cycles🔄through every value of the <span class="co">[</span><span class="ot">range</span><span class="co">](https://observablehq.com/@observablehq/input-range)</span>🎚️inputs beneath it.</span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>To activate the scrubber🧽input, press the Play▶️button above the range🎚️inputs. Upon activation, the red🟥box in each plot will move between</span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>the first and the last day of the Dec year. While it always begins with <span class="co">[</span><span class="ot">Day 0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"}, the Dec year ends with either <span class="co">[</span><span class="ot">Day 364</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="February 28"} or <span class="co">[</span><span class="ot">Day 365</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="February 29"}. To add or remove <span class="co">[</span><span class="ot">Day 365</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="February 29"}, use the <span class="co">[</span><span class="ot">toggle</span><span class="co">](https://observablehq.com/@observablehq/input-toggle)</span>✅input labelled🏷️"Leap year" to the right of the Play▶️button.</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>The "Leap year" toggle✅input shifts 306 dates, <span class="co">[</span><span class="ot">Day 0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"} to <span class="co">[</span><span class="ot">Day 305</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="December 31"}, in the Gregorian calendar🗓️by one day, but does not change the order of any Dec dates, because <span class="co">[</span><span class="ot">Day 365</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="February 29"} is the last day of Dec leap years and is always followed by <span class="co">[</span><span class="ot">Day 0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"} of the subsequent Dec year. The "Vertical layout" toggle✅input rotates the plots by a quarter turn, interchanging the x- and y-axes.</span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>The axis labels🏷️of the plots imply that a dek and a day-of-dek (<span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"}) are analogous to a week and a day-of-week (<span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"}). Indeed, deks are groups of ten days that serve as the Dec analog of both weeks and months. With the exception of <span class="co">[</span><span class="ot">Day 365</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="February 29"} in leap years, every year has the same deks and months, but not the same weeks, because the <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} of the first day of the year varies.</span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a><span class="co">//| echo: false</span></span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>viewof leapscrub <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">form</span>([</span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">Scrubber</span>(numbers<span class="op">,</span> {<span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span> <span class="dt">alternate</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="dt">delay</span><span class="op">:</span> <span class="fl">86.4</span><span class="op">,</span> <span class="dt">loopDelay</span><span class="op">:</span> <span class="dv">864</span><span class="op">,</span> <span class="dt">format</span><span class="op">:</span> y <span class="kw">=&gt;</span> <span class="st">""</span><span class="op">,</span> <span class="dt">inputStyle</span><span class="op">:</span> <span class="st">"display:none;"</span>})<span class="op">,</span></span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">toggle</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Leap year"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="kw">false</span>})<span class="op">,</span></span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">toggle</span>({<span class="dt">label</span><span class="op">:</span> <span class="st">"Vertical layout"</span><span class="op">,</span> <span class="dt">value</span><span class="op">:</span> <span class="kw">false</span>})<span class="op">,</span></span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>])</span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a><span class="co">//| echo: false</span></span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a>viewof dotyInput <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">364</span> <span class="op">+</span> leapInput]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="dv">306</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Day of year"</span>})<span class="op">;</span></span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a>viewof monthInput <span class="op">=</span> <span class="fu">transformInput</span>(</span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">12</span>]<span class="op">,</span> {<span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Month"</span>})<span class="op">,</span></span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">bind</span><span class="op">:</span> viewof dotyInput<span class="op">,</span> <span class="dt">transform</span><span class="op">:</span> doty2month<span class="op">,</span> <span class="dt">invert</span><span class="op">:</span> month2doty}</span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb8-79"><a href="#cb8-79" aria-hidden="true" tabindex="-1"></a>viewof dotyInput1 <span class="op">=</span> <span class="fu">transformInput</span>(</span>
<span id="cb8-80"><a href="#cb8-80" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">range</span>([<span class="op">-</span><span class="dv">365</span> <span class="op">-</span> leapInput<span class="op">,</span> <span class="op">-</span><span class="dv">1</span>]<span class="op">,</span> {<span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Day of year"</span>})<span class="op">,</span></span>
<span id="cb8-81"><a href="#cb8-81" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">bind</span><span class="op">:</span> viewof dotyInput<span class="op">,</span> <span class="dt">transform</span><span class="op">:</span> subN<span class="op">,</span> <span class="dt">invert</span><span class="op">:</span> addN}</span>
<span id="cb8-82"><a href="#cb8-82" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span>
<span id="cb8-83"><a href="#cb8-83" aria-hidden="true" tabindex="-1"></a>viewof dotmInput <span class="op">=</span> <span class="fu">transformInput</span>(</span>
<span id="cb8-84"><a href="#cb8-84" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">range</span>([<span class="dv">1</span><span class="op">,</span> <span class="dv">31</span>]<span class="op">,</span> {<span class="dt">step</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Day of month"</span>})<span class="op">,</span></span>
<span id="cb8-85"><a href="#cb8-85" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">bind</span><span class="op">:</span> viewof dotyInput<span class="op">,</span> <span class="dt">transform</span><span class="op">:</span> doty2dotm<span class="op">,</span> <span class="dt">invert</span><span class="op">:</span> (x <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(( <span class="dv">153</span> <span class="op">*</span> (</span>
<span id="cb8-86"><a href="#cb8-86" aria-hidden="true" tabindex="-1"></a>    viewof monthInput<span class="op">.</span><span class="at">value</span> <span class="op">&gt;</span> <span class="dv">2</span></span>
<span id="cb8-87"><a href="#cb8-87" aria-hidden="true" tabindex="-1"></a>    <span class="op">?</span> viewof monthInput<span class="op">.</span><span class="at">value</span> <span class="op">-</span> <span class="dv">3</span></span>
<span id="cb8-88"><a href="#cb8-88" aria-hidden="true" tabindex="-1"></a>    <span class="op">:</span> viewof monthInput<span class="op">.</span><span class="at">value</span> <span class="op">+</span> <span class="dv">9</span>) <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb8-89"><a href="#cb8-89" aria-hidden="true" tabindex="-1"></a>  ) <span class="op">/</span> <span class="dv">5</span> <span class="op">+</span> x <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb8-90"><a href="#cb8-90" aria-hidden="true" tabindex="-1"></a>))})<span class="op">;</span></span>
<span id="cb8-91"><a href="#cb8-91" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb8-92"><a href="#cb8-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-93"><a href="#cb8-93" aria-hidden="true" tabindex="-1"></a>::: {.column-page}</span>
<span id="cb8-96"><a href="#cb8-96" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb8-97"><a href="#cb8-97" aria-hidden="true" tabindex="-1"></a><span class="co">//| echo: false</span></span>
<span id="cb8-98"><a href="#cb8-98" aria-hidden="true" tabindex="-1"></a>decPlot <span class="op">=</span> turnInput <span class="op">?</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb8-99"><a href="#cb8-99" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Decalendar"</span><span class="op">,</span></span>
<span id="cb8-100"><a href="#cb8-100" aria-hidden="true" tabindex="-1"></a>  <span class="dt">padding</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-101"><a href="#cb8-101" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">480</span><span class="op">,</span></span>
<span id="cb8-102"><a href="#cb8-102" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">980</span><span class="op">,</span></span>
<span id="cb8-103"><a href="#cb8-103" aria-hidden="true" tabindex="-1"></a>  <span class="dt">className</span><span class="op">:</span> <span class="st">"calplot"</span><span class="op">,</span></span>
<span id="cb8-104"><a href="#cb8-104" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="op">-</span><span class="dv">3</span><span class="op">,</span></span>
<span id="cb8-105"><a href="#cb8-105" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginRight</span><span class="op">:</span> <span class="dv">31</span><span class="op">,</span></span>
<span id="cb8-106"><a href="#cb8-106" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span></span>
<span id="cb8-107"><a href="#cb8-107" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-108"><a href="#cb8-108" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Day of dek    "</span><span class="op">,</span></span>
<span id="cb8-109"><a href="#cb8-109" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">9</span>]<span class="op">,</span></span>
<span id="cb8-110"><a href="#cb8-110" aria-hidden="true" tabindex="-1"></a>      <span class="dt">ticks</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">9</span>]<span class="op">,</span></span>
<span id="cb8-111"><a href="#cb8-111" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tickPadding</span><span class="op">:</span> <span class="op">-</span><span class="dv">9</span><span class="op">,</span></span>
<span id="cb8-112"><a href="#cb8-112" aria-hidden="true" tabindex="-1"></a>      <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">24</span><span class="op">,</span></span>
<span id="cb8-113"><a href="#cb8-113" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-114"><a href="#cb8-114" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">interval</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">ticks</span><span class="op">:</span> <span class="dv">18</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Dek"</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">"band"</span><span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">tickPadding</span><span class="op">:</span> <span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">40</span><span class="op">,</span> <span class="dt">labelArrow</span><span class="op">:</span> <span class="kw">false</span>}<span class="op">,</span></span>
<span id="cb8-115"><a href="#cb8-115" aria-hidden="true" tabindex="-1"></a>  <span class="co">//fx: {tickFormat: ""},</span></span>
<span id="cb8-116"><a href="#cb8-116" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> { <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"21px"</span> }<span class="op">,</span></span>
<span id="cb8-117"><a href="#cb8-117" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb8-118"><a href="#cb8-118" aria-hidden="true" tabindex="-1"></a>    <span class="dt">range</span><span class="op">:</span> d3<span class="op">.</span><span class="at">schemePastel1</span><span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemePastel2</span><span class="op">.</span><span class="fu">slice</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">7</span>))<span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemeSet1</span>[<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb8-119"><a href="#cb8-119" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> months<span class="op">.</span><span class="fu">concat</span>(<span class="st">"selected"</span>)<span class="op">,</span></span>
<span id="cb8-120"><a href="#cb8-120" aria-hidden="true" tabindex="-1"></a>    <span class="dt">className</span><span class="op">:</span> <span class="st">"cal"</span><span class="op">,</span></span>
<span id="cb8-121"><a href="#cb8-121" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-122"><a href="#cb8-122" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb8-123"><a href="#cb8-123" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">cell</span>(dates<span class="op">,</span> {</span>
<span id="cb8-124"><a href="#cb8-124" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb8-125"><a href="#cb8-125" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">%</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb8-126"><a href="#cb8-126" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb8-127"><a href="#cb8-127" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"selected"</span> <span class="op">:</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">,</span></span>
<span id="cb8-128"><a href="#cb8-128" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"darkorange"</span> <span class="op">:</span> <span class="st">"none"</span><span class="op">,</span></span>
<span id="cb8-129"><a href="#cb8-129" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb8-130"><a href="#cb8-130" aria-hidden="true" tabindex="-1"></a>      <span class="dt">inset</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb8-131"><a href="#cb8-131" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb8-132"><a href="#cb8-132" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(dates<span class="op">,</span> {</span>
<span id="cb8-133"><a href="#cb8-133" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb8-134"><a href="#cb8-134" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>() <span class="op">===</span> <span class="dv">11</span> <span class="op">?</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">3</span>) <span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb8-135"><a href="#cb8-135" aria-hidden="true" tabindex="-1"></a>      <span class="dt">frameAnchor</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span></span>
<span id="cb8-136"><a href="#cb8-136" aria-hidden="true" tabindex="-1"></a>      <span class="dt">dx</span><span class="op">:</span> <span class="dv">32</span><span class="op">,</span></span>
<span id="cb8-137"><a href="#cb8-137" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-138"><a href="#cb8-138" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"18px"</span>})<span class="op">,</span></span>
<span id="cb8-139"><a href="#cb8-139" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(dates<span class="op">,</span> {</span>
<span id="cb8-140"><a href="#cb8-140" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb8-141"><a href="#cb8-141" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">%</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb8-142"><a href="#cb8-142" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb8-143"><a href="#cb8-143" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"white"</span> <span class="op">:</span> <span class="st">"black"</span><span class="op">,</span></span>
<span id="cb8-144"><a href="#cb8-144" aria-hidden="true" tabindex="-1"></a>      <span class="co">//stroke: "white",</span></span>
<span id="cb8-145"><a href="#cb8-145" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">String</span>(i)<span class="op">,</span><span class="co">//.padStart(3, "0").slice(1),</span></span>
<span id="cb8-146"><a href="#cb8-146" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-147"><a href="#cb8-147" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"16px"</span>})</span>
<span id="cb8-148"><a href="#cb8-148" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb8-149"><a href="#cb8-149" aria-hidden="true" tabindex="-1"></a>  }) <span class="op">:</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb8-150"><a href="#cb8-150" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Decalendar"</span><span class="op">,</span></span>
<span id="cb8-151"><a href="#cb8-151" aria-hidden="true" tabindex="-1"></a>  <span class="dt">padding</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-152"><a href="#cb8-152" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">1280</span><span class="op">,</span></span>
<span id="cb8-153"><a href="#cb8-153" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">280</span><span class="op">,</span></span>
<span id="cb8-154"><a href="#cb8-154" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="op">-</span><span class="dv">3</span><span class="op">,</span></span>
<span id="cb8-155"><a href="#cb8-155" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginLeft</span><span class="op">:</span> <span class="dv">31</span><span class="op">,</span></span>
<span id="cb8-156"><a href="#cb8-156" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">35</span><span class="op">,</span></span>
<span id="cb8-157"><a href="#cb8-157" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-158"><a href="#cb8-158" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Day of dek    "</span><span class="op">,</span></span>
<span id="cb8-159"><a href="#cb8-159" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">9</span>]<span class="op">,</span></span>
<span id="cb8-160"><a href="#cb8-160" aria-hidden="true" tabindex="-1"></a>      <span class="dt">ticks</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span><span class="op">,</span> <span class="dv">7</span><span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="dv">9</span>]<span class="op">,</span></span>
<span id="cb8-161"><a href="#cb8-161" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tickPadding</span><span class="op">:</span> <span class="op">-</span><span class="dv">4</span><span class="op">,</span></span>
<span id="cb8-162"><a href="#cb8-162" aria-hidden="true" tabindex="-1"></a>      <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">28</span><span class="op">,</span></span>
<span id="cb8-163"><a href="#cb8-163" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-164"><a href="#cb8-164" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">interval</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">ticks</span><span class="op">:</span> <span class="dv">18</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Dek"</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">"band"</span><span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">tickPadding</span><span class="op">:</span> <span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">32</span><span class="op">,</span> <span class="dt">labelArrow</span><span class="op">:</span> <span class="kw">false</span>}<span class="op">,</span></span>
<span id="cb8-165"><a href="#cb8-165" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> { <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"21px"</span> }<span class="op">,</span></span>
<span id="cb8-166"><a href="#cb8-166" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb8-167"><a href="#cb8-167" aria-hidden="true" tabindex="-1"></a>    <span class="dt">range</span><span class="op">:</span> d3<span class="op">.</span><span class="at">schemePastel1</span><span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemePastel2</span><span class="op">.</span><span class="fu">slice</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">7</span>))<span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemeSet1</span>[<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb8-168"><a href="#cb8-168" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> months<span class="op">.</span><span class="fu">concat</span>(<span class="st">"selected"</span>)<span class="op">,</span></span>
<span id="cb8-169"><a href="#cb8-169" aria-hidden="true" tabindex="-1"></a>    <span class="dt">className</span><span class="op">:</span> <span class="st">"cal"</span><span class="op">,</span></span>
<span id="cb8-170"><a href="#cb8-170" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-171"><a href="#cb8-171" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb8-172"><a href="#cb8-172" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">cell</span>(dates<span class="op">,</span> {</span>
<span id="cb8-173"><a href="#cb8-173" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb8-174"><a href="#cb8-174" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">%</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb8-175"><a href="#cb8-175" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb8-176"><a href="#cb8-176" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"selected"</span> <span class="op">:</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">,</span></span>
<span id="cb8-177"><a href="#cb8-177" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"darkorange"</span> <span class="op">:</span> <span class="st">"none"</span><span class="op">,</span></span>
<span id="cb8-178"><a href="#cb8-178" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb8-179"><a href="#cb8-179" aria-hidden="true" tabindex="-1"></a>      <span class="dt">inset</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb8-180"><a href="#cb8-180" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb8-181"><a href="#cb8-181" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(dates<span class="op">,</span> {</span>
<span id="cb8-182"><a href="#cb8-182" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb8-183"><a href="#cb8-183" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">%</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb8-184"><a href="#cb8-184" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb8-185"><a href="#cb8-185" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>() <span class="op">===</span> <span class="dv">11</span> <span class="op">?</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">3</span>) <span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb8-186"><a href="#cb8-186" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span></span>
<span id="cb8-187"><a href="#cb8-187" aria-hidden="true" tabindex="-1"></a>      <span class="dt">frameAnchor</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span></span>
<span id="cb8-188"><a href="#cb8-188" aria-hidden="true" tabindex="-1"></a>      <span class="dt">dy</span><span class="op">:</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span></span>
<span id="cb8-189"><a href="#cb8-189" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-190"><a href="#cb8-190" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"18px"</span>})<span class="op">,</span></span>
<span id="cb8-191"><a href="#cb8-191" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(dates<span class="op">,</span> {</span>
<span id="cb8-192"><a href="#cb8-192" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb8-193"><a href="#cb8-193" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">%</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb8-194"><a href="#cb8-194" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb8-195"><a href="#cb8-195" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"white"</span> <span class="op">:</span> <span class="st">"black"</span><span class="op">,</span></span>
<span id="cb8-196"><a href="#cb8-196" aria-hidden="true" tabindex="-1"></a>      <span class="co">//stroke: "white",</span></span>
<span id="cb8-197"><a href="#cb8-197" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> (d<span class="op">,</span> i) <span class="kw">=&gt;</span> <span class="bu">String</span>(i)<span class="op">,</span><span class="co">//.padStart(3, "0").slice(1),</span></span>
<span id="cb8-198"><a href="#cb8-198" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-199"><a href="#cb8-199" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"16px"</span>})</span>
<span id="cb8-200"><a href="#cb8-200" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb8-201"><a href="#cb8-201" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb8-202"><a href="#cb8-202" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb8-203"><a href="#cb8-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-206"><a href="#cb8-206" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb8-207"><a href="#cb8-207" aria-hidden="true" tabindex="-1"></a><span class="co">//| echo: false</span></span>
<span id="cb8-208"><a href="#cb8-208" aria-hidden="true" tabindex="-1"></a>calPlot <span class="op">=</span> turnInput <span class="op">?</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb8-209"><a href="#cb8-209" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Gregorian calendar"</span><span class="op">,</span></span>
<span id="cb8-210"><a href="#cb8-210" aria-hidden="true" tabindex="-1"></a>  <span class="dt">padding</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-211"><a href="#cb8-211" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">280</span><span class="op">,</span></span>
<span id="cb8-212"><a href="#cb8-212" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">980</span><span class="op">,</span></span>
<span id="cb8-213"><a href="#cb8-213" aria-hidden="true" tabindex="-1"></a>  <span class="dt">className</span><span class="op">:</span> <span class="st">"calplot"</span><span class="op">,</span></span>
<span id="cb8-214"><a href="#cb8-214" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb8-215"><a href="#cb8-215" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span></span>
<span id="cb8-216"><a href="#cb8-216" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginRight</span><span class="op">:</span> <span class="dv">42</span><span class="op">,</span></span>
<span id="cb8-217"><a href="#cb8-217" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">tickFormat</span><span class="op">:</span> Plot<span class="op">.</span><span class="fu">formatWeekday</span>(<span class="st">"en"</span><span class="op">,</span> <span class="st">"narrow"</span>)<span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-218"><a href="#cb8-218" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span></span>
<span id="cb8-219"><a href="#cb8-219" aria-hidden="true" tabindex="-1"></a>      <span class="dt">ticks</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span></span>
<span id="cb8-220"><a href="#cb8-220" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tickPadding</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb8-221"><a href="#cb8-221" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-222"><a href="#cb8-222" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">interval</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">ticks</span><span class="op">:</span> <span class="dv">26</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Week"</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">"band"</span><span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">tickPadding</span><span class="op">:</span> <span class="op">-</span><span class="dv">26</span><span class="op">,</span> <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">16</span><span class="op">,</span> <span class="dt">labelArrow</span><span class="op">:</span> <span class="kw">false</span>}<span class="op">,</span></span>
<span id="cb8-223"><a href="#cb8-223" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> { <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"21px"</span> }<span class="op">,</span></span>
<span id="cb8-224"><a href="#cb8-224" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb8-225"><a href="#cb8-225" aria-hidden="true" tabindex="-1"></a>    <span class="dt">range</span><span class="op">:</span> d3<span class="op">.</span><span class="at">schemePastel1</span><span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemePastel2</span><span class="op">.</span><span class="fu">slice</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">7</span>))<span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemeSet1</span>[<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb8-226"><a href="#cb8-226" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> months<span class="op">.</span><span class="fu">concat</span>(<span class="st">"selected"</span>)<span class="op">,</span></span>
<span id="cb8-227"><a href="#cb8-227" aria-hidden="true" tabindex="-1"></a>    <span class="dt">className</span><span class="op">:</span> <span class="st">"cal"</span><span class="op">,</span></span>
<span id="cb8-228"><a href="#cb8-228" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-229"><a href="#cb8-229" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb8-230"><a href="#cb8-230" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">cell</span>(datesCal<span class="op">,</span> {</span>
<span id="cb8-231"><a href="#cb8-231" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb8-232"><a href="#cb8-232" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDay</span>()<span class="op">,</span></span>
<span id="cb8-233"><a href="#cb8-233" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"selected"</span> <span class="op">:</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">,</span></span>
<span id="cb8-234"><a href="#cb8-234" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"darkorange"</span> <span class="op">:</span> <span class="st">"none"</span><span class="op">,</span></span>
<span id="cb8-235"><a href="#cb8-235" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb8-236"><a href="#cb8-236" aria-hidden="true" tabindex="-1"></a>      <span class="dt">inset</span><span class="op">:</span> <span class="op">.</span><span class="dv">5</span><span class="op">,</span></span>
<span id="cb8-237"><a href="#cb8-237" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb8-238"><a href="#cb8-238" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(datesCal<span class="op">,</span> {</span>
<span id="cb8-239"><a href="#cb8-239" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb8-240"><a href="#cb8-240" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>() <span class="op">===</span> <span class="dv">9</span> <span class="op">?</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">3</span>) <span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb8-241"><a href="#cb8-241" aria-hidden="true" tabindex="-1"></a>      <span class="dt">frameAnchor</span><span class="op">:</span> <span class="st">"right"</span><span class="op">,</span></span>
<span id="cb8-242"><a href="#cb8-242" aria-hidden="true" tabindex="-1"></a>      <span class="dt">dx</span><span class="op">:</span> <span class="dv">32</span><span class="op">,</span></span>
<span id="cb8-243"><a href="#cb8-243" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-244"><a href="#cb8-244" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"18px"</span>})<span class="op">,</span></span>
<span id="cb8-245"><a href="#cb8-245" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(datesCal<span class="op">,</span> {</span>
<span id="cb8-246"><a href="#cb8-246" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb8-247"><a href="#cb8-247" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDay</span>()<span class="op">,</span></span>
<span id="cb8-248"><a href="#cb8-248" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"white"</span> <span class="op">:</span> <span class="st">"black"</span><span class="op">,</span></span>
<span id="cb8-249"><a href="#cb8-249" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>()<span class="op">,</span> <span class="co">//Math.floor(unix2doty(d.getTime())).toString().padStart(3, "0"),</span></span>
<span id="cb8-250"><a href="#cb8-250" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-251"><a href="#cb8-251" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"16px"</span>})</span>
<span id="cb8-252"><a href="#cb8-252" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb8-253"><a href="#cb8-253" aria-hidden="true" tabindex="-1"></a>}) <span class="op">:</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb8-254"><a href="#cb8-254" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> <span class="st">"Gregorian calendar"</span><span class="op">,</span></span>
<span id="cb8-255"><a href="#cb8-255" aria-hidden="true" tabindex="-1"></a>  <span class="dt">padding</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-256"><a href="#cb8-256" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">1280</span><span class="op">,</span></span>
<span id="cb8-257"><a href="#cb8-257" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">200</span><span class="op">,</span></span>
<span id="cb8-258"><a href="#cb8-258" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginTop</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-259"><a href="#cb8-259" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">40</span><span class="op">,</span></span>
<span id="cb8-260"><a href="#cb8-260" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginLeft</span><span class="op">:</span> <span class="dv">42</span><span class="op">,</span></span>
<span id="cb8-261"><a href="#cb8-261" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">tickFormat</span><span class="op">:</span> Plot<span class="op">.</span><span class="fu">formatWeekday</span>(<span class="st">"en"</span><span class="op">,</span> <span class="st">"short"</span>)<span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-262"><a href="#cb8-262" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span></span>
<span id="cb8-263"><a href="#cb8-263" aria-hidden="true" tabindex="-1"></a>      <span class="dt">ticks</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">,</span> <span class="dv">6</span>]<span class="op">,</span></span>
<span id="cb8-264"><a href="#cb8-264" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tickPadding</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-265"><a href="#cb8-265" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-266"><a href="#cb8-266" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">interval</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">ticks</span><span class="op">:</span> <span class="dv">26</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Week"</span><span class="op">,</span> <span class="dt">type</span><span class="op">:</span> <span class="st">"band"</span><span class="op">,</span> <span class="dt">tickSize</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">tickPadding</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">36</span><span class="op">,</span> <span class="dt">labelArrow</span><span class="op">:</span> <span class="kw">false</span>}<span class="op">,</span></span>
<span id="cb8-267"><a href="#cb8-267" aria-hidden="true" tabindex="-1"></a>  <span class="co">//fx: {tickFormat: ""},</span></span>
<span id="cb8-268"><a href="#cb8-268" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> { <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"21px"</span> }<span class="op">,</span></span>
<span id="cb8-269"><a href="#cb8-269" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {</span>
<span id="cb8-270"><a href="#cb8-270" aria-hidden="true" tabindex="-1"></a>    <span class="dt">range</span><span class="op">:</span> d3<span class="op">.</span><span class="at">schemePastel1</span><span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemePastel2</span><span class="op">.</span><span class="fu">slice</span>(<span class="dv">4</span><span class="op">,</span> <span class="dv">7</span>))<span class="op">.</span><span class="fu">concat</span>(d3<span class="op">.</span><span class="at">schemeSet1</span>[<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb8-271"><a href="#cb8-271" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> months<span class="op">.</span><span class="fu">concat</span>(<span class="st">"selected"</span>)<span class="op">,</span></span>
<span id="cb8-272"><a href="#cb8-272" aria-hidden="true" tabindex="-1"></a>    <span class="dt">className</span><span class="op">:</span> <span class="st">"cal"</span><span class="op">,</span></span>
<span id="cb8-273"><a href="#cb8-273" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-274"><a href="#cb8-274" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb8-275"><a href="#cb8-275" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">cell</span>(datesCal<span class="op">,</span> {</span>
<span id="cb8-276"><a href="#cb8-276" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb8-277"><a href="#cb8-277" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDay</span>()<span class="op">,</span></span>
<span id="cb8-278"><a href="#cb8-278" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb8-279"><a href="#cb8-279" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"selected"</span> <span class="op">:</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">,</span></span>
<span id="cb8-280"><a href="#cb8-280" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"darkorange"</span> <span class="op">:</span> <span class="st">"none"</span><span class="op">,</span></span>
<span id="cb8-281"><a href="#cb8-281" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb8-282"><a href="#cb8-282" aria-hidden="true" tabindex="-1"></a>      <span class="dt">inset</span><span class="op">:</span> <span class="op">.</span><span class="dv">5</span><span class="op">,</span></span>
<span id="cb8-283"><a href="#cb8-283" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb8-284"><a href="#cb8-284" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(datesCal<span class="op">,</span> {</span>
<span id="cb8-285"><a href="#cb8-285" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb8-286"><a href="#cb8-286" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDay</span>()<span class="op">,</span></span>
<span id="cb8-287"><a href="#cb8-287" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb8-288"><a href="#cb8-288" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>() <span class="op">===</span> <span class="dv">7</span> <span class="op">?</span> months[d<span class="op">.</span><span class="fu">getUTCMonth</span>()]<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">3</span>) <span class="op">:</span> <span class="st">""</span><span class="op">,</span></span>
<span id="cb8-289"><a href="#cb8-289" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span></span>
<span id="cb8-290"><a href="#cb8-290" aria-hidden="true" tabindex="-1"></a>      <span class="dt">frameAnchor</span><span class="op">:</span> <span class="st">"left"</span><span class="op">,</span></span>
<span id="cb8-291"><a href="#cb8-291" aria-hidden="true" tabindex="-1"></a>      <span class="dt">dy</span><span class="op">:</span> <span class="op">-</span><span class="dv">1</span><span class="op">,</span></span>
<span id="cb8-292"><a href="#cb8-292" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-293"><a href="#cb8-293" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"18px"</span>})<span class="op">,</span></span>
<span id="cb8-294"><a href="#cb8-294" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(datesCal<span class="op">,</span> {</span>
<span id="cb8-295"><a href="#cb8-295" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="at">utcWeek</span><span class="op">.</span><span class="fu">count</span>(d3<span class="op">.</span><span class="fu">utcYear</span>(d)<span class="op">,</span> d)<span class="op">,</span></span>
<span id="cb8-296"><a href="#cb8-296" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDay</span>()<span class="op">,</span></span>
<span id="cb8-297"><a href="#cb8-297" aria-hidden="true" tabindex="-1"></a>      <span class="co">//fx: d =&gt; d.getUTCFullYear(),</span></span>
<span id="cb8-298"><a href="#cb8-298" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">unix2doty</span>(d<span class="op">.</span><span class="fu">getTime</span>())) <span class="op">===</span> dotyInput <span class="op">?</span> <span class="st">"white"</span> <span class="op">:</span> <span class="st">"black"</span><span class="op">,</span></span>
<span id="cb8-299"><a href="#cb8-299" aria-hidden="true" tabindex="-1"></a>      <span class="co">//stroke: "white",</span></span>
<span id="cb8-300"><a href="#cb8-300" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getUTCDate</span>()<span class="op">,</span> <span class="co">//Math.floor(unix2doty(d.getTime())).toString().padStart(3, "0"),</span></span>
<span id="cb8-301"><a href="#cb8-301" aria-hidden="true" tabindex="-1"></a>      <span class="dt">monospace</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-302"><a href="#cb8-302" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fontSize</span><span class="op">:</span> <span class="st">"16px"</span>})</span>
<span id="cb8-303"><a href="#cb8-303" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb8-304"><a href="#cb8-304" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb8-305"><a href="#cb8-305" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb8-306"><a href="#cb8-306" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb8-307"><a href="#cb8-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-308"><a href="#cb8-308" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">First day of the Gregorian calendar year</span><span class="co">]</span>{.radiotitle}</span>
<span id="cb8-309"><a href="#cb8-309" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-312"><a href="#cb8-312" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb8-313"><a href="#cb8-313" aria-hidden="true" tabindex="-1"></a><span class="co">//| echo: false</span></span>
<span id="cb8-314"><a href="#cb8-314" aria-hidden="true" tabindex="-1"></a><span class="co">//| id: radiobuttons</span></span>
<span id="cb8-315"><a href="#cb8-315" aria-hidden="true" tabindex="-1"></a>viewof dotwInput <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">radio</span>([</span>
<span id="cb8-316"><a href="#cb8-316" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Sunday"</span><span class="op">,</span> <span class="st">"Monday"</span><span class="op">,</span> <span class="st">"Tuesday"</span><span class="op">,</span> <span class="st">"Wednesday"</span><span class="op">,</span> <span class="st">"Thursday"</span><span class="op">,</span> <span class="st">"Friday"</span><span class="op">,</span> <span class="st">"Saturday"</span><span class="op">,</span></span>
<span id="cb8-317"><a href="#cb8-317" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span> {<span class="dt">value</span><span class="op">:</span> <span class="st">"Sunday"</span>})</span>
<span id="cb8-318"><a href="#cb8-318" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb8-319"><a href="#cb8-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-320"><a href="#cb8-320" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">radio</span><span class="co">](https://observablehq.com/@observablehq/input-radio)</span>🔘input beneath the plots selects the <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} for <span class="co">[</span><span class="ot">Day 306</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="January 1"}, the first day of the Gregorian calendar🗓️year. Changing the <span class="co">[</span><span class="ot">Day 306</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="January 1"} <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} shifts every date in the Gregorian calendar🗓️by one to six days depending on the number of days that Week 0, the first week of the year, contributes to the year.</span>
<span id="cb8-321"><a href="#cb8-321" aria-hidden="true" tabindex="-1"></a>In contrast, weeks have no effect on Decalendar.</span>
<span id="cb8-322"><a href="#cb8-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-323"><a href="#cb8-323" aria-hidden="true" tabindex="-1"></a>Although weeks determine the shape of the Gregorian calendar🗓️plot, each of its <span class="co">[</span><span class="ot">cell</span><span class="co">](https://observablehq.com/plot/marks/cell)</span> values is a day-of-month (<span class="co">[</span><span class="ot">dom</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-month"}). To uniquely identify🪪a specific day in a year, a <span class="co">[</span><span class="ot">dom</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-month"} must be paired with the month to which it belongs. Both plots use three-letter abbreviations and the same <span class="co">[</span><span class="ot">color🎨scheme</span><span class="co">](https://observablehq.com/@d3/color-schemes)</span> to label🏷️months, but are shifted in relation to each other by two months.</span>
<span id="cb8-324"><a href="#cb8-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-325"><a href="#cb8-325" aria-hidden="true" tabindex="-1"></a><span class="fu"># Day of year (doy){id="doy"}</span></span>
<span id="cb8-326"><a href="#cb8-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-327"><a href="#cb8-327" aria-hidden="true" tabindex="-1"></a>A dek and <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"} can be combined into a single number called a day-of-year (<span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}). Every cell value in the Decalendar plot is a <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}. The <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} chosen by the range🎚️inputs to be highlighted with a red🟥background in the plots is <span class="co">[</span><span class="ot">\${dotyInput}</span><span class="co">]</span>{.cyan}. You can use the range🎚️inputs to convert a month and a <span class="co">[</span><span class="ot">dom</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-month"} into a <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}. Try converting a special date such as your birthday🎂 or anniversary💍!</span>
<span id="cb8-328"><a href="#cb8-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-329"><a href="#cb8-329" aria-hidden="true" tabindex="-1"></a>There are two range🎚️inputs labeled as "day of year" because every <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} can be expressed as both a positive and a negative number. The typical range for <span class="co">[</span><span class="ot">doys</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-year"} is 0 to <span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange}-1, but negative <span class="co">[</span><span class="ot">doys</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-year"} typically range from -<span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange} to -1, where <span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange} is the number of days in the year, either 365 or 366. A <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} outside these <span class="co">[</span><span class="ot">bounds</span><span class="co">]</span>(https://en.wikipedia.org/wiki/Upper_and_lower_bounds#:~:text=an%20upper%20bound%20or%20majorant%5B1%5D%20of%20a%20subset%20S%20of%20some%20preordered%20set%20(K%2C%20%E2%89%A4)%20is%20an%20element%20of%20K%20that%20is%20greater%20than%20or%20equal%20to%20every%20element%20of%20S.%5B2%5D%5B3%5D%20Dually%2C%20a%20lower%20bound%20or%20minorant%20of%20S%20is%20defined%20to%20be%20an%20element%20of%20K%20that%20is%20less%20than%20or%20equal%20to%20every%20element%20of%20S) represents a day in a previous or subsequent year.</span>
<span id="cb8-330"><a href="#cb8-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-331"><a href="#cb8-331" aria-hidden="true" tabindex="-1"></a>The current <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} can be expressed as <span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan} or -<span class="co">[</span><span class="ot">\${Tminus}</span><span class="co">]</span>{.pink}. The difference between any positive <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} and its negative equivalent is <span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange}: <span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan} -- -<span class="co">[</span><span class="ot">\${Tminus}</span><span class="co">]</span>{.pink} = <span class="co">[</span><span class="ot">\${nDaysInYear}</span><span class="co">]</span>{.orange}. We obtain the current dek via the dek equation, <span class="co">[</span><span class="ot">\${decoDek}</span><span class="co">]</span>{.cyan} = <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan} <span class="dv">&amp;div;</span> 10<span class="dv">&amp;RightFloor;</span>, and the current <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"} number via the <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"} equation: <span class="co">[</span><span class="ot">\${decoDod}</span><span class="co">]</span>{.cyan} = <span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan} <span class="co">[</span><span class="ot">mod</span><span class="co">](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder)</span> 10. To combine a dek and <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"}, we multiply the dek by ten and add the <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"}: <span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan} = <span class="co">[</span><span class="ot">\${decoDek}</span><span class="co">]</span>{.cyan} <span class="dv">&amp;times;</span> 10 + <span class="co">[</span><span class="ot">\${decoDod}</span><span class="co">]</span>{.cyan}.</span>
<span id="cb8-332"><a href="#cb8-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-333"><a href="#cb8-333" aria-hidden="true" tabindex="-1"></a>Unlike weeks in the Gregorian calendar🗓️, <span class="co">[</span><span class="ot">doys</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-year"} and deks do not need to continue in an infinite unbroken sequence. The last day of the year, Day -1, is always followed by <span class="co">[</span><span class="ot">Day 0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"}, regardless of the last 4 or 5 days of Dek 36 that extend past the end of the year. If we want to track days seamlessly across years, we can use a continuous count of days called the day-of-<span class="co">[</span><span class="ot">era</span><span class="co">](https://en.wikipedia.org/wiki/Calendar_era#:~:text=the%20period%20of%20time%20elapsed%20since%20one%20epoch%20of%20a%20calendar)</span> (<span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"}).</span>
<span id="cb8-334"><a href="#cb8-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-335"><a href="#cb8-335" aria-hidden="true" tabindex="-1"></a><span class="fu"># Day of era (doe){id="doe"}</span></span>
<span id="cb8-336"><a href="#cb8-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-337"><a href="#cb8-337" aria-hidden="true" tabindex="-1"></a>A <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"} is essentially a <span class="co">[</span><span class="ot">Julian day</span><span class="co">](https://en.wikipedia.org/wiki/Julian_day#:~:text=a%20continuous%20count%20of%20days%20from%20the%20beginning%20of%20the%20Julian%20period)</span> with a different <span class="co">[</span><span class="ot">epoch</span><span class="co">](https://en.wikipedia.org/wiki/Epoch#:~:text=an%20instant%20in%20time%20chosen%20as%20the%20origin%20of%20a%20particular%20calendar%20era)</span>. We can convert a Julian day in a <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"} by subtracting <span class="co">[</span><span class="ot">1721119.5</span><span class="co">]</span>{.cyan} days to shift the epoch from <span class="co">[</span><span class="ot">-4713</span><span class="co">]</span>{.under .yellow data-bs-toggle="tooltip" data-bs-title="4714 BC"}+<span class="co">[</span><span class="ot">268</span><span class="co">]</span>{.under .cyan data-bs-toggle="tooltip" data-bs-title="November 24"}.<span class="co">[</span><span class="ot">5</span><span class="co">]</span>{.under .cyan data-bs-toggle="tooltip" data-bs-title="noon"} to <span class="co">[</span><span class="ot">0000</span><span class="co">]</span>{.under .yellow data-bs-toggle="tooltip" data-bs-title="1 BC"}+<span class="co">[</span><span class="ot">000</span><span class="co">]</span>{.under .cyan data-bs-toggle="tooltip" data-bs-title="March 1"}.<span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.under .cyan data-bs-toggle="tooltip" data-bs-title="midnight"}. To turn a <span class="co">[</span><span class="ot">UNIX timestamp</span><span class="co">](https://en.wikipedia.org/wiki/Unix_time#:~:text=the%20number%20of%20non%2Dleap%20seconds%20that%20have%20elapsed%20since%2000%3A00%3A00%20UTC%20on%201%C2%A0January%201970)</span> into a <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"}, we divide by <span class="co">[</span><span class="ot">86400</span><span class="co">]</span>(https://en.wikipedia.org/wiki/Day#:~:text=average%2C%20this%20is-,24%20hours%20(86%2C400%20seconds),-.%20As%20a%20day) to convert seconds to days and then add <span class="co">[</span><span class="ot">719468.0</span><span class="co">]</span>{.cyan} to account for the fact that the <span class="co">[</span><span class="ot">UNIX epoch</span><span class="co">](https://en.wikipedia.org/wiki/Unix_time#:~:text=00%3A00%3A00%20UTC%20on%201%C2%A0January%201970)</span> is <span class="co">[</span><span class="ot">1969</span><span class="co">]</span>{.under .yellow data-bs-toggle="tooltip" data-bs-title="1970"}+<span class="co">[</span><span class="ot">306</span><span class="co">]</span>{.under .cyan data-bs-toggle="tooltip" data-bs-title="January 1"}.<span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.under .cyan data-bs-toggle="tooltip" data-bs-title="midnight"}.</span>
<span id="cb8-338"><a href="#cb8-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-339"><a href="#cb8-339" aria-hidden="true" tabindex="-1"></a>Dec uses <span class="co">[</span><span class="ot">does</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-era"} for calculations, such as finding the <span class="co">[</span><span class="ot">POSIX</span><span class="co">](https://en.wikipedia.org/wiki/POSIX#:~:text=a%20family%20of%20standards%20specified%20by%20the%20IEEE%20Computer%20Society%20for%20maintaining%20compatibility%20between%20operating%20systems)</span> <span class="co">[</span><span class="ot">zero-based [dow]{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"}</span><span class="co">]</span>(https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=weekday%20as%20a%20decimal%20number%20%5B0%2C6%5D%20(0%3Dsunday)) of a given date. This year, the <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} of <span class="co">[</span><span class="ot">Christmas</span><span class="co">](https://en.wikipedia.org/wiki/Christmas#:~:text=annual%20festival%20commemorating%20the%20birth%20of%20Jesus%20Christ)</span>🎄is <span class="co">[</span><span class="ot">\${xmasDotw}</span><span class="co">]</span>{.wine} according to the Dec <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} equation: (<span class="co">[</span><span class="ot">\${xmasDote}</span><span class="co">]</span>{.cyan} + 3) <span class="co">[</span><span class="ot">mod</span><span class="co">](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder)</span> 7 = <span class="co">[</span><span class="ot">\${xmasDotw}</span><span class="co">]</span>{.wine}. In contrast to the <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"}, we can find the <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"} of Christmas🎄without any calculation because its <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"}, <span class="co">[</span><span class="ot">9</span><span class="co">]</span>{.cyan}, is simply the last digit of the <span class="co">[</span><span class="ot">integer part</span><span class="co">](https://en.wikipedia.org/wiki/Decimal#:~:text=the%20integer%20written%20to%20the%20left%20of%20the%20decimal)</span> of its <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}: <span class="co">[</span><span class="ot">299</span><span class="co">]</span>{.cyan}.</span>
<span id="cb8-340"><a href="#cb8-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-341"><a href="#cb8-341" aria-hidden="true" tabindex="-1"></a>::: {.callout-warning}</span>
<span id="cb8-342"><a href="#cb8-342" aria-hidden="true" tabindex="-1"></a><span class="fu"># Bad Pun Alert</span></span>
<span id="cb8-343"><a href="#cb8-343" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">Dek the halls</span><span class="co">](https://en.wikipedia.org/wiki/Deck_the_Halls#:~:text=a%20traditional%20Christmas%20carol.)</span> with <span class="co">[</span><span class="ot">dows</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-week"} of holly! Fa + la <span class="dv">&amp;times;</span> 8!</span>
<span id="cb8-344"><a href="#cb8-344" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb8-345"><a href="#cb8-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-346"><a href="#cb8-346" aria-hidden="true" tabindex="-1"></a>Christmas🎄is a fixed⚓️holiday because it occurs on the same <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} every year. Unlike fixed⚓️holidays, Gregorian calendar floating🛟holidays happen on a different <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} every year so that their <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} can remain constant. Dec uses the <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} <span class="co">[</span><span class="ot">delta</span><span class="co">]</span>(https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator) equation, <span class="co">[</span><span class="ot">w~Δ~</span><span class="co">]</span>{.wine} = (<span class="co">[</span><span class="ot">w~M~</span><span class="co">]</span>{.wine} -- <span class="co">[</span><span class="ot">w~S~</span><span class="co">]</span>{.wine} + 7) <span class="co">[</span><span class="ot">mod</span><span class="co">](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder)</span> 7, to determine which of the seven possible floating🛟holiday dates corresponds to the given year.</span>
<span id="cb8-347"><a href="#cb8-347" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-348"><a href="#cb8-348" aria-hidden="true" tabindex="-1"></a>In the <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} <span class="co">[</span><span class="ot">delta</span><span class="co">]</span>(https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator) equation, <span class="co">[</span><span class="ot">w~M~</span><span class="co">]</span>{.wine} is the <span class="co">[</span><span class="ot">minuend</span><span class="co">](https://en.wiktionary.org/wiki/minuend#:~:text=A%20number%20or%20quantity%20from%20which%20another%20is%20to%20be%20subtracted)</span> <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} destination and <span class="co">[</span><span class="ot">w~S~</span><span class="co">]</span>{.wine} is the <span class="co">[</span><span class="ot">subtrahend</span><span class="co">](https://en.wikipedia.org/wiki/Subtraction#:~:text=number%20being%20subtracted)</span> <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} starting point. To get the <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} of the first <span class="co">[</span><span class="ot">Dow 4</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="Thursday"} after <span class="co">[</span><span class="ot">Day 265</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="November 21"}, which is <span class="co">[</span><span class="ot">Thanksgiving</span><span class="co">](https://en.wikipedia.org/wiki/Thanksgiving#:~:text=Thanksgiving%20is-,a%20national%20holiday,-celebrated%20on%20various)</span>🦃in the United States and Brazil, we plug <span class="co">[</span><span class="ot">4</span><span class="co">]</span>{.wine} as <span class="co">[</span><span class="ot">w~M~</span><span class="co">]</span>{.wine} and <span class="co">[</span><span class="ot">\${day266dotw}</span><span class="co">]</span>{.wine}, the <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} of <span class="co">[</span><span class="ot">Day 266</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="November 22"} this year, as <span class="co">[</span><span class="ot">w~S~</span><span class="co">]</span>{.wine} into the <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} <span class="co">[</span><span class="ot">delta</span><span class="co">]</span>(https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator) equation, <span class="co">[</span><span class="ot">\${day266dotwDiff}</span><span class="co">]</span>{.wine} = (<span class="co">[</span><span class="ot">4</span><span class="co">]</span>{.wine} -- <span class="co">[</span><span class="ot">\${day266dotw}</span><span class="co">]</span>{.wine} + 7) <span class="co">[</span><span class="ot">mod</span><span class="co">](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder)</span> 7, and then add <span class="co">[</span><span class="ot">w~Δ~</span><span class="co">]</span>{.wine} to <span class="co">[</span><span class="ot">266</span><span class="co">]</span>{.cyan}: <span class="co">[</span><span class="ot">\${day266dotwDiff + 266}</span><span class="co">]</span>{.cyan} = <span class="co">[</span><span class="ot">\${day266dotwDiff}</span><span class="co">]</span>{.wine} + <span class="co">[</span><span class="ot">266</span><span class="co">]</span>{.cyan}.</span>
<span id="cb8-349"><a href="#cb8-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-350"><a href="#cb8-350" aria-hidden="true" tabindex="-1"></a>Apart from the <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} and <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} <span class="co">[</span><span class="ot">delta</span><span class="co">]</span>(https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator) equations, the Thanksgiving🦃calculation above relies on the Dec <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"} equation, which is based on the <span class="co">[</span><span class="ot">`days_from_civil`</span><span class="co">](https://howardhinnant.github.io/date_algorithms.html#days_from_civil)</span>{.mono .under} algorithm created by <span class="co">[</span><span class="ot">Howard Hinnant</span><span class="co">](https://howardhinnant.github.io)</span> and described in his manuscript entitled [<span class="co">[</span><span class="ot">`chrono`</span><span class="co">]</span>{.mono .under}-Compatible Low-Level Date Algorithms](https://howardhinnant.github.io/date_algorithms.html), to convert the  <span class="co">[</span><span class="ot">cycle</span><span class="co">]</span>(https://en.wikipedia.org/wiki/Solar_cycle_(calendar)#:~:text=the%20Gregorian%20cycle%20of%20400%20years%20has%20exactly%20146%2C097%20days%2C%20i.e.%20exactly%2020%2C871%20weeks%2C%20one%20can%20say%20that%20the%20Gregorian%20so%2Dcalled%20solar%20cycle%20lasts%20400%20years)-of-era (<span class="co">[</span><span class="ot">coe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="cycle-of-era"}), year-of-cycle (<span class="co">[</span><span class="ot">yoc</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="year-of-cycle"}), and <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} of <span class="co">[</span><span class="ot">Day 266</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="November 22"} into its <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"}:</span>
<span id="cb8-351"><a href="#cb8-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-352"><a href="#cb8-352" aria-hidden="true" tabindex="-1"></a>$$\text{coe} = \Biggl \lfloor \frac{\begin{cases}\text{year}&amp;{\text{if } \text{year} \geq 0;}<span class="sc">\\</span>\text{year}-399&amp;{\text{otherwise.}}\end{cases}}{400} \Biggr \rfloor$$</span>
<span id="cb8-353"><a href="#cb8-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-354"><a href="#cb8-354" aria-hidden="true" tabindex="-1"></a>$$\text{yoc} = \text{year} - \text{coe} \times 400$$</span>
<span id="cb8-355"><a href="#cb8-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-356"><a href="#cb8-356" aria-hidden="true" tabindex="-1"></a>:::{style="overflow-x:auto;overflow-y:hidden;"}</span>
<span id="cb8-357"><a href="#cb8-357" aria-hidden="true" tabindex="-1"></a>$$\text{doe} = \text{coe}\times146097 + \text{yoc}\times365 + \lfloor\frac{\text{yoc}}{4}\rfloor - \lfloor\frac{\text{yoc}}{100}\rfloor + \text{doy}$$</span>
<span id="cb8-358"><a href="#cb8-358" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb8-359"><a href="#cb8-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-360"><a href="#cb8-360" aria-hidden="true" tabindex="-1"></a>The Dec date equations, the <span class="co">[</span><span class="ot">inverse</span><span class="co">](https://en.wikipedia.org/wiki/Inverse#:~:text=Inverse%20function%2C-,a%20function%20that%20%22reverses%22%20another%20function,-Generalized%20inverse%2C%20a)</span>🔁of the Dec <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"} equations above, are based on Howard Hinnant's <span class="co">[</span><span class="ot">`civil_from_days`</span><span class="co">](https://howardhinnant.github.io/date_algorithms.html#civil_from_days)</span>{.mono} algorithm and are useful for obtaining Dec dates from <span class="co">[</span><span class="ot">does</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-era"} and <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"} analogs like <span class="co">[</span><span class="ot">Unix timestamps</span><span class="co">](https://en.wikipedia.org/wiki/Unix_time#:~:text=the%20number%20of%20seconds%20that%20have%20elapsed%20since%2000%3A00%3A00%20UTC%20on%201%C2%A0January%201970)</span> and <span class="co">[</span><span class="ot">Julian days</span><span class="co">](https://en.wikipedia.org/wiki/Julian_day#:~:text=a%20continuous%20count%20of%20days%20from%20the%20beginning%20of%20the%20Julian%20period)</span>. Apart from <span class="co">[</span><span class="ot">coe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="cycle-of-era"} and <span class="co">[</span><span class="ot">yoc</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="year-of-cycle"}, the Dec date equations use the day-of-cycle (<span class="co">[</span><span class="ot">doc</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-cycle"}) of a <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"} to produce the <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"}'s corresponding year and <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}:</span>
<span id="cb8-361"><a href="#cb8-361" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-362"><a href="#cb8-362" aria-hidden="true" tabindex="-1"></a>$$\text{coe} = \Biggl \lfloor \frac{\begin{cases}\text{doe}&amp;{\text{if } \text{doe} \geq 0;}<span class="sc">\\</span>\text{doe}-146096&amp;{\text{otherwise.}}\end{cases}}{146097} \Biggr \rfloor$$</span>
<span id="cb8-363"><a href="#cb8-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-364"><a href="#cb8-364" aria-hidden="true" tabindex="-1"></a>$$\text{doc} = \text{doe} - \text{coe} \times 146097$$</span>
<span id="cb8-365"><a href="#cb8-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-366"><a href="#cb8-366" aria-hidden="true" tabindex="-1"></a>$$\text{yoc} = \biggl \lfloor \frac{\text{doc} - \lfloor \frac{\text{doc}}{1460} \rfloor + \lfloor \frac{\text{doc}}{36524} \rfloor - \lfloor \frac{\text{doc}}{146096} \rfloor}{365} \biggr \rfloor$$</span>
<span id="cb8-367"><a href="#cb8-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-368"><a href="#cb8-368" aria-hidden="true" tabindex="-1"></a>$$\text{year} = \text{yoc} + \text{coe} \times 400$$</span>
<span id="cb8-369"><a href="#cb8-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-370"><a href="#cb8-370" aria-hidden="true" tabindex="-1"></a>$$\text{doy} = \text{doc} - \text{yoc} \times 365 - \lfloor \frac{\text{yoc}}{4} \rfloor + \lfloor \frac{\text{yoc}}{100} \rfloor$$</span>
<span id="cb8-371"><a href="#cb8-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-372"><a href="#cb8-372" aria-hidden="true" tabindex="-1"></a>Dates generated by the Dec date equations are guaranteed to be in the standard <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.cyan} format. Therefore, we can standardize Dec dates by performing a <span class="co">[</span><span class="ot">round-trip</span><span class="co">](https://en.wikipedia.org/wiki/Round-trip_format_conversion#:~:text=converting%20from%20any%20data%20representation%20and%20back%20again)</span> date-to-<span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"}-to-date conversion using the Dec <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"} and date equations consecutively. This allows Dec to handle Dec dates with a non-integer <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow} and a <span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.cyan} outside the typical range of <span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.cyan} <span class="dv">&amp;le;</span> <span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.cyan} <span class="dv">&amp;le;</span> <span class="co">[</span><span class="ot">365</span><span class="co">]</span>{.cyan}.</span>
<span id="cb8-373"><a href="#cb8-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-374"><a href="#cb8-374" aria-hidden="true" tabindex="-1"></a><span class="fu"># Year of era (yoe){#yoe}</span></span>
<span id="cb8-375"><a href="#cb8-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-376"><a href="#cb8-376" aria-hidden="true" tabindex="-1"></a>A <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"} is essentially a Dec date with a <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow} that is always equal to <span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.yellow} and a <span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.cyan} that is <span class="co">[</span><span class="ot">unbounded</span><span class="co">](https://en.wikipedia.org/wiki/Bounded_set#:~:text=a%20set%20which%20is%20not%20bounded)</span>. Similarly, a Dec year-of-era (<span class="co">[</span><span class="ot">yoe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="year-of-era"}) is basically a Dec with a non-integer <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow} and a <span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.cyan} permanently set to <span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.cyan}. Both <span class="co">[</span><span class="ot">does</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-era"} and <span class="co">[</span><span class="ot">yoes</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="years-of-era"} allow us to represent a date as a single number and obtain the difference between two dates, either in days (<span class="co">[</span><span class="ot">d~M~</span><span class="co">]</span>{.cyan} - <span class="co">[</span><span class="ot">d~S~</span><span class="co">]</span>{.cyan}) or years (<span class="co">[</span><span class="ot">y~M~</span><span class="co">]</span>{.yellow} -- <span class="co">[</span><span class="ot">y~S~</span><span class="co">]</span>{.yellow}).</span>
<span id="cb8-377"><a href="#cb8-377" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-378"><a href="#cb8-378" aria-hidden="true" tabindex="-1"></a>Compared to <span class="co">[</span><span class="ot">does</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-era"}, <span class="co">[</span><span class="ot">yoes</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="years-of-era"} are easier to turn into Dec dates. We can convert dates to <span class="co">[</span><span class="ot">yoes</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="years-of-era"} and vice versa with the Dec <span class="co">[</span><span class="ot">yoe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="year-of-era"} equation: <span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow} = <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow}<span class="dv">&amp;RightFloor;</span> + <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} <span class="dv">&amp;div;</span> <span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange}. In the Dec <span class="co">[</span><span class="ot">yoe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="year-of-era"} equation, <span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow} is the <span class="co">[</span><span class="ot">yoe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="year-of-era"}, <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow}<span class="dv">&amp;RightFloor;</span> + <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} is the Dec date, <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow}<span class="dv">&amp;RightFloor;</span> is the year, <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} is the <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}, and <span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange} is the number of days in Year <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow}<span class="dv">&amp;RightFloor;</span>. The current <span class="co">[</span><span class="ot">yoe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="year-of-era"} equation values are <span class="co">[</span><span class="ot">\${fullfracYear}</span><span class="co">]</span>{.yellow} = <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow} + <span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan} <span class="dv">&amp;div;</span> <span class="co">[</span><span class="ot">\${nDaysInYear}</span><span class="co">]</span>{.orange}.</span>
<span id="cb8-379"><a href="#cb8-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-380"><a href="#cb8-380" aria-hidden="true" tabindex="-1"></a>Dec dates do not include <span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange}, because it is not needed to specify a date, remains constant for 366, 1095, or 2920 days, has only 2 possible values: 366 if <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow}<span class="dv">&amp;RightFloor;</span>+1 is a Gregorian calendar leap year and 365 if <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow}<span class="dv">&amp;RightFloor;</span>+1 is a Gregorian calendar common year, and can be determined by applying the Gregorian calendar <span class="co">[</span><span class="ot">leap year rule</span><span class="co">](https://en.wikipedia.org/wiki/Leap_year#:~:text=Every%20year%20that%20is%20exactly%20divisible%20by%20four%20is%20a%20leap%20year%2C%20except%20for%20years%20that%20are%20exactly%20divisible%20by%20100%2C%20but%20these%20centurial%20years%20are%20leap%20years%20if%20they%20are%20exactly%20divisible%20by%20400)</span> to <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow}<span class="dv">&amp;RightFloor;</span>+1, as shown in the Dec year length equation:</span>
<span id="cb8-381"><a href="#cb8-381" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-382"><a href="#cb8-382" aria-hidden="true" tabindex="-1"></a>$$\text{n}=\begin{cases}</span>
<span id="cb8-383"><a href="#cb8-383" aria-hidden="true" tabindex="-1"></a>  366&amp;{\begin{align}\text{if } (\lfloor \text{y}\rfloor+1)\text{ mod }\ \ \ \ 4=0<span class="sc">\\</span></span>
<span id="cb8-384"><a href="#cb8-384" aria-hidden="true" tabindex="-1"></a>  \href{https://en.wikipedia.org/wiki/Logical_conjunction}{\land}(\lfloor \text{y}\rfloor+1)\text{ mod }100\neq0<span class="sc">\\</span></span>
<span id="cb8-385"><a href="#cb8-385" aria-hidden="true" tabindex="-1"></a>  \href{https://en.wikipedia.org/wiki/Logical_disjunction}{\lor}(\lfloor \text{y}\rfloor+1)\text{ mod }400=0\end{align}}<span class="sc">\\\\</span></span>
<span id="cb8-386"><a href="#cb8-386" aria-hidden="true" tabindex="-1"></a>  365&amp;{\text{otherwise.}}\end{cases}$$</span>
<span id="cb8-387"><a href="#cb8-387" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-388"><a href="#cb8-388" aria-hidden="true" tabindex="-1"></a>Apart from its role in the Dec date and <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} equations, <span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange} is needed to convert between <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.cyan} and <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow}-<span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.pink} Dec dates. The <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow}-<span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.pink} version of the Dec <span class="co">[</span><span class="ot">yoe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="year-of-era"} equation is <span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow} = <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow}<span class="dv">&amp;RightFloor;</span> + 1 + (<span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} -- <span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange}) <span class="dv">&amp;div;</span> <span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange}. In essence, <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange} is the number of days until the start of Year <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow}<span class="dv">&amp;RightFloor;</span>+1. The current <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow}-<span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.pink} date, <span class="co">[</span><span class="ot">\${nextYear}</span><span class="co">]</span>{.yellow}-<span class="co">[</span><span class="ot">\${TminusPadded}</span><span class="co">]</span>{.pink}, tells us that Year <span class="co">[</span><span class="ot">\${nextYear}</span><span class="co">]</span>{.yellow} will begin in <span class="co">[</span><span class="ot">\${Tminus}</span><span class="co">]</span>{.pink} days.</span>
<span id="cb8-389"><a href="#cb8-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-390"><a href="#cb8-390" aria-hidden="true" tabindex="-1"></a>The distinction between <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} and <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange} can also be explained in terms of computer programming. If we think of years as <span class="co">[</span><span class="ot">arrays</span><span class="co">]</span>(https://en.wikipedia.org/wiki/Array_(data_structure)#Element_identifier_and_addressing_formulas:~:text=a%20data%20structure%20consisting%20of%20a%20collection%20of%20elements%20(values%20or%20variables)%2C%20of%20same%20memory%20size%2C%20each%20identified%20by%20at%20least%20one%20array%20index), <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} and <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange} are like array <span class="co">[</span><span class="ot">indexes</span><span class="co">]</span>(https://en.wikipedia.org/wiki/Array_(data_structure)#Element_identifier_and_addressing_formulas:~:text=individual%20objects%20are%20selected%20by%20an%20index) that can be used to identify array elements or combine them into groups via <span class="co">[</span><span class="ot">slicing</span><span class="co">](https://en.wikipedia.org/wiki/Array_slicing#:~:text=an%20operation%20that%20extracts%20a%20subset%20of%20elements%20from%20an%20array)</span>. In this analogy, <span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange} is the number of elements in the array, <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} is a <span class="co">[</span><span class="ot">positive index</span><span class="co">](https://en.wikipedia.org/wiki/Zero-based_numbering#:~:text=a%20way%20of%20numbering%20in%20which%20the%20initial%20element%20of%20a%20sequence%20is%20assigned%20the%20index%C2%A00)</span>, and <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange} is a <span class="co">[</span><span class="ot">negative index</span><span class="co">](https://en.wikipedia.org/wiki/Array_slicing#:~:text=specify%20an%20offset%20from%20the%20end%20of%20the%20array)</span>.</span>
<span id="cb8-391"><a href="#cb8-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-392"><a href="#cb8-392" aria-hidden="true" tabindex="-1"></a>The <span class="co">[</span><span class="ot">yoe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="year-of-era"} equation can be rearranged into the Dec <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} equation, <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} = <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow} <span class="co">[</span><span class="ot">mod</span><span class="co">](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder)</span> 1 <span class="dv">&amp;times;</span> <span class="co">[</span><span class="ot">n</span><span class="co">]</span>{.orange}<span class="dv">&amp;RightFloor;</span>, where <span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow} <span class="co">[</span><span class="ot">mod</span><span class="co">](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder)</span> 1 is the <span class="co">[</span><span class="ot">decimal part</span><span class="co">](https://en.wikipedia.org/wiki/Fractional_part#:~:text=the%20excess%20beyond%20that%20number%27s%20integer%20part)</span> of <span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow}. The current <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} equation values are <span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan} = <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">\${mod1FracYear}</span><span class="co">]</span>{.yellow} <span class="dv">&amp;times;</span> <span class="co">[</span><span class="ot">\${nDaysInYear}</span><span class="co">]</span>{.orange}<span class="dv">&amp;RightFloor;</span>. In Dec, a <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} by itself is a floating🛟date and a <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.cyan} date is a fixed⚓️date. Unlike fixed⚓️dates, floating🛟dates do not include a year and thus can apply to any year.</span>
<span id="cb8-393"><a href="#cb8-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-394"><a href="#cb8-394" aria-hidden="true" tabindex="-1"></a>Fixed⚓️dates are <span class="co">[</span><span class="ot">unsimplified</span><span class="co">](https://en.wikipedia.org/wiki/Simplification#:~:text=the%20process%20of%20replacing%20a%20mathematical%20expression%20by%20an%20equivalent%20one%2C%20that%20is%20simpler)</span> math expressions. Instead of simplifying a fixed⚓️date into a <span class="co">[</span><span class="ot">yoe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="year-of-era"}, we can do the opposite and expand it to display additional information, such as the number of days in between it and another date. An expanded version of the current date, <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">299</span><span class="co">]</span>{.cyan}\${xmasDiffSign}<span class="co">[</span><span class="ot">\${Math.abs(xmasDiff)}</span><span class="co">]</span>{.denim}, can tell us that <span class="co">[</span><span class="ot">\${Math.abs(xmasDiff)}</span><span class="co">]</span>{.denim} days \${xmasDiffSince} <span class="co">[</span><span class="ot">Day 299</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="December 25"}🎄of this year.</span>
<span id="cb8-395"><a href="#cb8-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-396"><a href="#cb8-396" aria-hidden="true" tabindex="-1"></a>In the example above, the minuend <span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan} has been expanded into the subtrahend <span class="co">[</span><span class="ot">299</span><span class="co">]</span>{.cyan} and the difference <span class="co">[</span><span class="ot">\${xmasDiff}</span><span class="co">]</span>{.denim} as per the Dec minuend equation: minuend = subtrahend + difference. If we were preparing for a rocket🚀launch, the minuend would be the current time, the subtrahend would be the planned launch time, and the difference would be the <span class="co">[</span><span class="ot">"T-minus" countdown</span><span class="co">](https://en.wikipedia.org/wiki/Countdown#:~:text=backward%20counting%20to%20indicate%20the%20time%20remaining%20before%20an%20event)</span>.</span>
<span id="cb8-397"><a href="#cb8-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-398"><a href="#cb8-398" aria-hidden="true" tabindex="-1"></a>To see its minuend, subtrahend, and difference at the same time, we could rewrite the expanded date above as a Dec span🌈: <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan}=<span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">299</span><span class="co">]</span>{.cyan}\${xmasDiffSign}<span class="co">[</span><span class="ot">\${Math.abs(xmasDiff)}</span><span class="co">]</span>{.denim}. Unlike expanded dates, Dec spans🌈represent time intervals instead of individual dates and are structured like the minuend equation as opposed to a math expression that can be simplified to a <span class="co">[</span><span class="ot">yoe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="year-of-era"}.</span>
<span id="cb8-399"><a href="#cb8-399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-400"><a href="#cb8-400" aria-hidden="true" tabindex="-1"></a>Whereas expanded dates have a set structure that does not change, Dec spans🌈can omit the subtrahend, <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan}=\${xmasDiffSign}<span class="co">[</span><span class="ot">\${Math.abs(xmasDiff)}</span><span class="co">]</span>{.denim}, or the difference, <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan}=<span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">299</span><span class="co">]</span>{.cyan}. If the year is the same on both sides of the equals sign, it can be omitted from the minuend, <span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan}=<span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">299</span><span class="co">]</span>{.cyan}\${xmasDiffSign}<span class="co">[</span><span class="ot">\${Math.abs(xmasDiff)}</span><span class="co">]</span>{.denim}, or from the subtrahend along with the difference: <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan}=<span class="co">[</span><span class="ot">299</span><span class="co">]</span>{.cyan}.</span>
<span id="cb8-401"><a href="#cb8-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-402"><a href="#cb8-402" aria-hidden="true" tabindex="-1"></a>Dec spans🌈 can omit their entire <span class="co">[</span><span class="ot">left</span><span class="co">](https://en.wikipedia.org/wiki/Sides_of_an_equation#:~:text=the%20expression%20on%20the%20left%20of%20the%20%22%3D%22)</span>-hand side to indicate that the minuend is <span class="co">[</span><span class="ot">Day 0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"} of the given year. Similarly, an empty <span class="co">[</span><span class="ot">right</span><span class="co">](https://en.wikipedia.org/wiki/Sides_of_an_equation#:~:text=The%20expression%20on%20the%20right%20side%20of%20the%20%22%3D%22%20sign)</span>-hand side means that the subtrahend is <span class="co">[</span><span class="ot">Day 0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"} of the subsequent year. Dec spans🌈with at least one year are called fixed⚓️spans🌈. In contrast, floating🛟spans🌈do not contain a year and thus can be reused♻️ every year.</span>
<span id="cb8-403"><a href="#cb8-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-404"><a href="#cb8-404" aria-hidden="true" tabindex="-1"></a>Floating🛟dates and spans🌈are reusable♻️across all years, but the information displayed by expanded dates and spans🌈may not be.</span>
<span id="cb8-405"><a href="#cb8-405" aria-hidden="true" tabindex="-1"></a>Information related to weeks is difficult to reuse♻️, because it takes 6 to 40 years for the pattern of <span class="co">[</span><span class="ot">dows</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-week"} in a year to repeat. At the price of reusability♻️, Dec can function without deks and use weeks instead.</span>
<span id="cb8-406"><a href="#cb8-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-407"><a href="#cb8-407" aria-hidden="true" tabindex="-1"></a><span class="fu"># Day of week (dow){#dow}</span></span>
<span id="cb8-408"><a href="#cb8-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-409"><a href="#cb8-409" aria-hidden="true" tabindex="-1"></a>Even though Decalendar works best with deks, Dec dates can display POSIX <span class="co">[</span><span class="ot">zero-based</span><span class="co">](https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=Weekday%20as%20a%20decimal%20number%20%5B0%2C6%5D)</span> <span class="co">[</span><span class="ot">dows</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-week"}. Instead of the current Dec date, <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan}, the <span class="co">[</span><span class="ot">navigation bar</span><span class="co">](https://en.wikipedia.org/wiki/Navigation_bar#:~:text=a%20section%20of%20a%20graphical%20user%20interface%20intended%20to%20aid%20visitors%20in%20accessing%20information)</span> (navbar) of my site displays the current Dec <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} date, <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}\${dotw0sign}<span class="co">[</span><span class="ot">\${dotw0doty}</span><span class="co">]</span>{.cyan}+<span class="co">[</span><span class="ot">\${dotw}</span><span class="co">]</span>{.wine}, by splitting the current <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}, <span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan}, into the <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} of the first day of the current week (<span class="co">[</span><span class="ot">Dow 0</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}), <span class="co">[</span><span class="ot">\${dotw0doty}</span><span class="co">]</span>{.cyan}, and the current POSIX <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"}: <span class="co">[</span><span class="ot">\${dotw}</span><span class="co">]</span>{.wine}.</span>
<span id="cb8-410"><a href="#cb8-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-411"><a href="#cb8-411" aria-hidden="true" tabindex="-1"></a>Instead of the <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}, Dec <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} dates display <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">w</span><span class="co">]</span>{.wine}+<span class="co">[</span><span class="ot">w</span><span class="co">]</span>{.wine}, where <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">w</span><span class="co">]</span>{.wine} is the <span class="co">[</span><span class="ot">Dow 0</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} and <span class="co">[</span><span class="ot">w</span><span class="co">]</span>{.wine} is the <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} associated with <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}. We evaluate the subtraction, <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">w</span><span class="co">]</span>{.wine}, to obtain the <span class="co">[</span><span class="ot">Dow 0</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}, but leave the addition unsimplified so we can see <span class="co">[</span><span class="ot">w</span><span class="co">]</span>{.wine}. Dec <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} dates supply all of the information needed to identify specific dates and coordinate schedules based on deks or weeks.</span>
<span id="cb8-412"><a href="#cb8-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-413"><a href="#cb8-413" aria-hidden="true" tabindex="-1"></a>Dec dates can be further modified to include <span class="co">[</span><span class="ot">POSIX week numbers</span><span class="co">]</span>(https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=week%20of%20the%20year%20(sunday%20as%20the%20first%20day%20of%20the%20week)%20as%20a%20decimal%20number%20%5B00%2C53%5D.%20all%20days%20in%20a%20new%20year%20preceding%20the%20first%20sunday%20shall%20be%20considered%20to%20be%20in%20week%200.): <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+7<span class="dv">&amp;times;</span><span class="co">[</span><span class="ot">\${week}</span><span class="co">]</span>{.wheat}+<span class="co">[</span><span class="ot">\${dotw}</span><span class="co">]</span>{.wine}. The current week number, <span class="co">[</span><span class="ot">\${week}</span><span class="co">]</span>{.wheat}, is the sum of the <span class="co">[</span><span class="ot">Dow 0</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}, <span class="co">[</span><span class="ot">\${dotw0doty}</span><span class="co">]</span>{.cyan}, and the first <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} of the year (<span class="co">[</span><span class="ot">Day 0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"} <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"}), <span class="co">[</span><span class="ot">\${doty0dotw}</span><span class="co">]</span>{.wine}, divided by 7: <span class="co">[</span><span class="ot">\${week}</span><span class="co">]</span>{.wheat} = (<span class="co">[</span><span class="ot">\${dotw0doty}</span><span class="co">]</span>{.cyan} + <span class="co">[</span><span class="ot">\${doty0dotw}</span><span class="co">]</span>{.wine}) <span class="dv">&amp;div;</span> 7. The current Dec floating🛟week date, 7<span class="dv">&amp;times;</span><span class="co">[</span><span class="ot">\${week}</span><span class="co">]</span>{.wheat}+<span class="co">[</span><span class="ot">\${dotw}</span><span class="co">]</span>{.wine}, is equal to the sum of the current <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} and the <span class="co">[</span><span class="ot">Day 0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"} <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"}: 7 <span class="dv">&amp;times;</span> <span class="co">[</span><span class="ot">\${week}</span><span class="co">]</span>{.wheat} + <span class="co">[</span><span class="ot">\${dotw}</span><span class="co">]</span>{.wine} = <span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan} + <span class="co">[</span><span class="ot">\${doty0dotw}</span><span class="co">]</span>{.wine}.</span>
<span id="cb8-414"><a href="#cb8-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-415"><a href="#cb8-415" aria-hidden="true" tabindex="-1"></a>Dec week dates turn <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">w</span><span class="co">]</span>{.wine} into 7<span class="dv">&amp;times;</span><span class="co">[</span><span class="ot">W</span><span class="co">]</span>{.wheat}-<span class="co">[</span><span class="ot">w~0~</span><span class="co">]</span>{.wine}, where <span class="co">[</span><span class="ot">W</span><span class="co">]</span>{.wheat} is the week number and <span class="co">[</span><span class="ot">w~0~</span><span class="co">]</span>{.wine} is the <span class="co">[</span><span class="ot">Day 0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"} <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"}. In this case, the subtraction is omitted, because <span class="co">[</span><span class="ot">w~0~</span><span class="co">]</span>{.wine} is not necessary to identify a date and can be calculated from a given <span class="co">[</span><span class="ot">y</span><span class="co">]</span>{.yellow} by flooring it, turning it into a <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"}, and passing it into the <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} equation. POSIX week numbers may be useful for <span class="co">[</span><span class="ot">week-based accounting</span><span class="co">](https://en.wikipedia.org/wiki/Accounting_period#52%E2%80%9353-week_fiscal_year:~:text=used%20by%20companies%20that%20desire%20that%20their%20fiscal%20year%20always%20end%20on%20the%20same%20day%20of%20the%20week)</span>🧾.</span>
<span id="cb8-416"><a href="#cb8-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-417"><a href="#cb8-417" aria-hidden="true" tabindex="-1"></a>To create a Dec week date, we need two types of Dec date expansion: minuend and dividend expansion. First, we turn the minuend <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} into the subtrahend <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">w</span><span class="co">]</span>{.wine} and the difference <span class="co">[</span><span class="ot">w</span><span class="co">]</span>{.wine}. Then, we use the dividend equation, dividend = divisor <span class="dv">&amp;times;</span> quotient, to convert the dividend <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">w</span><span class="co">]</span>{.wine}+<span class="co">[</span><span class="ot">w~0~</span><span class="co">]</span>{.wine} into the divisor 7 and the quotient <span class="co">[</span><span class="ot">W</span><span class="co">]</span>{.wheat}. Week dates obfuscate <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} much more than <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} dates.</span>
<span id="cb8-418"><a href="#cb8-418" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-419"><a href="#cb8-419" aria-hidden="true" tabindex="-1"></a><span class="fu"># Day of dek (dod){#dod}</span></span>
<span id="cb8-420"><a href="#cb8-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-421"><a href="#cb8-421" aria-hidden="true" tabindex="-1"></a>Dividend expansion will not work for variable-length units like months, but it can be used to base Dec dates on any fixed-length unit, including the 20-day <span class="co">[</span><span class="ot">dudek</span><span class="co">](https://en.wiktionary.org/wiki/dudek#Esperanto:~:text=dudek-,twenty,-Polish%5Bedit)</span>, 30-day <span class="co">[</span><span class="ot">tridek</span><span class="co">](https://en.wiktionary.org/wiki/tridek#Esperanto:~:text=tridek-,thirty,-Categories%3A)</span>, 40-day <span class="co">[</span><span class="ot">kvardek</span><span class="co">](https://en.wiktionary.org/wiki/kvardek#Esperanto:~:text=kvardek-,forty,-Categories%3A)</span>, 73-day <span class="co">[</span><span class="ot">sepdektri</span><span class="co">](https://en.wiktionary.org/wiki/sepdek_tri#Esperanto:~:text=sepdek%20tri-,seventy%2Dthree,-Categories%3A)</span>, or 90-day <span class="co">[</span><span class="ot">naŭdek</span><span class="co">](https://en.wiktionary.org/wiki/na%C5%ADdek)</span>. Expansion of deks is unnecessary, because our <span class="co">[</span><span class="ot">decimal numeral system</span><span class="co">](https://en.wikipedia.org/wiki/Decimal#:~:text=system%20for%20denoting%20integer%20and%20non%2Dinteger%20numbers)</span> allows us to combine a dek, <span class="co">[</span><span class="ot">\${decoDoty.slice(0, 2)}</span><span class="co">]</span>{.cyan}, and a <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"}, <span class="co">[</span><span class="ot">\${decoDoty[2]}</span><span class="co">]</span>{.cyan}, into a <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}: <span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan}.</span>
<span id="cb8-422"><a href="#cb8-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-423"><a href="#cb8-423" aria-hidden="true" tabindex="-1"></a>While weeks are not evenly divisible by two, a dek can be cut✂️into two equal halves called pents. The flowcharts below show Schedule <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green}, the recommended pently schedule of <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} and <span class="co">[</span><span class="ot">rest</span><span class="co">]</span>{.blue} day. Schedule <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green} can be short for Schedule <span class="co">[</span><span class="ot">1</span><span class="co">]</span>{.blue}+<span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green}+<span class="co">[</span><span class="ot">1</span><span class="co">]</span>{.blue}, if you prefer the zero-based top flowchart, or Schedule <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green}+<span class="co">[</span><span class="ot">2</span><span class="co">]</span>{.blue}, if you favor the one-based bottom flowchart.</span>
<span id="cb8-424"><a href="#cb8-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-427"><a href="#cb8-427" aria-hidden="true" tabindex="-1"></a><span class="in">```{mermaid}</span></span>
<span id="cb8-428"><a href="#cb8-428" aria-hidden="true" tabindex="-1"></a>%<span class="dt">%</span>{init: {<span class="ot">'</span><span class="ss">theme</span><span class="ot">'</span>: <span class="ot">'</span><span class="ss">default</span><span class="ot">'</span>, <span class="ot">'</span><span class="ss">themeVariables</span><span class="ot">'</span>: { <span class="ot">'</span><span class="ss">fontSize</span><span class="ot">'</span>: <span class="ot">'</span><span class="ss">24px</span><span class="ot">'</span>}}}%%</span>
<span id="cb8-429"><a href="#cb8-429" aria-hidden="true" tabindex="-1"></a>flowchart TB</span>
<span id="cb8-430"><a href="#cb8-430" aria-hidden="true" tabindex="-1"></a>   A[<span class="dv">0</span>]--&gt;B[<span class="dv">1</span>]--&gt;C[<span class="dv">2</span>]--&gt;D[<span class="dv">3</span>]--&gt;E[<span class="dv">4</span>]</span>
<span id="cb8-431"><a href="#cb8-431" aria-hidden="true" tabindex="-1"></a>   F[<span class="dv">5</span>]--&gt;G[<span class="dv">6</span>]--&gt;H[<span class="dv">7</span>]--&gt;I[<span class="dv">8</span>]--&gt;J[<span class="dv">9</span>]</span>
<span id="cb8-432"><a href="#cb8-432" aria-hidden="true" tabindex="-1"></a>   subgraph workdays[work days]</span>
<span id="cb8-433"><a href="#cb8-433" aria-hidden="true" tabindex="-1"></a>   B</span>
<span id="cb8-434"><a href="#cb8-434" aria-hidden="true" tabindex="-1"></a>   C</span>
<span id="cb8-435"><a href="#cb8-435" aria-hidden="true" tabindex="-1"></a>   G</span>
<span id="cb8-436"><a href="#cb8-436" aria-hidden="true" tabindex="-1"></a>   H</span>
<span id="cb8-437"><a href="#cb8-437" aria-hidden="true" tabindex="-1"></a>   D</span>
<span id="cb8-438"><a href="#cb8-438" aria-hidden="true" tabindex="-1"></a>   I</span>
<span id="cb8-439"><a href="#cb8-439" aria-hidden="true" tabindex="-1"></a>   end</span>
<span id="cb8-440"><a href="#cb8-440" aria-hidden="true" tabindex="-1"></a>   subgraph restdays[rest days]</span>
<span id="cb8-441"><a href="#cb8-441" aria-hidden="true" tabindex="-1"></a>   A</span>
<span id="cb8-442"><a href="#cb8-442" aria-hidden="true" tabindex="-1"></a>   F</span>
<span id="cb8-443"><a href="#cb8-443" aria-hidden="true" tabindex="-1"></a>   E</span>
<span id="cb8-444"><a href="#cb8-444" aria-hidden="true" tabindex="-1"></a>   J</span>
<span id="cb8-445"><a href="#cb8-445" aria-hidden="true" tabindex="-1"></a>   workdays</span>
<span id="cb8-446"><a href="#cb8-446" aria-hidden="true" tabindex="-1"></a>   end</span>
<span id="cb8-447"><a href="#cb8-447" aria-hidden="true" tabindex="-1"></a>   style restdays color:transparent;</span>
<span id="cb8-448"><a href="#cb8-448" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb8-449"><a href="#cb8-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-452"><a href="#cb8-452" aria-hidden="true" tabindex="-1"></a><span class="in">```{mermaid}</span></span>
<span id="cb8-453"><a href="#cb8-453" aria-hidden="true" tabindex="-1"></a>%<span class="dt">%</span>{init: {<span class="ot">'</span><span class="ss">theme</span><span class="ot">'</span>: <span class="ot">'</span><span class="ss">default</span><span class="ot">'</span>, <span class="ot">'</span><span class="ss">themeVariables</span><span class="ot">'</span>: { <span class="ot">'</span><span class="ss">fontSize</span><span class="ot">'</span>: <span class="ot">'</span><span class="ss">24px</span><span class="ot">'</span>}}}%%</span>
<span id="cb8-454"><a href="#cb8-454" aria-hidden="true" tabindex="-1"></a>flowchart TB</span>
<span id="cb8-455"><a href="#cb8-455" aria-hidden="true" tabindex="-1"></a>   B[<span class="dv">1</span>]--&gt;C[<span class="dv">2</span>]--&gt;D[<span class="dv">3</span>]--&gt;E[<span class="dv">4</span>]--&gt;F[<span class="dv">5</span>]</span>
<span id="cb8-456"><a href="#cb8-456" aria-hidden="true" tabindex="-1"></a>   G[<span class="dv">6</span>]--&gt;H[<span class="dv">7</span>]--&gt;I[<span class="dv">8</span>]--&gt;J[<span class="dv">9</span>]--&gt;A[<span class="dv">10</span>]</span>
<span id="cb8-457"><a href="#cb8-457" aria-hidden="true" tabindex="-1"></a>   subgraph workdays[work days]</span>
<span id="cb8-458"><a href="#cb8-458" aria-hidden="true" tabindex="-1"></a>   B</span>
<span id="cb8-459"><a href="#cb8-459" aria-hidden="true" tabindex="-1"></a>   C</span>
<span id="cb8-460"><a href="#cb8-460" aria-hidden="true" tabindex="-1"></a>   G</span>
<span id="cb8-461"><a href="#cb8-461" aria-hidden="true" tabindex="-1"></a>   H</span>
<span id="cb8-462"><a href="#cb8-462" aria-hidden="true" tabindex="-1"></a>   D</span>
<span id="cb8-463"><a href="#cb8-463" aria-hidden="true" tabindex="-1"></a>   I</span>
<span id="cb8-464"><a href="#cb8-464" aria-hidden="true" tabindex="-1"></a>   end</span>
<span id="cb8-465"><a href="#cb8-465" aria-hidden="true" tabindex="-1"></a>   subgraph restdays[rest days]</span>
<span id="cb8-466"><a href="#cb8-466" aria-hidden="true" tabindex="-1"></a>   A</span>
<span id="cb8-467"><a href="#cb8-467" aria-hidden="true" tabindex="-1"></a>   F</span>
<span id="cb8-468"><a href="#cb8-468" aria-hidden="true" tabindex="-1"></a>   E</span>
<span id="cb8-469"><a href="#cb8-469" aria-hidden="true" tabindex="-1"></a>   J</span>
<span id="cb8-470"><a href="#cb8-470" aria-hidden="true" tabindex="-1"></a>   workdays</span>
<span id="cb8-471"><a href="#cb8-471" aria-hidden="true" tabindex="-1"></a>   end</span>
<span id="cb8-472"><a href="#cb8-472" aria-hidden="true" tabindex="-1"></a>   style restdays color:transparent;</span>
<span id="cb8-473"><a href="#cb8-473" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb8-474"><a href="#cb8-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-475"><a href="#cb8-475" aria-hidden="true" tabindex="-1"></a>Both flowcharts use <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"} numbers, but the bottom one starts from <span class="co">[</span><span class="ot">Dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"} 1 instead of <span class="co">[</span><span class="ot">Dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"} 0 and refers to <span class="co">[</span><span class="ot">Dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"} 0 as <span class="co">[</span><span class="ot">Dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"} 10. Like the <span class="co">[</span><span class="ot">dods</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-dek"} in the flowcharts above, the <span class="co">[</span><span class="ot">doys</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-year"} in the tables below are arranged in both a zero-based (top) and a one-based (bottom) manner. The tables visualize the seamless transition between a common year and the subsequent year.</span>
<span id="cb8-476"><a href="#cb8-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-477"><a href="#cb8-477" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">Rest</span><span class="co">]</span>{.blue} <span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Rest</span><span class="co">]</span>{.blue} <span class="pp">|</span></span>
<span id="cb8-478"><a href="#cb8-478" aria-hidden="true" tabindex="-1"></a><span class="pp">| -------------</span> <span class="pp">| --------------</span> <span class="pp">| --------------</span> <span class="pp">| --------------</span> <span class="pp">| -------------</span> <span class="pp">|</span></span>
<span id="cb8-479"><a href="#cb8-479" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">360</span><span class="co">]</span>{.blue}  <span class="pp">|</span> <span class="co">[</span><span class="ot">361</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">362</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">363</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">364</span><span class="co">]</span>{.blue} <span class="pp">|</span></span>
<span id="cb8-480"><a href="#cb8-480" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.blue}    <span class="pp">|</span> <span class="co">[</span><span class="ot">1</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">2</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">4</span><span class="co">]</span>{.blue}   <span class="pp">|</span></span>
<span id="cb8-481"><a href="#cb8-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-482"><a href="#cb8-482" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Rest</span><span class="co">]</span>{.blue} <span class="pp">|</span> <span class="co">[</span><span class="ot">Rest</span><span class="co">]</span>{.blue} <span class="pp">|</span></span>
<span id="cb8-483"><a href="#cb8-483" aria-hidden="true" tabindex="-1"></a><span class="pp">| -------------</span>  <span class="pp">| --------------</span> <span class="pp">| --------------</span> <span class="pp">| -------------</span> <span class="pp">| -------------</span> <span class="pp">|</span></span>
<span id="cb8-484"><a href="#cb8-484" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">361</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">362</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">363</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">364</span><span class="co">]</span>{.blue} <span class="pp">|</span> <span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.blue}    <span class="pp">|</span></span>
<span id="cb8-485"><a href="#cb8-485" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">1</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">2</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">4</span><span class="co">]</span>{.blue}   <span class="pp">|</span> <span class="co">[</span><span class="ot">5</span><span class="co">]</span>{.blue}    <span class="pp">|</span></span>
<span id="cb8-486"><a href="#cb8-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-487"><a href="#cb8-487" aria-hidden="true" tabindex="-1"></a>After 4 or 8 years of consecutive pents, the Schedule <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green} pattern shown in the flowcharts and tables above is interrupted by <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.blue} consecutive <span class="co">[</span><span class="ot">rest</span><span class="co">]</span>{.blue} days during the transition from a leap year. This interruption is represented by 4 empty cells in the middle row of the two tables below. The middle row contains only one day: <span class="co">[</span><span class="ot">Day 365</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="February 29"} in the top table and <span class="co">[</span><span class="ot">Day 0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"} in bottom one.</span>
<span id="cb8-488"><a href="#cb8-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-489"><a href="#cb8-489" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">Rest</span><span class="co">]</span>{.blue} <span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Rest</span><span class="co">]</span>{.blue} <span class="pp">|</span></span>
<span id="cb8-490"><a href="#cb8-490" aria-hidden="true" tabindex="-1"></a><span class="pp">| -------------</span> <span class="pp">| --------------</span> <span class="pp">| --------------</span> <span class="pp">| --------------</span> <span class="pp">| -------------</span> <span class="pp">|</span></span>
<span id="cb8-491"><a href="#cb8-491" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">360</span><span class="co">]</span>{.blue}  <span class="pp">|</span> <span class="co">[</span><span class="ot">361</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">362</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">363</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">364</span><span class="co">]</span>{.blue}  <span class="pp">|</span></span>
<span id="cb8-492"><a href="#cb8-492" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span>               <span class="pp">|</span>                <span class="pp">|</span>                <span class="pp">|</span>                <span class="pp">|</span> <span class="co">[</span><span class="ot">365</span><span class="co">]</span>{.blue}  <span class="pp">|</span></span>
<span id="cb8-493"><a href="#cb8-493" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.blue}    <span class="pp">|</span> <span class="co">[</span><span class="ot">1</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">2</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">4</span><span class="co">]</span>{.blue}    <span class="pp">|</span></span>
<span id="cb8-494"><a href="#cb8-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-495"><a href="#cb8-495" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Work</span><span class="co">]</span>{.green} <span class="pp">|</span> <span class="co">[</span><span class="ot">Rest</span><span class="co">]</span>{.blue} <span class="pp">|</span> <span class="co">[</span><span class="ot">Rest</span><span class="co">]</span>{.blue} <span class="pp">|</span></span>
<span id="cb8-496"><a href="#cb8-496" aria-hidden="true" tabindex="-1"></a><span class="pp">| -------------</span>  <span class="pp">| --------------</span> <span class="pp">| --------------</span> <span class="pp">| -------------</span> <span class="pp">| -------------</span> <span class="pp">|</span></span>
<span id="cb8-497"><a href="#cb8-497" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">361</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">362</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">363</span><span class="co">]</span>{.green}  <span class="pp">|</span> <span class="co">[</span><span class="ot">364</span><span class="co">]</span>{.blue}  <span class="pp">|</span> <span class="co">[</span><span class="ot">365</span><span class="co">]</span>{.blue}  <span class="pp">|</span></span>
<span id="cb8-498"><a href="#cb8-498" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span>                <span class="pp">|</span>                <span class="pp">|</span>                <span class="pp">|</span>               <span class="pp">|</span> <span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.blue}    <span class="pp">|</span></span>
<span id="cb8-499"><a href="#cb8-499" aria-hidden="true" tabindex="-1"></a><span class="pp">|</span> <span class="co">[</span><span class="ot">1</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">2</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green}    <span class="pp">|</span> <span class="co">[</span><span class="ot">4</span><span class="co">]</span>{.blue}    <span class="pp">|</span> <span class="co">[</span><span class="ot">5</span><span class="co">]</span>{.blue}    <span class="pp">|</span></span>
<span id="cb8-500"><a href="#cb8-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-501"><a href="#cb8-501" aria-hidden="true" tabindex="-1"></a>The last pent in common years is Pent 72. <span class="co">[</span><span class="ot">Day 365</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="February 29"} is the only day in Pent 73. <span class="co">[</span><span class="ot">Day 0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"} is the first day of Pent 0, the first pent of the year. To get the current pent number, ${decoPent}, we double the current dek number, <span class="co">[</span><span class="ot">\${decoDek}</span><span class="co">]</span>{.cyan}, and then add 1 if the current <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"} number, <span class="co">[</span><span class="ot">\${decoDod}</span><span class="co">]</span>{.cyan}, is greater than 4. To avoid <span class="co">[</span><span class="ot">off-by-one errors</span><span class="co">](https://en.wikipedia.org/wiki/Off-by-one_error#:~:text=a%20logic%20error%20that%20involves%20a%20number%20that%20differs%20from%20its%20intended%20value%20by%201)</span>, pent, dek, <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"}, and <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} numbers are always zero-based in Dec.</span>
<span id="cb8-502"><a href="#cb8-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-503"><a href="#cb8-503" aria-hidden="true" tabindex="-1"></a>Apart from pent numbers, a pent can also be expressed as a span🌈. Pent 72 can be represented as <span class="co">[</span><span class="ot">360</span><span class="co">]</span>{.cyan}=<span class="co">[</span><span class="ot">365</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">5</span><span class="co">]</span>{.denim}, <span class="co">[</span><span class="ot">360</span><span class="co">]</span>{.cyan}=-<span class="co">[</span><span class="ot">5</span><span class="co">]</span>{.denim}, or <span class="co">[</span><span class="ot">360</span><span class="co">]</span>{.cyan}=<span class="co">[</span><span class="ot">365</span><span class="co">]</span>{.cyan}. In addition to omitting the subtrahend or the difference, we can make the subtrahend precede the minuend to indicate that we want to start from the latest day and work backwards: <span class="co">[</span><span class="ot">365</span><span class="co">]</span>{.cyan}=<span class="co">[</span><span class="ot">360</span><span class="co">]</span>{.cyan}+<span class="co">[</span><span class="ot">5</span><span class="co">]</span>{.denim}, <span class="co">[</span><span class="ot">365</span><span class="co">]</span>{.cyan}=<span class="co">[</span><span class="ot">360</span><span class="co">]</span>{.cyan}, or <span class="co">[</span><span class="ot">365</span><span class="co">]</span>{.cyan}=+<span class="co">[</span><span class="ot">5</span><span class="co">]</span>{.denim}.</span>
<span id="cb8-504"><a href="#cb8-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-505"><a href="#cb8-505" aria-hidden="true" tabindex="-1"></a>Spans🌈can also represent groups of non-consecutive days. All of the Schedule <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green} <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} days in a year can be expressed as <span class="co">[</span><span class="ot">1</span><span class="co">]</span>{.cyan}=<span class="co">[</span><span class="ot">4</span><span class="co">]</span>{.cyan}=:<span class="co">[</span><span class="ot">5</span><span class="co">]</span>{.sienna}. In this span🌈, we start with Days <span class="co">[</span><span class="ot">1</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 2"}, <span class="co">[</span><span class="ot">2</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 3"}, and <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 4"} and then include every day that is a multiple of 5 days away from one of the starting days. The number preceded by a colon is called a step and determines which days we want to include.</span>
<span id="cb8-506"><a href="#cb8-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-507"><a href="#cb8-507" aria-hidden="true" tabindex="-1"></a><span class="al">![](../../asset/Manual_Layout.svg)</span>{.column-margin fig-align="center"}</span>
<span id="cb8-508"><a href="#cb8-508" aria-hidden="true" tabindex="-1"></a>Schedule <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green} is one of six pently schedules that allow us to organize <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} and <span class="co">[</span><span class="ot">rest</span><span class="co">]</span>{.blue} days into five homogeneous columns like in the tables and flowcharts above. These schedules are like the gears⚙️of a <span class="co">[</span><span class="ot">5-speed</span><span class="co">](https://en.m.wikipedia.org/wiki/Manual_transmission#:~:text=Common%20shift%20pattern%20for%20a%205%2Dspeed%20transmission)</span> <span class="co">[</span><span class="ot">manual transmission</span><span class="co">](https://en.m.wikipedia.org/wiki/Manual_transmission#:~:text=a%20multi%2Dspeed%20motor%20vehicle%20transmission%20system%20where%20gear%20changes%20require%20the%20driver%20to%20manually%20select%20the%20gears%20by%20operating%20a%20gear%20stick%20and%20clutch)</span> in a car. The approximate speed ranges for the five gears⚙️are &lt;5, 5 to 10, 10 to 15, 15 to 20, and <span class="dv">&amp;ge;</span>20 <span class="co">[</span><span class="ot">kilometers</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="thousands of meters"} per <span class="co">[</span><span class="ot">centiday</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="a hundredth of a day"}.</span>
<span id="cb8-509"><a href="#cb8-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-510"><a href="#cb8-510" aria-hidden="true" tabindex="-1"></a>In this analogy, <span class="co">[</span><span class="ot">Neutral</span><span class="co">](https://en.m.wikipedia.org/wiki/Neutral#:~:text=the%20state%20where%20no%20gears%20are%20selected%20for%20a%20motor%20vehicle's%20transmission)</span> (N), 1st, 2nd, 3rd, 4th, and 5th gear⚙️are Schedules <span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.green}, <span class="co">[</span><span class="ot">1</span><span class="co">]</span>{.green}, <span class="co">[</span><span class="ot">2</span><span class="co">]</span>{.green}, <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green}, <span class="co">[</span><span class="ot">4</span><span class="co">]</span>{.green}, and <span class="co">[</span><span class="ot">5</span><span class="co">]</span>{.green}, respectively. To complete the <span class="co">[</span><span class="ot">gearshift</span><span class="co">](https://en.m.wikipedia.org/wiki/Gear_stick#:~:text=a%20metal%20lever%20attached%20to%20the%20transmission%20of%20an%20automobile)</span> analogy, Reverse (R) would be a time machine that takes us to the past. As our driving speed changes, we would shift up to a higher gear⚙️or shift down to a lower gear⚙️. Similarly, we can switch between the six pently schedules as needed.</span>
<span id="cb8-511"><a href="#cb8-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-512"><a href="#cb8-512" aria-hidden="true" tabindex="-1"></a>The names of the pently schedules are derived from their respective numbers of <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} days per pent. The total🧮number of <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} days per year provided by Schedules <span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.green}, <span class="co">[</span><span class="ot">1</span><span class="co">]</span>{.green}, <span class="co">[</span><span class="ot">2</span><span class="co">]</span>{.green}, <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green}, <span class="co">[</span><span class="ot">4</span><span class="co">]</span>{.green}, and <span class="co">[</span><span class="ot">5</span><span class="co">]</span>{.green} are 0, 73, 146, 219, 292, and 365, respectively. In general, Schedule <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green} should be the default and Schedule <span class="co">[</span><span class="ot">5</span><span class="co">]</span>{.green} should only be used temporarily during crises‼️and emergencies🚨.</span>
<span id="cb8-513"><a href="#cb8-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-514"><a href="#cb8-514" aria-hidden="true" tabindex="-1"></a>In addition to switching between schedules, we can also mix them to create hybrid schedules. Schedule <span class="co">[</span><span class="ot">34</span><span class="co">]</span>{.green} mixes Schedules <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green} and <span class="co">[</span><span class="ot">4</span><span class="co">]</span>{.green} to obtain an annual total🧮of 255 <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} days without modifying the transition between years shown in the tables above. This annual total🧮is about 1 pent less than the 260 to 262 <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} days that we get annually from a 5-day <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green}week.</span>
<span id="cb8-515"><a href="#cb8-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-516"><a href="#cb8-516" aria-hidden="true" tabindex="-1"></a>Unlike weekly schedules, Schedules <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green} and <span class="co">[</span><span class="ot">34</span><span class="co">]</span>{.green} provide a consistent🎯number of <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} days every year. While Days <span class="co">[</span><span class="ot">364</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="February 28"}, <span class="co">[</span><span class="ot">365</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="February 29"}, and <span class="co">[</span><span class="ot">0</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="March 1"} can be <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} or <span class="co">[</span><span class="ot">rest</span><span class="co">]</span>{.blue} days in the Gregorian calendar, these days are always <span class="co">[</span><span class="ot">rest</span><span class="co">]</span>{.blue} days if we follow Schedules <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green} or <span class="co">[</span><span class="ot">34</span><span class="co">]</span>{.green}. Therefore, Schedules <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green} and <span class="co">[</span><span class="ot">34</span><span class="co">]</span>{.green} do not require any holidays to smooth the transition between years.</span>
<span id="cb8-517"><a href="#cb8-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-518"><a href="#cb8-518" aria-hidden="true" tabindex="-1"></a>There are 11 United States <span class="co">[</span><span class="ot">Federal holidays</span><span class="co">](https://www.opm.gov/policy-data-oversight/pay-leave/federal-holidays/)</span>. Federal holidays that fall on a Gregorian calendar <span class="co">[</span><span class="ot">rest</span><span class="co">]</span>{.blue} day, <span class="co">[</span><span class="ot">Dow 0</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} or <span class="co">[</span><span class="ot">Dow 6</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="Saturday"}, are observed on the nearest Gregorian calendar <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} day: <span class="co">[</span><span class="ot">Dow 1</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="Monday"} or <span class="co">[</span><span class="ot">Dow 5</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="Friday"}. To apply this rule to Schedule <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green}, we would observe the Day <span class="co">[</span><span class="ot">110</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="June 19"}⛓️‍💥, <span class="co">[</span><span class="ot">125</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="July 4"}🎆, <span class="co">[</span><span class="ot">255</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="November 11"}🫡, and <span class="co">[</span><span class="ot">299</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="December 25"}🎄holidays on Days <span class="co">[</span><span class="ot">111</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="June 20"}⛓️‍💥, <span class="co">[</span><span class="ot">126</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="July 5"}🎆, <span class="co">[</span><span class="ot">256</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="November 12"}🫡, and <span class="co">[</span><span class="ot">298</span><span class="co">]</span>{.underline .tool data-bs-toggle="tooltip" data-bs-title="December 26"}🎄, respectively.</span>
<span id="cb8-519"><a href="#cb8-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-520"><a href="#cb8-520" aria-hidden="true" tabindex="-1"></a>With dekly schedules, we can determine whether any date falls on a <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} or a <span class="co">[</span><span class="ot">rest</span><span class="co">]</span>{.blue} day with just a glance. Counterintuitively, dekly schedules can be based on months instead of deks. Month-based dekly schedules distinguish between <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} and <span class="co">[</span><span class="ot">rest</span><span class="co">]</span>{.blue} days based on&nbsp;the last digit of <span class="co">[</span><span class="ot">doms</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-month"}. The drawback of month-based schedules is that <span class="co">[</span><span class="ot">doms</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-month"} reset twelve times every year.</span>
<span id="cb8-521"><a href="#cb8-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-522"><a href="#cb8-522" aria-hidden="true" tabindex="-1"></a>The month-based Schedules <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green} and <span class="co">[</span><span class="ot">34</span><span class="co">]</span>{.green} have 223 and 258 <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} days per year, respectively, but will require at least one holiday to avoid six consecutive <span class="co">[</span><span class="ot">work</span><span class="co">]</span>{.green} days during the transition from a Dec common year. The best time to switch from a weekly to a dekly schedule may be from <span class="co">[</span><span class="ot">Day 31</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="April 1"} to <span class="co">[</span><span class="ot">93</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="June 2"} when the original and month-based versions of Schedules <span class="co">[</span><span class="ot">3</span><span class="co">]</span>{.green} and <span class="co">[</span><span class="ot">34</span><span class="co">]</span>{.green} are identical.</span>
<span id="cb8-523"><a href="#cb8-523" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-524"><a href="#cb8-524" aria-hidden="true" tabindex="-1"></a><span class="fu"># Day of month (dom){#dom}</span></span>
<span id="cb8-525"><a href="#cb8-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-526"><a href="#cb8-526" aria-hidden="true" tabindex="-1"></a>Dec dates can be expanded to display Dec month and <span class="co">[</span><span class="ot">POSIX [dom]{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-month"}</span><span class="co">](https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=day%20of%20the%20month%20as%20a%20decimal%20number%20%5B01%2C31%5D)</span> numbers. The current Dec <span class="co">[</span><span class="ot">dom</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-month"} date is <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">\${monthNumber}</span><span class="co">]</span>{.cyan}+<span class="co">[</span><span class="ot">\${dotm}</span><span class="co">]</span>{.magenta}. Dec month numbers are the last <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} of the previous month because POSIX <span class="co">[</span><span class="ot">doms</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-month"} are one-based. For zero-based <span class="co">[</span><span class="ot">doms</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-month"}, Dec represents each month with its first <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}: <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">\${monthNumber0}</span><span class="co">]</span>{.cyan}+<span class="co">[</span><span class="ot">\${dotm0}</span><span class="co">]</span>{.magenta}. This way, Dec can support both zero- and one-based <span class="co">[</span><span class="ot">doms</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-month"}.</span>
<span id="cb8-527"><a href="#cb8-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-528"><a href="#cb8-528" aria-hidden="true" tabindex="-1"></a>Dec <span class="co">[</span><span class="ot">dom</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-month"} dates replace the <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} from Dec dates with <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">m</span><span class="co">]</span>{.magenta}+<span class="co">[</span><span class="ot">m</span><span class="co">]</span>{.magenta}. We evaluate the subtraction to get <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">m</span><span class="co">]</span>{.magenta}, the Dec month number, but not the addition, so we can see <span class="co">[</span><span class="ot">m</span><span class="co">]</span>{.magenta}, the <span class="co">[</span><span class="ot">dom</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-month"}. If we combine the <span class="co">[</span><span class="ot">dom</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-month"} and <span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} patterns above, we can create hybrid <span class="co">[</span><span class="ot">dom</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-month"}+<span class="co">[</span><span class="ot">dow</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-week"} Dec dates: <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">\${monthNumber - dotw}</span><span class="co">]</span>{.cyan}+<span class="co">[</span><span class="ot">\${dotm}</span><span class="co">]</span>{.magenta}+<span class="co">[</span><span class="ot">\${dotw}</span><span class="co">]</span>{.wine}, where <span class="co">[</span><span class="ot">\${monthNumber - dotw}</span><span class="co">]</span>{.cyan} is <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">m</span><span class="co">]</span>{.magenta}-<span class="co">[</span><span class="ot">w</span><span class="co">]</span>{.wine}, the <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} of the last <span class="co">[</span><span class="ot">Dow 0</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} before the beginning of the month.</span>
<span id="cb8-529"><a href="#cb8-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-530"><a href="#cb8-530" aria-hidden="true" tabindex="-1"></a>We can obtain Dec month numbers using only a pair of hands🤲by counting index☝️and ring💍fingers as 30 days and other fingers as 31 days. For zero-based <span class="co">[</span><span class="ot">doms</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-month"}, we start counting from 0. For one-based <span class="co">[</span><span class="ot">doms</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-month"}, we start counting from -1, as shown in the image below. To spread 12 months across 10 fingers, the first and last fingers each represent 2 months.</span>
<span id="cb8-531"><a href="#cb8-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-532"><a href="#cb8-532" aria-hidden="true" tabindex="-1"></a>{{&lt; include _finger.qmd &gt;}}</span>
<span id="cb8-533"><a href="#cb8-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-534"><a href="#cb8-534" aria-hidden="true" tabindex="-1"></a>The finger🖐<span class="co">[</span><span class="ot">mnemonic</span><span class="co">](https://en.wikipedia.org/wiki/Mnemonic#:~:text=any%20learning%20technique%20that%20aids%20information%20retention%20or%20retrieval%20in%20the%20human%20memory)</span> described above is similar to the <span class="co">[</span><span class="ot">knuckle👊</span><span class="co">](https://en.wikipedia.org/wiki/Knuckle_mnemonic#:~:text=a%20mnemonic%20device%20for%20remembering%20the%20number%20of%20days%20in%20the%20months%20of%20the%20Julian%20and%20Gregorian%20calendars)</span>and <span class="co">[</span><span class="ot">musical keyboard🎹</span><span class="co">]</span>(https://en.wikipedia.org/wiki/Month#:~:text=this%20cyclical%20pattern%20of%20month%20lengths%20matches%20the%20musical%20keyboard%20alternation%20of%20wide%20white%20keys%20(31%20days)%20and%20narrow%20black%20keys%20(30%20days))mnemonics. These mnemonics attempt to make sense of the irregular pattern of <span class="co">[</span><span class="ot">month lengths</span><span class="co">](https://en.wikipedia.org/wiki/Month#:~:text=Name-,Number,of%20days)</span> in the Gregorian calendar.</span>
<span id="cb8-535"><a href="#cb8-535" aria-hidden="true" tabindex="-1"></a>As opposed to months, we do not need mnemonics, tables, or mental calculations to use deks, because all of the required information is plainly visible in the <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}.</span>
<span id="cb8-536"><a href="#cb8-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-537"><a href="#cb8-537" aria-hidden="true" tabindex="-1"></a><span class="fu"># Time of day (tod){#tod}</span></span>
<span id="cb8-538"><a href="#cb8-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-539"><a href="#cb8-539" aria-hidden="true" tabindex="-1"></a>In addition to the dek and <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"}, <span class="co">[</span><span class="ot">doys</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-year"} can also provide the time-of-day (<span class="co">[</span><span class="ot">tod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="time-of-day"}). The dek, <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"}, and <span class="co">[</span><span class="ot">tod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="time-of-day"} are all just different parts of the <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}. If we floor a <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"}, <span class="dv">&amp;LeftFloor;</span><span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan}<span class="dv">&amp;RightFloor;</span>, we get its integer part, which is a floating🛟date that provides the dek and <span class="co">[</span><span class="ot">dod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-dek"}, and if we obtain the remainder after dividing a <span class="co">[</span><span class="ot">doy</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-year"} or a <span class="co">[</span><span class="ot">doe</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="day-of-era"} by 1, <span class="co">[</span><span class="ot">d</span><span class="co">]</span>{.cyan} <span class="co">[</span><span class="ot">mod</span><span class="co">](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder)</span> 1, we get its decimal part, which is a <span class="co">[</span><span class="ot">tod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="time-of-day"}.</span>
<span id="cb8-540"><a href="#cb8-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-541"><a href="#cb8-541" aria-hidden="true" tabindex="-1"></a>The combination of a <span class="co">[</span><span class="ot">tod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="time-of-day"} and a Dec time zone <span class="co">[</span><span class="ot">z</span><span class="co">]</span>{.lime} is called a Dec time: .<span class="co">[</span><span class="ot">tod</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">z</span><span class="co">]</span>{.lime}. Dec times can be appended to Dec dates to form Dec snaps🫰: <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.cyan}.<span class="co">[</span><span class="ot">tod</span><span class="co">]</span>{.cyan}-<span class="co">[</span><span class="ot">z</span><span class="co">]</span>{.lime}. The Dec snap🫰on the left side of the navbar of my site, <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}\${dotw0sign}<span class="co">[</span><span class="ot">\${dotw0doty}</span><span class="co">]</span>{.cyan}+<span class="co">[</span><span class="ot">\${dotw}</span><span class="co">]</span>{.wine}🗓️<span class="co">[</span><span class="ot">\${decidayTime}</span><span class="co">]</span>{.cyan}\${zoneSign}<span class="co">[</span><span class="ot">\${Math.abs(zone)}</span><span class="co">]</span>{.lime}🕓, multiplies the <span class="co">[</span><span class="ot">tod</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="time-of-day"} by 10, <span class="co">[</span><span class="ot">\${dayTime.toFixed(5)}</span><span class="co">]</span>{.cyan} <span class="dv">&amp;times;</span> 10 = <span class="co">[</span><span class="ot">\${decidayTime}</span><span class="co">]</span>{.cyan}, so it is in the same <span class="co">[</span><span class="ot">deciday</span><span class="co">](https://en.wiktionary.org/wiki/deciday#:~:text=One%20tenth%20of%20one%20day)</span> units as the time zone.</span>
<span id="cb8-542"><a href="#cb8-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-543"><a href="#cb8-543" aria-hidden="true" tabindex="-1"></a><span class="fu"># Next</span></span>
<span id="cb8-544"><a href="#cb8-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-545"><a href="#cb8-545" aria-hidden="true" tabindex="-1"></a>After reading this article, you should be able to understand the examples in the <span class="co">[</span><span class="ot">filter</span><span class="co">](/quarto/filter)</span>, <span class="co">[</span><span class="ot">script</span><span class="co">](/quarto/script)</span>, and <span class="co">[</span><span class="ot">include</span><span class="co">](/quarto/include)</span> articles in the <span class="co">[</span><span class="ot">Quarto section</span><span class="co">](/quarto)</span> of my site. To see the full extent of the benefits that Decalendar can provide, I recommend that you continue on through the <span class="co">[</span><span class="ot">Dec section</span><span class="co">](/dec)</span> of my site to the <span class="co">[</span><span class="ot">time</span><span class="co">](/dec/time)</span>🕰️, <span class="co">[</span><span class="ot">ISO 8601</span><span class="co">](/dec/iso)</span>🌐, <span class="co">[</span><span class="ot">snap</span><span class="co">](/dec/snap)</span>🫰, and <span class="co">[</span><span class="ot">span</span><span class="co">](/dec/span)</span>🌈articles.</span>
<span id="cb8-546"><a href="#cb8-546" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-549"><a href="#cb8-549" aria-hidden="true" tabindex="-1"></a><span class="in">```{mermaid}</span></span>
<span id="cb8-550"><a href="#cb8-550" aria-hidden="true" tabindex="-1"></a>%%| label: navchart</span>
<span id="cb8-551"><a href="#cb8-551" aria-hidden="true" tabindex="-1"></a>%<span class="dt">%</span>{init: {<span class="ot">'</span><span class="ss">theme</span><span class="ot">'</span>: <span class="ot">'</span><span class="ss">default</span><span class="ot">'</span>, <span class="ot">'</span><span class="ss">themeVariables</span><span class="ot">'</span>: { <span class="ot">'</span><span class="ss">fontSize</span><span class="ot">'</span>: <span class="ot">'</span><span class="ss">24px</span><span class="ot">'</span>}}}%%</span>
<span id="cb8-552"><a href="#cb8-552" aria-hidden="true" tabindex="-1"></a>flowchart LR</span>
<span id="cb8-553"><a href="#cb8-553" aria-hidden="true" tabindex="-1"></a>   A[Dec]--&gt;B[date]--&gt;C[<span class="fu">time</span>]--&gt;D[iso]--&gt;E[snap]--&gt;F[span]</span>
<span id="cb8-554"><a href="#cb8-554" aria-hidden="true" tabindex="-1"></a>   click A <span class="ot">"</span><span class="st">/dec</span><span class="ot">"</span></span>
<span id="cb8-555"><a href="#cb8-555" aria-hidden="true" tabindex="-1"></a>   click B <span class="ot">"</span><span class="st">/dec/date</span><span class="ot">"</span></span>
<span id="cb8-556"><a href="#cb8-556" aria-hidden="true" tabindex="-1"></a>   click C <span class="ot">"</span><span class="st">/dec/time</span><span class="ot">"</span></span>
<span id="cb8-557"><a href="#cb8-557" aria-hidden="true" tabindex="-1"></a>   click D <span class="ot">"</span><span class="st">/dec/iso</span><span class="ot">"</span></span>
<span id="cb8-558"><a href="#cb8-558" aria-hidden="true" tabindex="-1"></a>   click E <span class="ot">"</span><span class="st">/dec/snap</span><span class="ot">"</span></span>
<span id="cb8-559"><a href="#cb8-559" aria-hidden="true" tabindex="-1"></a>   click F <span class="ot">"</span><span class="st">/dec/span</span><span class="ot">"</span></span>
<span id="cb8-560"><a href="#cb8-560" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb8-561"><a href="#cb8-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-562"><a href="#cb8-562" aria-hidden="true" tabindex="-1"></a><span class="fu"># Cite</span></span>
<span id="cb8-563"><a href="#cb8-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-564"><a href="#cb8-564" aria-hidden="true" tabindex="-1"></a>Thank you for your interest in Dec. You will find citation information for this article below. Please note that the original source of the algorithms underlying the conversion of Dec <span class="co">[</span><span class="ot">year</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">day</span><span class="co">]</span>{.cyan} dates and <span class="co">[</span><span class="ot">does</span><span class="co">]</span>{.under .tool data-bs-toggle="tooltip" data-bs-title="days-of-era"} is <span class="co">[</span><span class="ot">Hinnant, Howard</span><span class="co">](https://howardhinnant.github.io)</span>. [<span class="co">[</span><span class="ot">2021</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">184</span><span class="co">]</span>{.cyan}]{.underline .tool data-bs-toggle="tooltip" data-bs-title="2021-09-01"}. “<span class="in">`chrono`</span>-Compatible Low-Level Date Algorithms.” <span class="co">[</span><span class="ot">\${decoYear}</span><span class="co">]</span>{.yellow}+<span class="co">[</span><span class="ot">\${decoDoty}</span><span class="co">]</span>{.cyan}. <span class="ot">&lt;https://howardhinnant.github.io/date_algorithms.html&gt;</span>.</span>
<span id="cb8-565"><a href="#cb8-565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-568"><a href="#cb8-568" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb8-569"><a href="#cb8-569" aria-hidden="true" tabindex="-1"></a><span class="co">//| echo: false</span></span>
<span id="cb8-570"><a href="#cb8-570" aria-hidden="true" tabindex="-1"></a><span class="co">//| output: false</span></span>
<span id="cb8-571"><a href="#cb8-571" aria-hidden="true" tabindex="-1"></a>unix <span class="op">=</span> {</span>
<span id="cb8-572"><a href="#cb8-572" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span>(<span class="kw">true</span>) {</span>
<span id="cb8-573"><a href="#cb8-573" aria-hidden="true" tabindex="-1"></a>    <span class="kw">yield</span> <span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()<span class="op">;</span></span>
<span id="cb8-574"><a href="#cb8-574" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-575"><a href="#cb8-575" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-576"><a href="#cb8-576" aria-hidden="true" tabindex="-1"></a><span class="co">// http://howardhinnant.github.io/date_algorithms.html#civil_from_days</span></span>
<span id="cb8-577"><a href="#cb8-577" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">unix2dote</span>(unix<span class="op">,</span> zone<span class="op">,</span> offset <span class="op">=</span> <span class="dv">719468</span>) {</span>
<span id="cb8-578"><a href="#cb8-578" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> [(unix <span class="op">??</span> <span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()) <span class="op">/</span> <span class="dv">86400000</span> <span class="op">+</span> (</span>
<span id="cb8-579"><a href="#cb8-579" aria-hidden="true" tabindex="-1"></a>    zone <span class="op">=</span> zone <span class="op">??</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="fu">round</span>(</span>
<span id="cb8-580"><a href="#cb8-580" aria-hidden="true" tabindex="-1"></a>      (<span class="kw">new</span> <span class="bu">Date</span>)<span class="op">.</span><span class="fu">getTimezoneOffset</span>() <span class="op">/</span> <span class="dv">144</span>)</span>
<span id="cb8-581"><a href="#cb8-581" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">/</span> <span class="dv">10</span> <span class="op">+</span> offset<span class="op">,</span> zone]</span>
<span id="cb8-582"><a href="#cb8-582" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-583"><a href="#cb8-583" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">dote2date</span>(dote<span class="op">,</span> zone <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb8-584"><a href="#cb8-584" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> cote <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((</span>
<span id="cb8-585"><a href="#cb8-585" aria-hidden="true" tabindex="-1"></a>      dote <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">?</span> dote</span>
<span id="cb8-586"><a href="#cb8-586" aria-hidden="true" tabindex="-1"></a>      <span class="op">:</span> dote <span class="op">-</span> <span class="dv">146096</span></span>
<span id="cb8-587"><a href="#cb8-587" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">/</span> <span class="dv">146097</span>)<span class="op">,</span></span>
<span id="cb8-588"><a href="#cb8-588" aria-hidden="true" tabindex="-1"></a>  dotc <span class="op">=</span> dote <span class="op">-</span> cote <span class="op">*</span> <span class="dv">146097</span><span class="op">,</span></span>
<span id="cb8-589"><a href="#cb8-589" aria-hidden="true" tabindex="-1"></a>  yotc <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((dotc</span>
<span id="cb8-590"><a href="#cb8-590" aria-hidden="true" tabindex="-1"></a>    <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">1460</span>)</span>
<span id="cb8-591"><a href="#cb8-591" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">36524</span>)</span>
<span id="cb8-592"><a href="#cb8-592" aria-hidden="true" tabindex="-1"></a>    <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">146096</span>)</span>
<span id="cb8-593"><a href="#cb8-593" aria-hidden="true" tabindex="-1"></a>  ) <span class="op">/</span> <span class="dv">365</span>)<span class="op">;</span></span>
<span id="cb8-594"><a href="#cb8-594" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> [</span>
<span id="cb8-595"><a href="#cb8-595" aria-hidden="true" tabindex="-1"></a>    yotc <span class="op">+</span> cote <span class="op">*</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb8-596"><a href="#cb8-596" aria-hidden="true" tabindex="-1"></a>    dotc <span class="op">-</span> (yotc <span class="op">*</span> <span class="dv">365</span></span>
<span id="cb8-597"><a href="#cb8-597" aria-hidden="true" tabindex="-1"></a>      <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yotc <span class="op">/</span> <span class="dv">4</span>)</span>
<span id="cb8-598"><a href="#cb8-598" aria-hidden="true" tabindex="-1"></a>      <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yotc <span class="op">/</span> <span class="dv">100</span>)</span>
<span id="cb8-599"><a href="#cb8-599" aria-hidden="true" tabindex="-1"></a>  )<span class="op">,</span> zone]}</span>
<span id="cb8-600"><a href="#cb8-600" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2deco0</span>(year <span class="op">=</span> <span class="dv">1969</span><span class="op">,</span> doty <span class="op">=</span> <span class="dv">306</span><span class="op">,</span> zone <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb8-601"><a href="#cb8-601" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="vs">`</span><span class="sc">${</span>year<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">4</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">+</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(doty)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}${</span><span class="bu">String</span>(doty <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">10</span>)<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">6</span>)<span class="sc">}</span><span class="vs">-</span><span class="sc">${</span>zone<span class="sc">}</span><span class="vs">`</span></span>
<span id="cb8-602"><a href="#cb8-602" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-603"><a href="#cb8-603" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">dotw2diff</span>(x<span class="op">,</span> y) {</span>
<span id="cb8-604"><a href="#cb8-604" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (x <span class="op">-</span> y <span class="op">+</span> <span class="dv">7</span>) <span class="op">%</span> <span class="dv">7</span><span class="op">;</span></span>
<span id="cb8-605"><a href="#cb8-605" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-606"><a href="#cb8-606" aria-hidden="true" tabindex="-1"></a>dz <span class="op">=</span> <span class="fu">unix2dote</span>(unix)</span>
<span id="cb8-607"><a href="#cb8-607" aria-hidden="true" tabindex="-1"></a>ydz <span class="op">=</span> <span class="fu">dote2date</span>(<span class="op">...</span>dz)</span>
<span id="cb8-608"><a href="#cb8-608" aria-hidden="true" tabindex="-1"></a>deco <span class="op">=</span> <span class="fu">doty2deco0</span>(<span class="op">...</span>ydz)</span>
<span id="cb8-609"><a href="#cb8-609" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">year2leap</span>(year <span class="op">=</span> <span class="dv">1970</span>) {</span>
<span id="cb8-610"><a href="#cb8-610" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> year <span class="op">%</span> <span class="dv">4</span> <span class="op">==</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> year <span class="op">%</span> <span class="dv">100</span> <span class="op">!=</span> <span class="dv">0</span> <span class="op">||</span> year <span class="op">%</span> <span class="dv">400</span> <span class="op">==</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-611"><a href="#cb8-611" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-612"><a href="#cb8-612" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">dote2dotw</span>(d <span class="op">=</span> <span class="dv">719468</span>) {</span>
<span id="cb8-613"><a href="#cb8-613" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> d <span class="op">&gt;=</span> <span class="op">-</span><span class="dv">3</span> <span class="op">?</span> (d <span class="op">+</span> <span class="dv">3</span>) <span class="op">%</span> <span class="dv">7</span> <span class="op">:</span> (d <span class="op">+</span> <span class="dv">4</span>) <span class="op">%</span> <span class="dv">7</span> <span class="op">+</span> <span class="dv">6</span></span>
<span id="cb8-614"><a href="#cb8-614" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-615"><a href="#cb8-615" aria-hidden="true" tabindex="-1"></a>decoYear <span class="op">=</span> deco<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">4</span>)</span>
<span id="cb8-616"><a href="#cb8-616" aria-hidden="true" tabindex="-1"></a>nextYear <span class="op">=</span> <span class="pp">parseInt</span>(decoYear) <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb8-617"><a href="#cb8-617" aria-hidden="true" tabindex="-1"></a>decoDoty <span class="op">=</span> deco<span class="op">.</span><span class="fu">slice</span>(<span class="dv">5</span><span class="op">,</span> <span class="dv">8</span>)</span>
<span id="cb8-618"><a href="#cb8-618" aria-hidden="true" tabindex="-1"></a>decoDek <span class="op">=</span> decoDoty<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb8-619"><a href="#cb8-619" aria-hidden="true" tabindex="-1"></a>decoDod <span class="op">=</span> decoDoty[<span class="dv">2</span>]</span>
<span id="cb8-620"><a href="#cb8-620" aria-hidden="true" tabindex="-1"></a>decoPent <span class="op">=</span> decoDek <span class="op">*</span> <span class="dv">2</span> <span class="op">+</span> (decoDod <span class="op">&gt;</span> <span class="dv">4</span>)</span>
<span id="cb8-621"><a href="#cb8-621" aria-hidden="true" tabindex="-1"></a>xmasDiff <span class="op">=</span> decoDoty <span class="op">-</span> <span class="dv">299</span></span>
<span id="cb8-622"><a href="#cb8-622" aria-hidden="true" tabindex="-1"></a>xmasDiffSign <span class="op">=</span> xmasDiff <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"-"</span> <span class="op">:</span> <span class="st">"+"</span></span>
<span id="cb8-623"><a href="#cb8-623" aria-hidden="true" tabindex="-1"></a>xmasDiffSince <span class="op">=</span> xmasDiff <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"are left until"</span> <span class="op">:</span> <span class="st">"have passed since"</span></span>
<span id="cb8-624"><a href="#cb8-624" aria-hidden="true" tabindex="-1"></a>dotyInputStr <span class="op">=</span> <span class="bu">String</span>(dotyInput)<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb8-625"><a href="#cb8-625" aria-hidden="true" tabindex="-1"></a>dekInput <span class="op">=</span> <span class="pp">parseInt</span>(dotyInputStr<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">2</span>))</span>
<span id="cb8-626"><a href="#cb8-626" aria-hidden="true" tabindex="-1"></a>dodInput <span class="op">=</span> dotyInputStr[<span class="dv">2</span>]</span>
<span id="cb8-627"><a href="#cb8-627" aria-hidden="true" tabindex="-1"></a>xmasDote <span class="op">=</span> <span class="fu">date2dote</span>(ydz[<span class="dv">0</span>]<span class="op">,</span> <span class="dv">299</span>)[<span class="dv">0</span>]</span>
<span id="cb8-628"><a href="#cb8-628" aria-hidden="true" tabindex="-1"></a>xmasDotw <span class="op">=</span> <span class="fu">dote2dotw</span>(xmasDote)</span>
<span id="cb8-629"><a href="#cb8-629" aria-hidden="true" tabindex="-1"></a>dotw <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">dote2dotw</span>(dz[<span class="dv">0</span>]))</span>
<span id="cb8-630"><a href="#cb8-630" aria-hidden="true" tabindex="-1"></a>day266dotw <span class="op">=</span> <span class="fu">dote2dotw</span>(<span class="fu">date2dote</span>(ydz[<span class="dv">0</span>]<span class="op">,</span> <span class="dv">266</span>)[<span class="dv">0</span>])</span>
<span id="cb8-631"><a href="#cb8-631" aria-hidden="true" tabindex="-1"></a>day266dotwDiff <span class="op">=</span> <span class="fu">dotw2diff</span>(<span class="dv">4</span><span class="op">,</span> day266dotw)</span>
<span id="cb8-632"><a href="#cb8-632" aria-hidden="true" tabindex="-1"></a>week <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((ydz[<span class="dv">1</span>] <span class="op">+</span> doty0dotw) <span class="op">/</span> <span class="dv">7</span>)</span>
<span id="cb8-633"><a href="#cb8-633" aria-hidden="true" tabindex="-1"></a>dotm <span class="op">=</span> <span class="fu">doty2dotm</span>(<span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(ydz[<span class="dv">1</span>]))</span>
<span id="cb8-634"><a href="#cb8-634" aria-hidden="true" tabindex="-1"></a>dotm0 <span class="op">=</span> <span class="bu">String</span>(dotm <span class="op">-</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb8-635"><a href="#cb8-635" aria-hidden="true" tabindex="-1"></a>dotm1 <span class="op">=</span> dotm<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb8-636"><a href="#cb8-636" aria-hidden="true" tabindex="-1"></a>monthNumber <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(ydz[<span class="dv">1</span>] <span class="op">-</span> dotm)</span>
<span id="cb8-637"><a href="#cb8-637" aria-hidden="true" tabindex="-1"></a>monthNumber0 <span class="op">=</span> <span class="bu">String</span>(monthNumber <span class="op">+</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb8-638"><a href="#cb8-638" aria-hidden="true" tabindex="-1"></a>monthNumber1 <span class="op">=</span> monthNumber<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb8-639"><a href="#cb8-639" aria-hidden="true" tabindex="-1"></a>dotw0doty <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(ydz[<span class="dv">1</span>]) <span class="op">-</span> dotw</span>
<span id="cb8-640"><a href="#cb8-640" aria-hidden="true" tabindex="-1"></a>doty0dote <span class="op">=</span> <span class="fu">date2dote</span>(ydz[<span class="dv">0</span>]<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> ydz[<span class="dv">2</span>])</span>
<span id="cb8-641"><a href="#cb8-641" aria-hidden="true" tabindex="-1"></a>doty0dotw <span class="op">=</span> <span class="fu">dote2dotw</span>(<span class="op">...</span>doty0dote)</span>
<span id="cb8-642"><a href="#cb8-642" aria-hidden="true" tabindex="-1"></a>dotw0sign <span class="op">=</span> dotw0doty <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"-"</span> <span class="op">:</span> <span class="st">"+"</span></span>
<span id="cb8-643"><a href="#cb8-643" aria-hidden="true" tabindex="-1"></a>dayTime <span class="op">=</span> dz[<span class="dv">0</span>] <span class="op">%</span> <span class="dv">1</span></span>
<span id="cb8-644"><a href="#cb8-644" aria-hidden="true" tabindex="-1"></a>decidayTime <span class="op">=</span> (dayTime <span class="op">*</span> <span class="dv">10</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">4</span>)</span>
<span id="cb8-645"><a href="#cb8-645" aria-hidden="true" tabindex="-1"></a>zone <span class="op">=</span> dz[<span class="dv">1</span>]</span>
<span id="cb8-646"><a href="#cb8-646" aria-hidden="true" tabindex="-1"></a>zoneSign <span class="op">=</span> zone <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"+"</span> <span class="op">:</span> <span class="st">"-"</span></span>
<span id="cb8-647"><a href="#cb8-647" aria-hidden="true" tabindex="-1"></a>nDaysInYear <span class="op">=</span> <span class="dv">365</span> <span class="op">+</span> <span class="fu">year2leap</span>(ydz[<span class="dv">0</span>] <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb8-648"><a href="#cb8-648" aria-hidden="true" tabindex="-1"></a>Tminus <span class="op">=</span> nDaysInYear <span class="op">-</span> decoDoty</span>
<span id="cb8-649"><a href="#cb8-649" aria-hidden="true" tabindex="-1"></a>TminusPadded <span class="op">=</span> Tminus<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)</span>
<span id="cb8-650"><a href="#cb8-650" aria-hidden="true" tabindex="-1"></a>fracYear <span class="op">=</span> ydz[<span class="dv">0</span>] <span class="op">+</span> ydz[<span class="dv">1</span>] <span class="op">/</span> nDaysInYear</span>
<span id="cb8-651"><a href="#cb8-651" aria-hidden="true" tabindex="-1"></a>fullfracYear <span class="op">=</span> (fracYear)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">4</span>)</span>
<span id="cb8-652"><a href="#cb8-652" aria-hidden="true" tabindex="-1"></a>mod1FracYear <span class="op">=</span> (fracYear <span class="op">%</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">4</span>)</span>
<span id="cb8-653"><a href="#cb8-653" aria-hidden="true" tabindex="-1"></a>months <span class="op">=</span> [<span class="st">"January"</span><span class="op">,</span> <span class="st">"February"</span><span class="op">,</span> <span class="st">"March"</span><span class="op">,</span> <span class="st">"April"</span><span class="op">,</span> <span class="st">"May"</span><span class="op">,</span> <span class="st">"June"</span><span class="op">,</span> <span class="st">"July"</span><span class="op">,</span> <span class="st">"August"</span><span class="op">,</span> <span class="st">"September"</span><span class="op">,</span> <span class="st">"October"</span><span class="op">,</span> <span class="st">"November"</span><span class="op">,</span> <span class="st">"December"</span>]<span class="op">;</span></span>
<span id="cb8-654"><a href="#cb8-654" aria-hidden="true" tabindex="-1"></a>monthNums <span class="op">=</span> [<span class="st">"305"</span><span class="op">,</span> <span class="st">"336"</span><span class="op">,</span> <span class="st">""</span><span class="op">,</span> <span class="st">"31"</span><span class="op">,</span> <span class="st">"61"</span><span class="op">,</span> <span class="st">"92"</span><span class="op">,</span> <span class="st">"122"</span><span class="op">,</span> <span class="st">"153"</span><span class="op">,</span> <span class="st">"184"</span><span class="op">,</span> <span class="st">"214"</span><span class="op">,</span> <span class="st">"245"</span><span class="op">,</span> <span class="st">"275"</span>]<span class="op">;</span></span>
<span id="cb8-655"><a href="#cb8-655" aria-hidden="true" tabindex="-1"></a>today <span class="op">=</span> <span class="kw">new</span> <span class="bu">Date</span>()</span>
<span id="cb8-656"><a href="#cb8-656" aria-hidden="true" tabindex="-1"></a>monthName <span class="op">=</span> today<span class="op">.</span><span class="fu">toLocaleString</span>(<span class="st">'default'</span><span class="op">,</span> { <span class="dt">month</span><span class="op">:</span> <span class="st">'long'</span> })<span class="op">;</span></span>
<span id="cb8-657"><a href="#cb8-657" aria-hidden="true" tabindex="-1"></a>monthNumJS <span class="op">=</span> today<span class="op">.</span><span class="fu">getMonth</span>()<span class="op">;</span></span>
<span id="cb8-658"><a href="#cb8-658" aria-hidden="true" tabindex="-1"></a>currMonth <span class="op">=</span> monthNums[monthNumJS]</span>
<span id="cb8-659"><a href="#cb8-659" aria-hidden="true" tabindex="-1"></a>nextMonth <span class="op">=</span> monthNums[(monthNumJS <span class="op">+</span> <span class="dv">1</span>) <span class="op">%</span> <span class="dv">12</span>]</span>
<span id="cb8-660"><a href="#cb8-660" aria-hidden="true" tabindex="-1"></a>dekStart <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(decoDoty <span class="op">/</span> <span class="dv">10</span>) <span class="op">*</span> <span class="dv">10</span></span>
<span id="cb8-661"><a href="#cb8-661" aria-hidden="true" tabindex="-1"></a>diff <span class="op">=</span> <span class="pp">parseInt</span>(currMonth <span class="op">||</span> <span class="dv">0</span>) <span class="op">-</span> <span class="pp">parseInt</span>(nextMonth <span class="op">||</span> nDaysInYear)</span>
<span id="cb8-662"><a href="#cb8-662" aria-hidden="true" tabindex="-1"></a>  <span class="co">//currMonth === "" ? 0 : parseInt(currMonth) - nextMonth === "" ? nDaysInYear : parseInt(nextMonth)</span></span>
<span id="cb8-663"><a href="#cb8-663" aria-hidden="true" tabindex="-1"></a><span class="co">// https://observablehq.com/@juang1744/transform-input/1</span></span>
<span id="cb8-664"><a href="#cb8-664" aria-hidden="true" tabindex="-1"></a>transformInput <span class="op">=</span> <span class="kw">function</span>(target<span class="op">,</span> {<span class="dt">bind</span><span class="op">:</span> source<span class="op">,</span> transform <span class="op">=</span> identity<span class="op">,</span> involutory <span class="op">=</span> <span class="kw">false</span><span class="op">,</span> invert <span class="op">=</span> involutory <span class="op">?</span> transform <span class="op">:</span> <span class="fu">inverse</span>(transform)} <span class="op">=</span> {}){</span>
<span id="cb8-665"><a href="#cb8-665" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (source <span class="op">===</span> <span class="kw">undefined</span>) {</span>
<span id="cb8-666"><a href="#cb8-666" aria-hidden="true" tabindex="-1"></a>    source <span class="op">=</span> target<span class="op">;</span></span>
<span id="cb8-667"><a href="#cb8-667" aria-hidden="true" tabindex="-1"></a>    target <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;div&gt;</span><span class="sc">${</span>source<span class="sc">}</span><span class="vs">&lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb8-668"><a href="#cb8-668" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-669"><a href="#cb8-669" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">sourceInputHandler</span>() {</span>
<span id="cb8-670"><a href="#cb8-670" aria-hidden="true" tabindex="-1"></a>    target<span class="op">.</span><span class="fu">removeEventListener</span>(<span class="st">"input"</span><span class="op">,</span> targetInputHandler)<span class="op">;</span></span>
<span id="cb8-671"><a href="#cb8-671" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setTransform</span>(target)<span class="op">.</span><span class="fu">to</span>(<span class="fu">transform</span>(source<span class="op">.</span><span class="at">value</span>))<span class="op">.</span><span class="fu">andDispatchEvent</span>()<span class="op">;</span></span>
<span id="cb8-672"><a href="#cb8-672" aria-hidden="true" tabindex="-1"></a>    target<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"input"</span><span class="op">,</span> targetInputHandler)<span class="op">;</span></span>
<span id="cb8-673"><a href="#cb8-673" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-674"><a href="#cb8-674" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">targetInputHandler</span>() {</span>
<span id="cb8-675"><a href="#cb8-675" aria-hidden="true" tabindex="-1"></a>    source<span class="op">.</span><span class="fu">removeEventListener</span>(<span class="st">"input"</span><span class="op">,</span> sourceInputHandler)<span class="op">;</span></span>
<span id="cb8-676"><a href="#cb8-676" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setTransform</span>(source)<span class="op">.</span><span class="fu">to</span>(<span class="fu">invert</span>(target<span class="op">.</span><span class="at">value</span>))<span class="op">.</span><span class="fu">andDispatchEvent</span>()<span class="op">;</span></span>
<span id="cb8-677"><a href="#cb8-677" aria-hidden="true" tabindex="-1"></a>    source<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"input"</span><span class="op">,</span> sourceInputHandler)<span class="op">;</span></span>
<span id="cb8-678"><a href="#cb8-678" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-679"><a href="#cb8-679" aria-hidden="true" tabindex="-1"></a>  source<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"input"</span><span class="op">,</span> sourceInputHandler)<span class="op">;</span></span>
<span id="cb8-680"><a href="#cb8-680" aria-hidden="true" tabindex="-1"></a>  target<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"input"</span><span class="op">,</span> targetInputHandler)<span class="op">;</span></span>
<span id="cb8-681"><a href="#cb8-681" aria-hidden="true" tabindex="-1"></a>  invalidation<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb8-682"><a href="#cb8-682" aria-hidden="true" tabindex="-1"></a>    source<span class="op">.</span><span class="fu">removeEventListener</span>(<span class="st">"input"</span><span class="op">,</span> sourceInputHandler)<span class="op">;</span></span>
<span id="cb8-683"><a href="#cb8-683" aria-hidden="true" tabindex="-1"></a>    target<span class="op">.</span><span class="fu">removeEventListener</span>(<span class="st">"input"</span><span class="op">,</span> targetInputHandler)<span class="op">;</span></span>
<span id="cb8-684"><a href="#cb8-684" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb8-685"><a href="#cb8-685" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sourceInputHandler</span>()<span class="op">;</span></span>
<span id="cb8-686"><a href="#cb8-686" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> target<span class="op">;</span></span>
<span id="cb8-687"><a href="#cb8-687" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-688"><a href="#cb8-688" aria-hidden="true" tabindex="-1"></a>setTransform <span class="op">=</span> (input) <span class="kw">=&gt;</span> ({<span class="dt">to</span><span class="op">:</span> (value) <span class="kw">=&gt;</span> (input<span class="op">.</span><span class="at">value</span> <span class="op">=</span> value<span class="op">,</span> {<span class="dt">andDispatchEvent</span><span class="op">:</span> (<span class="bu">event</span> <span class="op">=</span> <span class="kw">new</span> <span class="bu">Event</span>(<span class="st">"input"</span>)) <span class="kw">=&gt;</span> input<span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="bu">event</span>)})})<span class="op">;</span></span>
<span id="cb8-689"><a href="#cb8-689" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">inverse</span>(f) {</span>
<span id="cb8-690"><a href="#cb8-690" aria-hidden="true" tabindex="-1"></a>  <span class="cf">switch</span> (f) {</span>
<span id="cb8-691"><a href="#cb8-691" aria-hidden="true" tabindex="-1"></a>    <span class="cf">case</span> <span class="dt">identity</span><span class="op">:</span>  <span class="cf">return</span> identity<span class="op">;</span></span>
<span id="cb8-692"><a href="#cb8-692" aria-hidden="true" tabindex="-1"></a>    <span class="cf">case</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span><span class="op">:</span> <span class="cf">return</span> square<span class="op">;</span></span>
<span id="cb8-693"><a href="#cb8-693" aria-hidden="true" tabindex="-1"></a>    <span class="cf">case</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">log</span><span class="op">:</span>  <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">exp</span><span class="op">;</span></span>
<span id="cb8-694"><a href="#cb8-694" aria-hidden="true" tabindex="-1"></a>    <span class="cf">case</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">exp</span><span class="op">:</span>  <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">log</span><span class="op">;</span></span>
<span id="cb8-695"><a href="#cb8-695" aria-hidden="true" tabindex="-1"></a>    <span class="cf">default</span><span class="op">:</span>        <span class="cf">return</span> (x <span class="kw">=&gt;</span> <span class="fu">solve</span>(f<span class="op">,</span> x<span class="op">,</span> x))<span class="op">;</span></span>
<span id="cb8-696"><a href="#cb8-696" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-697"><a href="#cb8-697" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">solve</span>(f<span class="op">,</span> y<span class="op">,</span> x <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb8-698"><a href="#cb8-698" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> dx <span class="op">=</span> <span class="fl">1e-6</span><span class="op">;</span></span>
<span id="cb8-699"><a href="#cb8-699" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> steps <span class="op">=</span> <span class="dv">100</span><span class="op">,</span> deltax<span class="op">,</span> fx<span class="op">,</span> dfx<span class="op">;</span></span>
<span id="cb8-700"><a href="#cb8-700" aria-hidden="true" tabindex="-1"></a>    <span class="cf">do</span> {</span>
<span id="cb8-701"><a href="#cb8-701" aria-hidden="true" tabindex="-1"></a>      fx <span class="op">=</span> <span class="fu">f</span>(x)</span>
<span id="cb8-702"><a href="#cb8-702" aria-hidden="true" tabindex="-1"></a>      dfx <span class="op">=</span> (<span class="fu">f</span>(x <span class="op">+</span> dx) <span class="op">-</span> fx) <span class="op">||</span> dx<span class="op">;</span></span>
<span id="cb8-703"><a href="#cb8-703" aria-hidden="true" tabindex="-1"></a>      deltax <span class="op">=</span> dx <span class="op">*</span> (fx <span class="op">-</span> y)<span class="op">/</span>dfx</span>
<span id="cb8-704"><a href="#cb8-704" aria-hidden="true" tabindex="-1"></a>      x <span class="op">-=</span> deltax<span class="op">;</span></span>
<span id="cb8-705"><a href="#cb8-705" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">while</span> (<span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(deltax) <span class="op">&gt;</span> dx <span class="op">&amp;&amp;</span> <span class="op">--</span>steps <span class="op">&gt;</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb8-706"><a href="#cb8-706" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> steps <span class="op">===</span> <span class="dv">0</span> <span class="op">?</span> <span class="kw">NaN</span> <span class="op">:</span> x<span class="op">;</span></span>
<span id="cb8-707"><a href="#cb8-707" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-708"><a href="#cb8-708" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">square</span>(x) {</span>
<span id="cb8-709"><a href="#cb8-709" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x <span class="op">*</span> x<span class="op">;</span></span>
<span id="cb8-710"><a href="#cb8-710" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-711"><a href="#cb8-711" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-712"><a href="#cb8-712" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">identity</span>(x) {</span>
<span id="cb8-713"><a href="#cb8-713" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> x<span class="op">;</span></span>
<span id="cb8-714"><a href="#cb8-714" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-715"><a href="#cb8-715" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2month</span>(doty <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb8-716"><a href="#cb8-716" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> m <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((<span class="dv">5</span> <span class="op">*</span> doty <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">153</span>)<span class="op">;</span></span>
<span id="cb8-717"><a href="#cb8-717" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(m <span class="op">&lt;</span> <span class="dv">10</span> <span class="op">?</span> m <span class="op">+</span> <span class="dv">3</span> <span class="op">:</span> m <span class="op">-</span> <span class="dv">9</span>)<span class="op">;</span></span>
<span id="cb8-718"><a href="#cb8-718" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-719"><a href="#cb8-719" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">month2doty</span>(month <span class="op">=</span> <span class="dv">1</span>) {</span>
<span id="cb8-720"><a href="#cb8-720" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(</span>
<span id="cb8-721"><a href="#cb8-721" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">153</span> <span class="op">*</span> (month <span class="op">&gt;</span> <span class="dv">2</span> <span class="op">?</span> month <span class="op">-</span> <span class="dv">3</span> <span class="op">:</span> month <span class="op">+</span> <span class="dv">9</span>) <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">5</span></span>
<span id="cb8-722"><a href="#cb8-722" aria-hidden="true" tabindex="-1"></a>)}</span>
<span id="cb8-723"><a href="#cb8-723" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2dotm</span>(doty <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb8-724"><a href="#cb8-724" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> m <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((<span class="dv">5</span> <span class="op">*</span> doty <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">153</span>)<span class="op">;</span></span>
<span id="cb8-725"><a href="#cb8-725" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> doty <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((<span class="dv">153</span> <span class="op">*</span> m <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">5</span>) <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb8-726"><a href="#cb8-726" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-727"><a href="#cb8-727" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>({<span class="dt">length</span><span class="op">:</span> <span class="dv">366</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> i)</span>
<span id="cb8-728"><a href="#cb8-728" aria-hidden="true" tabindex="-1"></a><span class="kw">set</span>(viewof dotyInput<span class="op">,</span> leapscrub[<span class="dv">0</span>])</span>
<span id="cb8-729"><a href="#cb8-729" aria-hidden="true" tabindex="-1"></a><span class="co">// https://observablehq.com/@observablehq/synchronized-inputs</span></span>
<span id="cb8-730"><a href="#cb8-730" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">set</span>(input<span class="op">,</span> value) {</span>
<span id="cb8-731"><a href="#cb8-731" aria-hidden="true" tabindex="-1"></a>  input<span class="op">.</span><span class="at">value</span> <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb8-732"><a href="#cb8-732" aria-hidden="true" tabindex="-1"></a>  input<span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="kw">new</span> <span class="bu">Event</span>(<span class="st">"input"</span><span class="op">,</span> {<span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span>}))<span class="op">;</span></span>
<span id="cb8-733"><a href="#cb8-733" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-734"><a href="#cb8-734" aria-hidden="true" tabindex="-1"></a><span class="co">// https://observablehq.com/@mbostock/scrubber</span></span>
<span id="cb8-735"><a href="#cb8-735" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">Scrubber</span>(values<span class="op">,</span> {</span>
<span id="cb8-736"><a href="#cb8-736" aria-hidden="true" tabindex="-1"></a>  format <span class="op">=</span> value <span class="kw">=&gt;</span> value<span class="op">,</span></span>
<span id="cb8-737"><a href="#cb8-737" aria-hidden="true" tabindex="-1"></a>  initial <span class="op">=</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-738"><a href="#cb8-738" aria-hidden="true" tabindex="-1"></a>  direction <span class="op">=</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb8-739"><a href="#cb8-739" aria-hidden="true" tabindex="-1"></a>  delay <span class="op">=</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb8-740"><a href="#cb8-740" aria-hidden="true" tabindex="-1"></a>  autoplay <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-741"><a href="#cb8-741" aria-hidden="true" tabindex="-1"></a>  loop <span class="op">=</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-742"><a href="#cb8-742" aria-hidden="true" tabindex="-1"></a>  loopDelay <span class="op">=</span> <span class="kw">null</span><span class="op">,</span></span>
<span id="cb8-743"><a href="#cb8-743" aria-hidden="true" tabindex="-1"></a>  alternate <span class="op">=</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb8-744"><a href="#cb8-744" aria-hidden="true" tabindex="-1"></a>  inputStyle <span class="op">=</span> <span class="st">""</span></span>
<span id="cb8-745"><a href="#cb8-745" aria-hidden="true" tabindex="-1"></a>} <span class="op">=</span> {}) {</span>
<span id="cb8-746"><a href="#cb8-746" aria-hidden="true" tabindex="-1"></a>  values <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(values)<span class="op">;</span></span>
<span id="cb8-747"><a href="#cb8-747" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> form <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;form style="font: 18px var(--monospace); font-variant-numeric: tabular-nums; display: flex; height: 33px; align-items: center;"&gt;</span></span>
<span id="cb8-748"><a href="#cb8-748" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;button name=b type=button style="margin-right: 0.4em; width: 5em;"&gt;&lt;/button&gt;</span></span>
<span id="cb8-749"><a href="#cb8-749" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;label style="display: flex; align-items: center;"&gt;</span></span>
<span id="cb8-750"><a href="#cb8-750" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;input name=i type=range min=0 max=</span><span class="sc">${</span>values<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span><span class="sc">}</span><span class="vs"> value=</span><span class="sc">${</span>initial<span class="sc">}</span><span class="vs"> step=1 style=</span><span class="sc">${</span>inputStyle<span class="sc">}</span><span class="vs">&gt;</span></span>
<span id="cb8-751"><a href="#cb8-751" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;output name=o style="margin-left: 0.4em;"&gt;&lt;/output&gt;</span></span>
<span id="cb8-752"><a href="#cb8-752" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/label&gt;</span></span>
<span id="cb8-753"><a href="#cb8-753" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/form&gt;`</span><span class="op">;</span></span>
<span id="cb8-754"><a href="#cb8-754" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> frame <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb8-755"><a href="#cb8-755" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> timer <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb8-756"><a href="#cb8-756" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> interval <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb8-757"><a href="#cb8-757" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">start</span>() {</span>
<span id="cb8-758"><a href="#cb8-758" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">b</span><span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> <span class="st">"Stop"</span><span class="op">;</span></span>
<span id="cb8-759"><a href="#cb8-759" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (delay <span class="op">===</span> <span class="kw">null</span>) frame <span class="op">=</span> <span class="fu">requestAnimationFrame</span>(tick)<span class="op">;</span></span>
<span id="cb8-760"><a href="#cb8-760" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> interval <span class="op">=</span> <span class="pp">setInterval</span>(tick<span class="op">,</span> delay)<span class="op">;</span></span>
<span id="cb8-761"><a href="#cb8-761" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-762"><a href="#cb8-762" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">stop</span>() {</span>
<span id="cb8-763"><a href="#cb8-763" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">b</span><span class="op">.</span><span class="at">textContent</span> <span class="op">=</span> <span class="st">"Play"</span><span class="op">;</span></span>
<span id="cb8-764"><a href="#cb8-764" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (frame <span class="op">!==</span> <span class="kw">null</span>) <span class="fu">cancelAnimationFrame</span>(frame)<span class="op">,</span> frame <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb8-765"><a href="#cb8-765" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (timer <span class="op">!==</span> <span class="kw">null</span>) <span class="pp">clearTimeout</span>(timer)<span class="op">,</span> timer <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb8-766"><a href="#cb8-766" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (interval <span class="op">!==</span> <span class="kw">null</span>) <span class="pp">clearInterval</span>(interval)<span class="op">,</span> interval <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb8-767"><a href="#cb8-767" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-768"><a href="#cb8-768" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">running</span>() {</span>
<span id="cb8-769"><a href="#cb8-769" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> frame <span class="op">!==</span> <span class="kw">null</span> <span class="op">||</span> timer <span class="op">!==</span> <span class="kw">null</span> <span class="op">||</span> interval <span class="op">!==</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb8-770"><a href="#cb8-770" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-771"><a href="#cb8-771" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">tick</span>() {</span>
<span id="cb8-772"><a href="#cb8-772" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">===</span> (direction <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">?</span> values<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span> <span class="op">:</span> direction <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="dv">0</span> <span class="op">:</span> <span class="kw">NaN</span>)) {</span>
<span id="cb8-773"><a href="#cb8-773" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="op">!</span>loop) <span class="cf">return</span> <span class="fu">stop</span>()<span class="op">;</span></span>
<span id="cb8-774"><a href="#cb8-774" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (alternate) direction <span class="op">=</span> <span class="op">-</span>direction<span class="op">;</span></span>
<span id="cb8-775"><a href="#cb8-775" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (loopDelay <span class="op">!==</span> <span class="kw">null</span>) {</span>
<span id="cb8-776"><a href="#cb8-776" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (frame <span class="op">!==</span> <span class="kw">null</span>) <span class="fu">cancelAnimationFrame</span>(frame)<span class="op">,</span> frame <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb8-777"><a href="#cb8-777" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (interval <span class="op">!==</span> <span class="kw">null</span>) <span class="pp">clearInterval</span>(interval)<span class="op">,</span> interval <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb8-778"><a href="#cb8-778" aria-hidden="true" tabindex="-1"></a>        timer <span class="op">=</span> <span class="pp">setTimeout</span>(() <span class="kw">=&gt;</span> (<span class="fu">step</span>()<span class="op">,</span> <span class="fu">start</span>())<span class="op">,</span> loopDelay)<span class="op">;</span></span>
<span id="cb8-779"><a href="#cb8-779" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span><span class="op">;</span></span>
<span id="cb8-780"><a href="#cb8-780" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb8-781"><a href="#cb8-781" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-782"><a href="#cb8-782" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (delay <span class="op">===</span> <span class="kw">null</span>) frame <span class="op">=</span> <span class="fu">requestAnimationFrame</span>(tick)<span class="op">;</span></span>
<span id="cb8-783"><a href="#cb8-783" aria-hidden="true" tabindex="-1"></a>    <span class="fu">step</span>()<span class="op">;</span></span>
<span id="cb8-784"><a href="#cb8-784" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-785"><a href="#cb8-785" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">step</span>() {</span>
<span id="cb8-786"><a href="#cb8-786" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">=</span> (form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">+</span> direction <span class="op">+</span> values<span class="op">.</span><span class="at">length</span>) <span class="op">%</span> values<span class="op">.</span><span class="at">length</span><span class="op">;</span></span>
<span id="cb8-787"><a href="#cb8-787" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="kw">new</span> <span class="bu">CustomEvent</span>(<span class="st">"input"</span><span class="op">,</span> {<span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span>}))<span class="op">;</span></span>
<span id="cb8-788"><a href="#cb8-788" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-789"><a href="#cb8-789" aria-hidden="true" tabindex="-1"></a>  form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">oninput</span> <span class="op">=</span> <span class="bu">event</span> <span class="kw">=&gt;</span> {</span>
<span id="cb8-790"><a href="#cb8-790" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="bu">event</span> <span class="op">&amp;&amp;</span> <span class="bu">event</span><span class="op">.</span><span class="at">isTrusted</span> <span class="op">&amp;&amp;</span> <span class="fu">running</span>()) <span class="fu">stop</span>()<span class="op">;</span></span>
<span id="cb8-791"><a href="#cb8-791" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">value</span> <span class="op">=</span> values[form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span>]<span class="op">;</span></span>
<span id="cb8-792"><a href="#cb8-792" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">o</span><span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="fu">format</span>(form<span class="op">.</span><span class="at">value</span><span class="op">,</span> form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span><span class="op">,</span> values)<span class="op">;</span></span>
<span id="cb8-793"><a href="#cb8-793" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb8-794"><a href="#cb8-794" aria-hidden="true" tabindex="-1"></a>  form<span class="op">.</span><span class="at">b</span><span class="op">.</span><span class="at">onclick</span> <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb8-795"><a href="#cb8-795" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">running</span>()) <span class="cf">return</span> <span class="fu">stop</span>()<span class="op">;</span></span>
<span id="cb8-796"><a href="#cb8-796" aria-hidden="true" tabindex="-1"></a>    direction <span class="op">=</span> alternate <span class="op">&amp;&amp;</span> form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">===</span> values<span class="op">.</span><span class="at">length</span> <span class="op">-</span> <span class="dv">1</span> <span class="op">?</span> <span class="op">-</span><span class="dv">1</span> <span class="op">:</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb8-797"><a href="#cb8-797" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">=</span> (form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="at">valueAsNumber</span> <span class="op">+</span> direction) <span class="op">%</span> values<span class="op">.</span><span class="at">length</span><span class="op">;</span></span>
<span id="cb8-798"><a href="#cb8-798" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="kw">new</span> <span class="bu">CustomEvent</span>(<span class="st">"input"</span><span class="op">,</span> {<span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span>}))<span class="op">;</span></span>
<span id="cb8-799"><a href="#cb8-799" aria-hidden="true" tabindex="-1"></a>    <span class="fu">start</span>()<span class="op">;</span></span>
<span id="cb8-800"><a href="#cb8-800" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb8-801"><a href="#cb8-801" aria-hidden="true" tabindex="-1"></a>  form<span class="op">.</span><span class="at">i</span><span class="op">.</span><span class="fu">oninput</span>()<span class="op">;</span></span>
<span id="cb8-802"><a href="#cb8-802" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (autoplay) <span class="fu">start</span>()<span class="op">;</span></span>
<span id="cb8-803"><a href="#cb8-803" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> <span class="fu">stop</span>()<span class="op">;</span></span>
<span id="cb8-804"><a href="#cb8-804" aria-hidden="true" tabindex="-1"></a>  Inputs<span class="op">.</span><span class="fu">disposal</span>(form)<span class="op">.</span><span class="fu">then</span>(stop)<span class="op">;</span></span>
<span id="cb8-805"><a href="#cb8-805" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> form<span class="op">;</span></span>
<span id="cb8-806"><a href="#cb8-806" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-807"><a href="#cb8-807" aria-hidden="true" tabindex="-1"></a>calYear <span class="op">=</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Monday"</span> <span class="op">?</span> <span class="dv">6</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Tuesday"</span> <span class="op">?</span> <span class="dv">7</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Wednesday"</span> <span class="op">?</span> <span class="dv">2</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Thursday"</span> <span class="op">?</span> <span class="dv">3</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Friday"</span> <span class="op">?</span> <span class="dv">9</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Saturday"</span> <span class="op">?</span> <span class="dv">10</span> <span class="op">:</span> <span class="op">!</span>leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Sunday"</span> <span class="op">?</span> <span class="dv">11</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Monday"</span> <span class="op">?</span> <span class="dv">12</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Tuesday"</span> <span class="op">?</span> <span class="dv">24</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Wednesday"</span> <span class="op">?</span> <span class="dv">8</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Thursday"</span> <span class="op">?</span> <span class="dv">20</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Friday"</span> <span class="op">?</span> <span class="dv">4</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Saturday"</span> <span class="op">?</span> <span class="dv">16</span> <span class="op">:</span> leapInput <span class="op">&amp;&amp;</span> dotwInput <span class="op">==</span> <span class="st">"Sunday"</span> <span class="op">?</span> <span class="dv">28</span> <span class="op">:</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb8-808"><a href="#cb8-808" aria-hidden="true" tabindex="-1"></a>datesCal <span class="op">=</span> d3<span class="op">.</span><span class="fu">utcDays</span>(<span class="kw">new</span> <span class="bu">Date</span>(calYear<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">,</span> <span class="kw">new</span> <span class="bu">Date</span>(calYear<span class="op">,</span> <span class="dv">12</span><span class="op">,</span> <span class="dv">0</span>))<span class="op">;</span></span>
<span id="cb8-809"><a href="#cb8-809" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">unix2doty</span>(unix) {</span>
<span id="cb8-810"><a href="#cb8-810" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> dote <span class="op">=</span> (</span>
<span id="cb8-811"><a href="#cb8-811" aria-hidden="true" tabindex="-1"></a>    unix <span class="op">??</span> <span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()</span>
<span id="cb8-812"><a href="#cb8-812" aria-hidden="true" tabindex="-1"></a>  ) <span class="op">/</span> <span class="dv">86400000</span> <span class="op">+</span> <span class="dv">719468</span><span class="op">,</span></span>
<span id="cb8-813"><a href="#cb8-813" aria-hidden="true" tabindex="-1"></a>    cote <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((</span>
<span id="cb8-814"><a href="#cb8-814" aria-hidden="true" tabindex="-1"></a>      dote <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">?</span> dote</span>
<span id="cb8-815"><a href="#cb8-815" aria-hidden="true" tabindex="-1"></a>      <span class="op">:</span> dote <span class="op">-</span> <span class="dv">146096</span></span>
<span id="cb8-816"><a href="#cb8-816" aria-hidden="true" tabindex="-1"></a>    ) <span class="op">/</span> <span class="dv">146097</span>)<span class="op">,</span></span>
<span id="cb8-817"><a href="#cb8-817" aria-hidden="true" tabindex="-1"></a>  dotc <span class="op">=</span> dote <span class="op">-</span> cote <span class="op">*</span> <span class="dv">146097</span><span class="op">,</span></span>
<span id="cb8-818"><a href="#cb8-818" aria-hidden="true" tabindex="-1"></a>  yotc <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((dotc</span>
<span id="cb8-819"><a href="#cb8-819" aria-hidden="true" tabindex="-1"></a>    <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">1460</span>)</span>
<span id="cb8-820"><a href="#cb8-820" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">36524</span>)</span>
<span id="cb8-821"><a href="#cb8-821" aria-hidden="true" tabindex="-1"></a>    <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">146096</span>)</span>
<span id="cb8-822"><a href="#cb8-822" aria-hidden="true" tabindex="-1"></a>  ) <span class="op">/</span> <span class="dv">365</span>)<span class="op">;</span></span>
<span id="cb8-823"><a href="#cb8-823" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> dotc <span class="op">-</span> (yotc <span class="op">*</span> <span class="dv">365</span></span>
<span id="cb8-824"><a href="#cb8-824" aria-hidden="true" tabindex="-1"></a>      <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yotc <span class="op">/</span> <span class="dv">4</span>)</span>
<span id="cb8-825"><a href="#cb8-825" aria-hidden="true" tabindex="-1"></a>      <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yotc <span class="op">/</span> <span class="dv">100</span>)</span>
<span id="cb8-826"><a href="#cb8-826" aria-hidden="true" tabindex="-1"></a>  )}</span>
<span id="cb8-827"><a href="#cb8-827" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">date2dote</span>(year <span class="op">=</span> <span class="dv">1969</span><span class="op">,</span> doty <span class="op">=</span> <span class="dv">306</span><span class="op">,</span> zone <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb8-828"><a href="#cb8-828" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> cote <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((year <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">?</span> year <span class="op">:</span> year <span class="op">-</span> <span class="dv">399</span>) <span class="op">/</span> <span class="dv">400</span>)<span class="op">,</span></span>
<span id="cb8-829"><a href="#cb8-829" aria-hidden="true" tabindex="-1"></a>      yote <span class="op">=</span> year <span class="op">-</span> cote <span class="op">*</span> <span class="dv">400</span><span class="op">;</span></span>
<span id="cb8-830"><a href="#cb8-830" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [cote <span class="op">*</span> <span class="dv">146097</span> <span class="op">+</span> yote <span class="op">*</span> <span class="dv">365</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yote <span class="op">/</span> <span class="dv">4</span>) <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yote <span class="op">/</span> <span class="dv">100</span>) <span class="op">+</span> doty<span class="op">,</span> zone]</span>
<span id="cb8-831"><a href="#cb8-831" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-832"><a href="#cb8-832" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2deco</span>(yearDoty <span class="op">=</span> [<span class="dv">1969</span><span class="op">,</span> <span class="dv">306</span>]<span class="op">,</span> zone <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb8-833"><a href="#cb8-833" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> yd <span class="op">=</span> <span class="fu">dote2date</span>(<span class="op">...</span><span class="fu">date2dote</span>(yearDoty[<span class="dv">0</span>]<span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yearDoty[<span class="dv">1</span>])<span class="op">,</span> zone))<span class="op">;</span></span>
<span id="cb8-834"><a href="#cb8-834" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="vs">`</span><span class="sc">${</span>yd[<span class="dv">0</span>]<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">4</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">+</span><span class="sc">${</span>yd[<span class="dv">1</span>]<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}${</span></span>
<span id="cb8-835"><a href="#cb8-835" aria-hidden="true" tabindex="-1"></a>        yearDoty[<span class="dv">1</span>]<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">includes</span>(<span class="st">"."</span>) <span class="op">?</span> <span class="st">"."</span> <span class="op">+</span> (</span>
<span id="cb8-836"><a href="#cb8-836" aria-hidden="true" tabindex="-1"></a>            (yearDoty[<span class="dv">1</span>] <span class="op">&gt;</span> <span class="dv">0</span>) <span class="op">?</span> (yearDoty[<span class="dv">1</span>] <span class="op">-</span> zone)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">split</span>(<span class="st">"."</span>)<span class="op">.</span><span class="fu">pop</span>()</span>
<span id="cb8-837"><a href="#cb8-837" aria-hidden="true" tabindex="-1"></a>            <span class="op">:</span> [<span class="op">...</span>(yearDoty[<span class="dv">1</span>] <span class="op">-</span> zone)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">split</span>(<span class="st">"."</span>)<span class="op">.</span><span class="fu">pop</span>()]<span class="op">.</span><span class="fu">map</span>(</span>
<span id="cb8-838"><a href="#cb8-838" aria-hidden="true" tabindex="-1"></a>                (e<span class="op">,</span> i<span class="op">,</span> a) <span class="kw">=&gt;</span> (i <span class="op">+</span> <span class="dv">1</span> <span class="op">===</span> a<span class="op">.</span><span class="at">length</span>) <span class="op">?</span> <span class="dv">10</span> <span class="op">-</span> e <span class="op">:</span> <span class="dv">9</span> <span class="op">-</span> e</span>
<span id="cb8-839"><a href="#cb8-839" aria-hidden="true" tabindex="-1"></a>            )<span class="op">.</span><span class="fu">join</span>(<span class="st">""</span>)</span>
<span id="cb8-840"><a href="#cb8-840" aria-hidden="true" tabindex="-1"></a>        ) <span class="op">:</span> <span class="st">""</span></span>
<span id="cb8-841"><a href="#cb8-841" aria-hidden="true" tabindex="-1"></a>    <span class="sc">}</span><span class="vs">`</span></span>
<span id="cb8-842"><a href="#cb8-842" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-843"><a href="#cb8-843" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">deco2doty</span>(timestamp <span class="op">=</span> <span class="st">"1969+306.00000Z"</span>) {</span>
<span id="cb8-844"><a href="#cb8-844" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> arr <span class="op">=</span> timestamp<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">split</span>(<span class="ss">/</span><span class="sc">(?</span><span class="ss">=</span><span class="sc">[+-]|[a-zA-Z])</span><span class="ss">/</span><span class="op">,</span> <span class="dv">3</span>)<span class="op">;</span></span>
<span id="cb8-845"><a href="#cb8-845" aria-hidden="true" tabindex="-1"></a>    <span class="cf">switch</span> (arr<span class="op">.</span><span class="at">length</span>) {</span>
<span id="cb8-846"><a href="#cb8-846" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="dv">1</span><span class="op">:</span> <span class="cf">return</span> [<span class="fu">unix2doty</span>(<span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>())[<span class="dv">0</span>]<span class="op">,</span> <span class="pp">parseFloat</span>(arr[<span class="dv">0</span>])<span class="op">,</span> <span class="dv">0</span>]<span class="op">;</span></span>
<span id="cb8-847"><a href="#cb8-847" aria-hidden="true" tabindex="-1"></a>        <span class="cf">case</span> <span class="dv">2</span><span class="op">:</span> <span class="cf">return</span> (<span class="ss">/</span><span class="sc">^[a-zA-Z]+$</span><span class="ss">/</span><span class="op">.</span><span class="fu">test</span>(arr[<span class="dv">1</span>]))</span>
<span id="cb8-848"><a href="#cb8-848" aria-hidden="true" tabindex="-1"></a>            <span class="op">?</span> [<span class="fu">unix2doty</span>(<span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>())[<span class="dv">0</span>]<span class="op">,</span> <span class="pp">parseFloat</span>(arr[<span class="dv">0</span>])<span class="op">,</span> <span class="fu">zone2hour</span>(arr[<span class="dv">1</span>]) <span class="op">/</span> <span class="dv">24</span>]</span>
<span id="cb8-849"><a href="#cb8-849" aria-hidden="true" tabindex="-1"></a>            <span class="op">:</span> [<span class="pp">parseFloat</span>(arr[<span class="dv">0</span>])<span class="op">,</span> <span class="pp">parseFloat</span>(arr[<span class="dv">1</span>])<span class="op">,</span> <span class="dv">0</span>]<span class="op">;</span></span>
<span id="cb8-850"><a href="#cb8-850" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb8-851"><a href="#cb8-851" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [<span class="pp">parseFloat</span>(arr[<span class="dv">0</span>])<span class="op">,</span> <span class="pp">parseFloat</span>(arr[<span class="dv">1</span>])<span class="op">,</span> <span class="ss">/</span><span class="sc">^[a-zA-Z]+$</span><span class="ss">/</span><span class="op">.</span><span class="fu">test</span>(arr[<span class="dv">2</span>])</span>
<span id="cb8-852"><a href="#cb8-852" aria-hidden="true" tabindex="-1"></a>        <span class="op">?</span> <span class="fu">zone2hour</span>(arr[<span class="dv">2</span>]) <span class="op">/</span> <span class="dv">24</span></span>
<span id="cb8-853"><a href="#cb8-853" aria-hidden="true" tabindex="-1"></a>        <span class="op">:</span> <span class="pp">parseFloat</span>(arr[<span class="dv">2</span>]<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">([+-])</span><span class="ss">/</span><span class="op">,</span> <span class="st">"$1</span><span class="sc">\.</span><span class="st">"</span>))]<span class="op">;</span></span>
<span id="cb8-854"><a href="#cb8-854" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-855"><a href="#cb8-855" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">zone2hour</span>(zone <span class="op">=</span> <span class="st">"Z"</span>) {</span>
<span id="cb8-856"><a href="#cb8-856" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (zone <span class="op">=</span> zone<span class="op">.</span><span class="fu">toUpperCase</span>()) <span class="op">==</span> <span class="st">"Z"</span> <span class="op">?</span> <span class="dv">0</span></span>
<span id="cb8-857"><a href="#cb8-857" aria-hidden="true" tabindex="-1"></a>        <span class="op">:</span> zone <span class="op">&gt;</span> <span class="st">"@"</span> <span class="op">&amp;&amp;</span> zone <span class="op">&lt;</span> <span class="st">"J"</span> <span class="op">?</span> zone<span class="op">.</span><span class="fu">charCodeAt</span>() <span class="op">-</span> <span class="dv">64</span></span>
<span id="cb8-858"><a href="#cb8-858" aria-hidden="true" tabindex="-1"></a>        <span class="op">:</span> zone <span class="op">&gt;</span> <span class="st">"J"</span> <span class="op">&amp;&amp;</span> zone <span class="op">&lt;</span> <span class="st">"N"</span> <span class="op">?</span> zone<span class="op">.</span><span class="fu">charCodeAt</span>() <span class="op">-</span> <span class="dv">65</span></span>
<span id="cb8-859"><a href="#cb8-859" aria-hidden="true" tabindex="-1"></a>        <span class="op">:</span> zone <span class="op">&lt;</span> <span class="st">"Z"</span> <span class="op">&amp;&amp;</span> zone <span class="op">&gt;</span> <span class="st">"M"</span> <span class="op">?</span> <span class="op">-</span>(zone<span class="op">.</span><span class="fu">charCodeAt</span>() <span class="op">-</span> <span class="dv">77</span>)</span>
<span id="cb8-860"><a href="#cb8-860" aria-hidden="true" tabindex="-1"></a>        <span class="op">:</span> zone<span class="op">;</span></span>
<span id="cb8-861"><a href="#cb8-861" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-862"><a href="#cb8-862" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2unix</span>(year <span class="op">=</span> <span class="dv">1969</span><span class="op">,</span> doty <span class="op">=</span> <span class="dv">306</span><span class="op">,</span> zone <span class="op">=</span> <span class="dv">0</span>) {</span>
<span id="cb8-863"><a href="#cb8-863" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (<span class="fu">date2dote</span>(year<span class="op">,</span> doty<span class="op">,</span> zone) <span class="op">-</span> <span class="dv">719468</span>) <span class="op">*</span> <span class="dv">86400000</span><span class="op">;</span></span>
<span id="cb8-864"><a href="#cb8-864" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-865"><a href="#cb8-865" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2isoc</span>(yd) {</span>
<span id="cb8-866"><a href="#cb8-866" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">new</span> <span class="bu">Date</span>(<span class="fu">doty2unix</span>(<span class="op">...</span>yd))</span>
<span id="cb8-867"><a href="#cb8-867" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-868"><a href="#cb8-868" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty2greg</span>(doty <span class="op">=</span> <span class="dv">306</span>) {</span>
<span id="cb8-869"><a href="#cb8-869" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> m <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((<span class="dv">5</span> <span class="op">*</span> doty <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">153</span>)<span class="op">;</span></span>
<span id="cb8-870"><a href="#cb8-870" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [</span>
<span id="cb8-871"><a href="#cb8-871" aria-hidden="true" tabindex="-1"></a>      <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(m <span class="op">&lt;</span> <span class="dv">10</span> <span class="op">?</span> m <span class="op">+</span> <span class="dv">3</span> <span class="op">:</span> m <span class="op">-</span> <span class="dv">9</span>)<span class="op">,</span></span>
<span id="cb8-872"><a href="#cb8-872" aria-hidden="true" tabindex="-1"></a>      <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(doty <span class="op">-</span> (<span class="dv">153</span> <span class="op">*</span> m <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">5</span> <span class="op">+</span> <span class="dv">2</span>)</span>
<span id="cb8-873"><a href="#cb8-873" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">;</span></span>
<span id="cb8-874"><a href="#cb8-874" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-875"><a href="#cb8-875" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">greg2doty</span>(month <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> day <span class="op">=</span> <span class="dv">1</span>) {</span>
<span id="cb8-876"><a href="#cb8-876" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(</span>
<span id="cb8-877"><a href="#cb8-877" aria-hidden="true" tabindex="-1"></a>        (<span class="dv">153</span> <span class="op">*</span> (month <span class="op">&gt;</span> <span class="dv">2</span> <span class="op">?</span> month <span class="op">-</span> <span class="dv">3</span> <span class="op">:</span> month <span class="op">+</span> <span class="dv">9</span>) <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">5</span> <span class="op">+</span> day <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb8-878"><a href="#cb8-878" aria-hidden="true" tabindex="-1"></a>)}</span>
<span id="cb8-879"><a href="#cb8-879" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">greg2year</span>(year <span class="op">=</span> <span class="dv">1970</span><span class="op">,</span> month <span class="op">=</span> <span class="dv">1</span>) { <span class="cf">return</span> year <span class="op">-</span> (month <span class="op">&lt;</span> <span class="dv">3</span>) }</span>
<span id="cb8-880"><a href="#cb8-880" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">isoc2doty</span>(isoc) {</span>
<span id="cb8-881"><a href="#cb8-881" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> [<span class="fu">greg2year</span>(isoc<span class="op">.</span><span class="fu">getFullYear</span>()<span class="op">,</span> isoc<span class="op">.</span><span class="fu">getUTCMonth</span>() <span class="op">+</span> <span class="dv">1</span>)<span class="op">,</span> <span class="fu">greg2doty</span>(isoc<span class="op">.</span><span class="fu">getUTCMonth</span>() <span class="op">+</span> <span class="dv">1</span><span class="op">,</span> isoc<span class="op">.</span><span class="fu">getUTCDate</span>())]<span class="op">;</span></span>
<span id="cb8-882"><a href="#cb8-882" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb8-883"><a href="#cb8-883" aria-hidden="true" tabindex="-1"></a>leapInput <span class="op">=</span> leapscrub[<span class="dv">1</span>]</span>
<span id="cb8-884"><a href="#cb8-884" aria-hidden="true" tabindex="-1"></a>turnInput <span class="op">=</span> leapscrub[<span class="dv">2</span>]</span>
<span id="cb8-885"><a href="#cb8-885" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">addN</span>(d) { <span class="cf">return</span> d <span class="op">+</span> <span class="dv">365</span> <span class="op">+</span> leapInput }</span>
<span id="cb8-886"><a href="#cb8-886" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">subN</span>(d) { <span class="cf">return</span> d <span class="op">-</span> <span class="dv">365</span> <span class="op">-</span> leapInput }</span>
<span id="cb8-887"><a href="#cb8-887" aria-hidden="true" tabindex="-1"></a>dates <span class="op">=</span> d3<span class="op">.</span><span class="fu">utcDays</span>(<span class="kw">new</span> <span class="bu">Date</span>(<span class="dv">1999</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">,</span> <span class="kw">new</span> <span class="bu">Date</span>(<span class="dv">2000</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">28</span> <span class="op">+</span> leapInput))<span class="op">;</span></span>
<span id="cb8-888"><a href="#cb8-888" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb8-889"><a href="#cb8-889" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-890"><a href="#cb8-890" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb8-891"><a href="#cb8-891" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;style&gt;</span></span>
<span id="cb8-892"><a href="#cb8-892" aria-hidden="true" tabindex="-1"></a><span class="in">h6.relative.anchored {</span></span>
<span id="cb8-893"><a href="#cb8-893" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-top: -25px;</span></span>
<span id="cb8-894"><a href="#cb8-894" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: -2px;</span></span>
<span id="cb8-895"><a href="#cb8-895" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-896"><a href="#cb8-896" aria-hidden="true" tabindex="-1"></a><span class="in">form.oi-3a86ea-checkbox {</span></span>
<span id="cb8-897"><a href="#cb8-897" aria-hidden="true" tabindex="-1"></a><span class="in">  max-width: 700px;</span></span>
<span id="cb8-898"><a href="#cb8-898" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-899"><a href="#cb8-899" aria-hidden="true" tabindex="-1"></a><span class="in">div.cell:has(form.oi-3a86ea-toggle) {</span></span>
<span id="cb8-900"><a href="#cb8-900" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb8-901"><a href="#cb8-901" aria-hidden="true" tabindex="-1"></a><span class="in">  flex-wrap: wrap;</span></span>
<span id="cb8-902"><a href="#cb8-902" aria-hidden="true" tabindex="-1"></a><span class="in">  align-items: center;</span></span>
<span id="cb8-903"><a href="#cb8-903" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-904"><a href="#cb8-904" aria-hidden="true" tabindex="-1"></a><span class="in">div.observablehq &gt; div:has(form.oi-3a86ea-toggle) {</span></span>
<span id="cb8-905"><a href="#cb8-905" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb8-906"><a href="#cb8-906" aria-hidden="true" tabindex="-1"></a><span class="in">  flex-wrap: wrap;</span></span>
<span id="cb8-907"><a href="#cb8-907" aria-hidden="true" tabindex="-1"></a><span class="in">  align-items: center;</span></span>
<span id="cb8-908"><a href="#cb8-908" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-909"><a href="#cb8-909" aria-hidden="true" tabindex="-1"></a><span class="in">div.cell:has(form.oi-3a86ea) {</span></span>
<span id="cb8-910"><a href="#cb8-910" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb8-911"><a href="#cb8-911" aria-hidden="true" tabindex="-1"></a><span class="in">  flex-wrap: wrap;</span></span>
<span id="cb8-912"><a href="#cb8-912" aria-hidden="true" tabindex="-1"></a><span class="in">  align-items: center;</span></span>
<span id="cb8-913"><a href="#cb8-913" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-914"><a href="#cb8-914" aria-hidden="true" tabindex="-1"></a><span class="in">form.oi-3a86ea-toggle {</span></span>
<span id="cb8-915"><a href="#cb8-915" aria-hidden="true" tabindex="-1"></a><span class="in">  max-width: 100% !important;</span></span>
<span id="cb8-916"><a href="#cb8-916" aria-hidden="true" tabindex="-1"></a><span class="in">  --input-width: 30px;</span></span>
<span id="cb8-917"><a href="#cb8-917" aria-hidden="true" tabindex="-1"></a><span class="in">  --label-width: 100px;</span></span>
<span id="cb8-918"><a href="#cb8-918" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb8-919"><a href="#cb8-919" aria-hidden="true" tabindex="-1"></a><span class="in">  flex-wrap: wrap;</span></span>
<span id="cb8-920"><a href="#cb8-920" aria-hidden="true" tabindex="-1"></a><span class="in">  align-items: center;</span></span>
<span id="cb8-921"><a href="#cb8-921" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-922"><a href="#cb8-922" aria-hidden="true" tabindex="-1"></a><span class="in">form.oi-3a86ea {</span></span>
<span id="cb8-923"><a href="#cb8-923" aria-hidden="true" tabindex="-1"></a><span class="in">  --input-width: 200px;</span></span>
<span id="cb8-924"><a href="#cb8-924" aria-hidden="true" tabindex="-1"></a><span class="in">  padding-right: 9px;</span></span>
<span id="cb8-925"><a href="#cb8-925" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-926"><a href="#cb8-926" aria-hidden="true" tabindex="-1"></a><span class="in">form.oi-3a86ea-toggle &gt; label {</span></span>
<span id="cb8-927"><a href="#cb8-927" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 75px;</span></span>
<span id="cb8-928"><a href="#cb8-928" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-929"><a href="#cb8-929" aria-hidden="true" tabindex="-1"></a><span class="in">form.oi-3a86ea-toggle &gt; label[for="oi-3a86ea-2"] {</span></span>
<span id="cb8-930"><a href="#cb8-930" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 110px;</span></span>
<span id="cb8-931"><a href="#cb8-931" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-932"><a href="#cb8-932" aria-hidden="true" tabindex="-1"></a><span class="in">form.oi-3a86ea-toggle &gt; input#oi-3a86ea-2 {</span></span>
<span id="cb8-933"><a href="#cb8-933" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 15px;</span></span>
<span id="cb8-934"><a href="#cb8-934" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-935"><a href="#cb8-935" aria-hidden="true" tabindex="-1"></a><span class="in">form.oi-3a86ea-toggle {</span></span>
<span id="cb8-936"><a href="#cb8-936" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 105px;</span></span>
<span id="cb8-937"><a href="#cb8-937" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-938"><a href="#cb8-938" aria-hidden="true" tabindex="-1"></a><span class="in">form.oi-3a86ea-toggle:has(input#oi-3a86ea-2) {</span></span>
<span id="cb8-939"><a href="#cb8-939" aria-hidden="true" tabindex="-1"></a><span class="in">  width: 150px;</span></span>
<span id="cb8-940"><a href="#cb8-940" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-941"><a href="#cb8-941" aria-hidden="true" tabindex="-1"></a><span class="in">input.oi-3a86ea-input[type="checkbox"] {</span></span>
<span id="cb8-942"><a href="#cb8-942" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 4px 0px 0px 0px;</span></span>
<span id="cb8-943"><a href="#cb8-943" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-944"><a href="#cb8-944" aria-hidden="true" tabindex="-1"></a><span class="in">div &gt; form.oi-3a86ea &gt; label {</span></span>
<span id="cb8-945"><a href="#cb8-945" aria-hidden="true" tabindex="-1"></a><span class="in">  --label-width: 105px;</span></span>
<span id="cb8-946"><a href="#cb8-946" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-947"><a href="#cb8-947" aria-hidden="true" tabindex="-1"></a><span class="in">form.oi-3a86ea &gt; div.oi-3a86ea-input &gt; input[type="number"] {</span></span>
<span id="cb8-948"><a href="#cb8-948" aria-hidden="true" tabindex="-1"></a><span class="in">  max-width: 60px;</span></span>
<span id="cb8-949"><a href="#cb8-949" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-950"><a href="#cb8-950" aria-hidden="true" tabindex="-1"></a><span class="in">div.column-page:has(svg.calplot) {</span></span>
<span id="cb8-951"><a href="#cb8-951" aria-hidden="true" tabindex="-1"></a><span class="in">  display: flex;</span></span>
<span id="cb8-952"><a href="#cb8-952" aria-hidden="true" tabindex="-1"></a><span class="in">  justify-content: center;</span></span>
<span id="cb8-953"><a href="#cb8-953" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-954"><a href="#cb8-954" aria-hidden="true" tabindex="-1"></a><span class="in">div.observablehq &gt; figure &gt; h2 {</span></span>
<span id="cb8-955"><a href="#cb8-955" aria-hidden="true" tabindex="-1"></a><span class="in">  text-align: center;</span></span>
<span id="cb8-956"><a href="#cb8-956" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 1.3rem;</span></span>
<span id="cb8-957"><a href="#cb8-957" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: -8px;</span></span>
<span id="cb8-958"><a href="#cb8-958" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-959"><a href="#cb8-959" aria-hidden="true" tabindex="-1"></a><span class="in">input[type="radio"] {</span></span>
<span id="cb8-960"><a href="#cb8-960" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 1px 0px 0px 0px;</span></span>
<span id="cb8-961"><a href="#cb8-961" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-962"><a href="#cb8-962" aria-hidden="true" tabindex="-1"></a><span class="in">p:has(.radiotitle) {</span></span>
<span id="cb8-963"><a href="#cb8-963" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-top: -3px;</span></span>
<span id="cb8-964"><a href="#cb8-964" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: -3px;</span></span>
<span id="cb8-965"><a href="#cb8-965" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-966"><a href="#cb8-966" aria-hidden="true" tabindex="-1"></a><span class="in">#radiobuttons {</span></span>
<span id="cb8-967"><a href="#cb8-967" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: -12px;</span></span>
<span id="cb8-968"><a href="#cb8-968" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-969"><a href="#cb8-969" aria-hidden="true" tabindex="-1"></a><span class="in">svg#finger {</span></span>
<span id="cb8-970"><a href="#cb8-970" aria-hidden="true" tabindex="-1"></a><span class="in">  max-width: 760px;</span></span>
<span id="cb8-971"><a href="#cb8-971" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-972"><a href="#cb8-972" aria-hidden="true" tabindex="-1"></a><span class="in">h4.anchored {</span></span>
<span id="cb8-973"><a href="#cb8-973" aria-hidden="true" tabindex="-1"></a><span class="in">  margin: 8px 0px 8px 0px;</span></span>
<span id="cb8-974"><a href="#cb8-974" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-975"><a href="#cb8-975" aria-hidden="true" tabindex="-1"></a><span class="in">#mermaid-1 {</span></span>
<span id="cb8-976"><a href="#cb8-976" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-top: 15px;</span></span>
<span id="cb8-977"><a href="#cb8-977" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: -20px;</span></span>
<span id="cb8-978"><a href="#cb8-978" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-979"><a href="#cb8-979" aria-hidden="true" tabindex="-1"></a><span class="in">div.cell-output-display:has(svg#mermaid-2.flowchart.mermaid-js) {</span></span>
<span id="cb8-980"><a href="#cb8-980" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-top: -35px;</span></span>
<span id="cb8-981"><a href="#cb8-981" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-982"><a href="#cb8-982" aria-hidden="true" tabindex="-1"></a><span class="in">div.cell-output-display:has(svg#mermaid-3.flowchart.mermaid-js) {</span></span>
<span id="cb8-983"><a href="#cb8-983" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-top: -35px;</span></span>
<span id="cb8-984"><a href="#cb8-984" aria-hidden="true" tabindex="-1"></a><span class="in">  margin-bottom: -35px;</span></span>
<span id="cb8-985"><a href="#cb8-985" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb8-986"><a href="#cb8-986" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;</span></span>
<span id="cb8-987"><a href="#cb8-987" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024, Martin Laptev</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/maptv/maptv.github.io/blob/main/dec/date/index.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/maptv" target="_blank">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/maptv" target="_blank">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link active" href="mailto:maptv@engineer.com" aria-current="page">
      <i class="bi bi-envelope-at" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>