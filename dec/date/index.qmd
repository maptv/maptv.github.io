---
title: Dec Date
author:
  - name: Martin Laptev
    url: https://maptv.github.io
image: /asset/cal16.svg
description: >
  Introducing the Dec calendar (Decalendar), which displays dates in years and days using math notation without the need for months or weeks.
citation:
  url: https://maptv.github.io/dec/date
aliases:
  - /date
  - /dd
license: CC BY-SA
lightbox: false
toc: true
toc-depth: 4
bread-crumbs: false
format:
  html:
    grid:
      body-width: 900px
    shift-heading-level-by: 3
    include-after-body:
      - ../../asset/cite.html
      - ../../asset/style.html
      - ../../asset/stamp.html
      - ../../asset/tooltip.html
  commonmark: default
filters:
  - ../../asset/date.lua
---

:::{#datenav}
{{< include /asset/_decnav.qmd >}}
:::

My website serves as a demonstration of both the [Quarto](https://quarto.org) publishingğŸ“¤system and the [Dec](/dec) measurementğŸ“system. I use several clever hacks to get Quarto to display all of the dates on my website in the Dec year+day format. Knowing the basics of the Dec calendarğŸ—“ï¸(Decalendar) will help you to understand the [filter](https://quarto.org/docs/extensions/filters.html), [include](https://quarto.org/docs/output-formats/html-basics.html#includes), and [script](https://quarto.org/docs/projects/scripts.html) articles in the [Quarto section](/quarto) of my site.

Among its many features, Quarto offers support for the [Observable](https://observablehq.com/) data visualization system. Observable is my top choice for interactive graphics. We can interact with the two Observable [calendarğŸ—“ï¸plots](https://observablehq.com/@observablehq/plot-calendar)
belowâ¬‡ï¸using the adjacent Observable [inputs](https://observablehq.com/documentation/inputs/overview). The [scrubber](https://observablehq.com/@mbostock/scrubber)ğŸ§½input is a great place to start because it cyclesğŸ”„through every value of the [range](https://observablehq.com/@observablehq/input-range)ğŸšï¸inputs beneath it.

To activate the scrubberğŸ§½input, press the Playâ–¶ï¸button aboveâ¬†ï¸the rangeğŸšï¸inputs. Upon activation, the redğŸŸ¥box in each plot will move between
the first and the last day of the Dec year. While it always begins with [Day 0]{.tool data-bs-toggle="tooltip" data-bs-title="March 1"}, the Dec year ends with either [Day 364]{.tool data-bs-toggle="tooltip" data-bs-title="February 28"} or [Day 365]{.tool data-bs-toggle="tooltip" data-bs-title="February 29"}. To add or remove [Day 365]{.tool data-bs-toggle="tooltip" data-bs-title="February 29"}, use the [toggle](https://observablehq.com/@observablehq/input-toggle)âœ…input labelledğŸ·ï¸"Leap year" to the right of the Playâ–¶ï¸button.

The "Leap year" toggleâœ…input shifts 306 dates, [Day 0]{.tool data-bs-toggle="tooltip" data-bs-title="March 1"} to [Day 305]{.tool data-bs-toggle="tooltip" data-bs-title="December 31"}, in the [Gregorian calendar](https://en.wikipedia.org/wiki/Gregorian_calendar#:~:text=the%20calendar%20used%20in%20most%20parts%20of%20the%20world)ğŸ—“ï¸by one day, but does not change the order of any Dec dates, because [Day 365]{.tool data-bs-toggle="tooltip" data-bs-title="February 29"} is the last day of Dec leap years and is always followed by [Day 0]{.tool data-bs-toggle="tooltip" data-bs-title="March 1"} of the subsequent Dec year. The "Vertical layout" toggleâœ…input rotates the plots by a quarter turn, interchanging the x- and y-axes.

The axis labelsğŸ·ï¸of the plots imply that a dek and a "day of dek" ([dod]{.tool data-bs-toggle="tooltip" data-bs-title="day of dek"}) are analogous to a week and a "day of week" ([dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"}). Indeed, deks are groups of ten days that serve as the Dec analog of both weeks and months. With the exception of [Day 365]{.tool data-bs-toggle="tooltip" data-bs-title="February 29"} in leap years, every year has the same deks and months, but not the same weeks, because the [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} of the first day of the year varies.

:::{#calplots}
{{< include /dec/date/_calplots.qmd >}}
:::

The [radio](https://observablehq.com/@observablehq/input-radio)ğŸ”˜input beneath the plots selects the [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} for [Day 306]{.tool data-bs-toggle="tooltip" data-bs-title="January 1"}, the first day of the Gregorian calendarğŸ—“ï¸year. Changing the [Day 306]{.tool data-bs-toggle="tooltip" data-bs-title="January 1"} [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} shifts every date in the Gregorian calendarğŸ—“ï¸by one to six days depending on the number of days that Week 0, the first week of the year, contributes to the year. In contrast, weeks have no effect on Decalendar.

Although weeks determine the shape of the Gregorian calendarğŸ—“ï¸plot, each of its [cell](https://observablehq.com/plot/marks/cell) values is a "day of month" ([dom]{.tool data-bs-toggle="tooltip" data-bs-title="day of month"}). To uniquely identifyğŸªªa specific day in a year, a [dom]{.tool data-bs-toggle="tooltip" data-bs-title="day of month"} must be paired with the month to which it belongs. Both plots use three-letter abbreviations and the same [colorğŸ¨scheme](https://observablehq.com/@d3/color-schemes) to labelğŸ·ï¸months, but are shifted in relation to each other by two months.

# Day of year (doy){id="doy"}

A dek and [dod]{.tool data-bs-toggle="tooltip" data-bs-title="day of dek"} can be combined into a single integer called a "day of year" ([doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"}). Every cell value in the Decalendar plot is a [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"}. The [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} chosen by the rangeğŸšï¸inputs to be highlighted with a redğŸŸ¥background in the plots is \${dotyInput}. You can use the rangeğŸšï¸inputs to convert a month and a [dom]{.tool data-bs-toggle="tooltip" data-bs-title="day of month"} into a [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"}. Try converting a special date such as your birthdayğŸ‚ or anniversaryğŸ’!

There are two rangeğŸšï¸inputs labeledğŸ·ï¸as "day of year" because every [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} can be expressed as both a positive and a negative number. The typical range for [doys]{.tool data-bs-toggle="tooltip" data-bs-title="days of year"} is 0 to [n]{.tool data-bs-toggle="tooltip" data-bs-title="number of days in the year"}[-]{.mono}1, but negative [doys]{.tool data-bs-toggle="tooltip" data-bs-title="days of year"} typically range from -[n]{.tool data-bs-toggle="tooltip" data-bs-title="number of days in the year"} to -1, where [n]{.tool data-bs-toggle="tooltip" data-bs-title="number of days in the year"} is the number of days in the year, either 365 or 366. A [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} outside these [bounds](https://en.wikipedia.org/wiki/Upper_and_lower_bounds#:~:text=an%20upper%20bound%20or%20majorant%5B1%5D%20of%20a%20subset%20S%20of%20some%20preordered%20set%20(K%2C%20%E2%89%A4)%20is%20an%20element%20of%20K%20that%20is%20greater%20than%20or%20equal%20to%20every%20element%20of%20S.%5B2%5D%5B3%5D%20Dually%2C%20a%20lower%20bound%20or%20minorant%20of%20S%20is%20defined%20to%20be%20an%20element%20of%20K%20that%20is%20less%20than%20or%20equal%20to%20every%20element%20of%20S) represents a day in a previous or subsequent year.

The current [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} can be expressed as \${decDoty} or \${TminusPaddedNeg}. The [difference](https://en.wikipedia.org/wiki/Subtraction#Notation_and_terminology:~:text=The%20result%20is%20the%20difference) between any positive [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} and its negative equivalent is n: \${decDoty} [-]{.mono} \${TminusPaddedNeg} = \${nDaysInYear}. We obtain the current dek via the dek equation, \${decDek} = &LeftFloor;\${decDoty} &div; 10&RightFloor;, and the current [dod]{.tool data-bs-toggle="tooltip" data-bs-title="day of dek"} number via the [dod]{.tool data-bs-toggle="tooltip" data-bs-title="day of dek"} equation: \${decDotd} = \${decDoty} [mod](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder) 10. To combine a dek and [dod]{.tool data-bs-toggle="tooltip" data-bs-title="day of dek"}, we multiply the dek by ten and add the [dod]{.tool data-bs-toggle="tooltip" data-bs-title="day of dek"}: \${decDoty} = \${decDek} &times; 10 + \${decDotd}.

$$\text{doy} = \text{dek} \times 10 + \text{doy}$$

$$\text{dek} = \lfloor \text{doy} \div 10 \rfloor$$

$$\text{dod} = \text{doy mod } 10$$

Unlike weeks in the Gregorian calendarğŸ—“ï¸, [doys]{.tool data-bs-toggle="tooltip" data-bs-title="days of year"} and deks do not need to continue in an infinite unbroken sequence. The last day of the year, Day -1, is always followed by [Day 0]{.tool data-bs-toggle="tooltip" data-bs-title="March 1"}, regardless of the last 4 or 5 days of Dek 36 that extend past the end of the year. If we want to track days seamlessly across years, we can use a continuous count of days called the "day of [era](https://en.wikipedia.org/wiki/Calendar_era#:~:text=the%20period%20of%20time%20elapsed%20since%20one%20epoch%20of%20a%20calendar)" ([doe]{.tool data-bs-toggle="tooltip" data-bs-title="day of era"}).

# Day of era (doe){id="doe"}

A [doe]{.tool data-bs-toggle="tooltip" data-bs-title="day of era"} is essentially a [Julian day number](https://en.wikipedia.org/wiki/Julian_day#:~:text=a%20continuous%20count%20of%20days%20from%20the%20beginning%20of%20the%20Julian%20period) ([JDN]{.tool data-bs-toggle="tooltip" data-bs-title="Julian day number"}) with a different [epoch](https://en.wikipedia.org/wiki/Epoch#:~:text=an%20instant%20in%20time%20chosen%20as%20the%20origin%20of%20a%20particular%20calendar%20era). We can convert a [JDN]{.tool data-bs-toggle="tooltip" data-bs-title="Julian day number"} to a [doe]{.tool data-bs-toggle="tooltip" data-bs-title="day of era"} by subtracting 1721119.5 days to shift the epoch from [-4713]{.tool data-bs-toggle="tooltip" data-bs-title="4714 BC"}+[268]{.tool data-bs-toggle="tooltip" data-bs-title="November 24"}.[5]{.tool data-bs-toggle="tooltip" data-bs-title="noon"} to [0000]{.tool data-bs-toggle="tooltip" data-bs-title="1 BC"}+[000]{.tool data-bs-toggle="tooltip" data-bs-title="March 1"}.[0]{.tool data-bs-toggle="tooltip" data-bs-title="midnight"}. To turn a [UNIX timestamp](https://en.wikipedia.org/wiki/Unix_time#:~:text=the%20number%20of%20non%2Dleap%20seconds%20that%20have%20elapsed%20since%2000%3A00%3A00%20UTC%20on%201%C2%A0January%201970) into a [doe]{.tool data-bs-toggle="tooltip" data-bs-title="day of era"}, we divide by [86400](https://en.wikipedia.org/wiki/Day#:~:text=average%2C%20this%20is-,24%20hours%20(86%2C400%20seconds),-.%20As%20a%20day) to convert seconds to days and then add 719468.0 to account for the fact that the [UNIX epoch](https://en.wikipedia.org/wiki/Unix_time#:~:text=00%3A00%3A00%20UTC%20on%201%C2%A0January%201970) is [1969]{.tool data-bs-toggle="tooltip" data-bs-title="1970"}+[306]{.tool data-bs-toggle="tooltip" data-bs-title="January 1"}.[0]{.tool data-bs-toggle="tooltip" data-bs-title="midnight"}.

Dec uses [does]{.tool data-bs-toggle="tooltip" data-bs-title="days of era"} for calculations, such as finding the [POSIX](https://en.wikipedia.org/wiki/POSIX#:~:text=a%20family%20of%20standards%20specified%20by%20the%20IEEE%20Computer%20Society%20for%20maintaining%20compatibility%20between%20operating%20systems) [zero-based [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"}](https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=weekday%20as%20a%20decimal%20number%20%5B0%2C6%5D%20(0%3Dsunday)) of a given date. This year, the [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} of [Christmas](https://en.wikipedia.org/wiki/Christmas#:~:text=annual%20festival%20commemorating%20the%20birth%20of%20Jesus%20Christ)ğŸ„is \${xmasDotw} according to the Dec [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} equation: (\${xmasDote} + 3) [mod](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder) 7 = \${xmasDotw}. As opposed to the "week of year" ([woy]{.tool data-bs-toggle="tooltip" data-bs-title="week of year"}) or [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} associated with a given date, we can find the dek and the [dod]{.tool data-bs-toggle="tooltip" data-bs-title="day of dek"} that correspond to a [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} without any calculation.

::: {.callout-warning}
# Bad Pun Alert
[___Dek___ the halls](https://en.wikipedia.org/wiki/Deck_the_Halls#:~:text=a%20traditional%20Christmas%20carol.) with [___dows___]{.tool data-bs-toggle="tooltip" data-bs-title="days of week"} of holly! Fa + la &times; 8!
:::

ChristmasğŸ„is a anchoredâš“ï¸holiday because it occurs on the same [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} every year. In contrast, floatingğŸ›Ÿholidays happen on a different [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} every year so that their [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} can remain constant. Dec uses the [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} [delta](https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator) equation, w~Î”~ = (w~M~ [-]{.mono} w~S~ + 7) [mod](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder) 7, to determine which of the seven possible floatingğŸ›Ÿholiday dates corresponds to the given year.

In the [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} [delta](https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator) equation, w~M~ is the [minuend](https://en.wiktionary.org/wiki/minuend#:~:text=A%20number%20or%20quantity%20from%20which%20another%20is%20to%20be%20subtracted) [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} destination and w~S~ is the [subtrahend](https://en.wikipedia.org/wiki/Subtraction#:~:text=number%20being%20subtracted) [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} starting point. To get the [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} of the first [Dow 4]{.tool data-bs-toggle="tooltip" data-bs-title="Thursday"} after [Day 265]{.tool data-bs-toggle="tooltip" data-bs-title="November 21"}, which is [Thanksgiving](https://en.wikipedia.org/wiki/Thanksgiving#:~:text=Thanksgiving%20is-,a%20national%20holiday,-celebrated%20on%20various)ğŸ¦ƒin the United States and Brazil, we plug 4 as w~M~ and \${day266dotw}, the [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} of [Day 266]{.tool data-bs-toggle="tooltip" data-bs-title="November 22"} this year, as w~S~ into the [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} [delta](https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator) equation, \${day266dotwDiff} = (4 [-]{.mono} \${day266dotw} + 7) [mod](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder) 7, and then add w~Î”~ to 266: \${day266dotwDiff + 266} = \${day266dotwDiff} + 266.

### Year of era (yoe) {#yoe .hiddenheading}

Apart from the [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} and [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} [delta](https://en.wikipedia.org/wiki/Delta_(letter)#:~:text=the%20difference%20operator) equations, the ThanksgivingğŸ¦ƒcalculation aboveâ¬†ï¸relies on the Dec [doe]{.tool data-bs-toggle="tooltip" data-bs-title="day of era"} equation, which is based on the [`days_from_civil`](https://howardhinnant.github.io/date_algorithms.html#days_from_civil){.mono .under} algorithm created by [Howard Hinnant](https://howardhinnant.github.io) and described in his manuscript entitled [[`chrono`]{.mono .under}-Compatible Low-Level Date Algorithms](https://howardhinnant.github.io/date_algorithms.html), to convert a "year of era" ([yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"}), [cycle](https://en.wikipedia.org/wiki/Solar_cycle_(calendar)#:~:text=the%20Gregorian%20cycle%20of%20400%20years%20has%20exactly%20146%2C097%20days%2C%20i.e.%20exactly%2020%2C871%20weeks%2C%20one%20can%20say%20that%20the%20Gregorian%20so%2Dcalled%20solar%20cycle%20lasts%20400%20years) of era ([coe]{.tool data-bs-toggle="tooltip" data-bs-title="cycle of era"}), year of cycle ([yoc]{.tool data-bs-toggle="tooltip" data-bs-title="year of cycle"}), and [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} into a [doe]{.tool data-bs-toggle="tooltip" data-bs-title="day of era"}:

$$\text{coe} = \Biggl \lfloor \frac{\begin{cases}\text{yoe}&{\text{if } \text{yoe} \geq 0;}\\\text{yoe}-399&{\text{otherwise.}}\end{cases}}{400} \Biggr \rfloor$$

$$\text{yoc} = \text{yoe} - \text{coe} \times 400$$

:::{.overflowequation style="overflow-x:auto;overflow-y:hidden;"}
$$\text{doe} = \text{coe}\times146097 + \text{yoc}\times365 + \lfloor\frac{\text{yoc}}{4}\rfloor - \lfloor\frac{\text{yoc}}{100}\rfloor + \text{doy}$$
:::

The Dec date equations are the [inverse](https://en.wikipedia.org/wiki/Inverse#:~:text=Inverse%20function%2C-,a%20function%20that%20%22reverses%22%20another%20function,-Generalized%20inverse%2C%20a)ğŸ”of the Dec [doe]{.tool data-bs-toggle="tooltip" data-bs-title="day of era"} equations aboveâ¬†ï¸, based on Howard Hinnant's [`civil_from_days`](https://howardhinnant.github.io/date_algorithms.html#civil_from_days){.mono} algorithm, and useful for obtaining Dec dates from [does]{.tool data-bs-toggle="tooltip" data-bs-title="days of era"} and [doe]{.tool data-bs-toggle="tooltip" data-bs-title="day of era"} analogs like [UNIX timestamps](https://en.wikipedia.org/wiki/Unix_time#:~:text=the%20number%20of%20seconds%20that%20have%20elapsed%20since%2000%3A00%3A00%20UTC%20on%201%C2%A0January%201970) and [JDNs]{.tool data-bs-toggle="tooltip" data-bs-title="Julian day numbers"}. Besides the [coe]{.tool data-bs-toggle="tooltip" data-bs-title="cycle of era"} and [yoc]{.tool data-bs-toggle="tooltip" data-bs-title="year of cycle"}, the Dec date equations also use the "day of cycle" ([doc]{.tool data-bs-toggle="tooltip" data-bs-title="day of cycle"}) of a [doe]{.tool data-bs-toggle="tooltip" data-bs-title="day of era"} to produce its corresponding [yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"} and [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"}:

$$\text{coe} = \Biggl \lfloor \frac{\begin{cases}\text{doe}&{\text{if } \text{doe} \geq 0;}\\\text{doe}-146096&{\text{otherwise.}}\end{cases}}{146097} \Biggr \rfloor$$

$$\text{doc} = \text{doe} - \text{coe} \times 146097$$

$$\text{yoc} = \biggl \lfloor \frac{\text{doc} - \lfloor \frac{\text{doc}}{1460} \rfloor + \lfloor \frac{\text{doc}}{36524} \rfloor - \lfloor \frac{\text{doc}}{146096} \rfloor}{365} \biggr \rfloor$$

$$\text{yoe} = \text{yoc} + \text{coe} \times 400$$

$$\text{doy} = \biggl \lfloor \text{doc} - \text{yoc} \times 365 - \lfloor \frac{\text{yoc}}{4} \rfloor + \lfloor \frac{\text{yoc}}{100} \rfloor \biggr \rfloor$$

Dates generated by the Dec date equations are guaranteed to be in the standard [yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"}+[doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} format. Therefore, we can standardize Dec dates by using the Dec [doe]{.tool data-bs-toggle="tooltip" data-bs-title="day of era"} and date equations consecutively to perform a [round-trip](https://en.wikipedia.org/wiki/Round-trip_format_conversion#:~:text=converting%20from%20any%20data%20representation%20and%20back%20again) "date to [doe]{.tool data-bs-toggle="tooltip" data-bs-title="day of era"} to date" conversion.
Dec date standardization ensures that [yoes]{.tool data-bs-toggle="tooltip" data-bs-title="years of era"} are integers and [doys]{.tool data-bs-toggle="tooltip" data-bs-title="days of year"} are positive integers less than [n]{.tool data-bs-toggle="tooltip" data-bs-title="number of days in the year"}. 

While [n]{.tool data-bs-toggle="tooltip" data-bs-title="number of days in the year"} can be useful for converting between positive and negative [doys]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="days of year"} or between days and fractional years, Dec dates do not include [n]{.tool data-bs-toggle="tooltip" data-bs-title="number of days in the year"}, because it is not needed to specify a date, remains constant for 366, 1095, or 2920 days, has only 2 possible values: 365 or 366, and can be determined by passing [yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"}+1 to the Dec year length equation:

$$\text{n}=\begin{cases}
  366&{\begin{align}\text{if } (\text{yoe}+1)\text{ mod }\ \ \ \ 4=0\\ \href{https://en.wikipedia.org/wiki/Logical_conjunction}{\land}(\text{yoe}+1)\text{ mod }100\neq0\\
  \href{https://en.wikipedia.org/wiki/Logical_disjunction}{\lor}( \text{yoe}+1)\text{ mod }400=0\end{align}}\\\\
  365&{\text{otherwise.}}\end{cases}$$

To maintain balanced accounting of years and days, we need to add one to the [yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"} when we subtract [n]{.tool data-bs-toggle="tooltip" data-bs-title="number of days in the year"} from a positive [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} to make it negative. Likewise, we have to subtract one from the [yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"} when we add [n]{.tool data-bs-toggle="tooltip" data-bs-title="number of days in the year"} to a positive [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} to make it positive. The negative [doy]{.tool data-bs-toggle="tooltip" data-bs-title="days of year"} in the current Dec date, \${nextYear}[-]{.mono}\${TminusPadded}, tells us that Year \${nextYear} will begin in \${Tminus} days.

The distinction between positive and negative [doys]{.tool data-bs-toggle="tooltip" data-bs-title="days of year"} can also be explained in terms of computer programming. If we think of a year as an [array](https://en.wikipedia.org/wiki/Array_(data_structure)#Element_identifier_and_addressing_formulas:~:text=a%20data%20structure%20consisting%20of%20a%20collection%20of%20elements%20(values%20or%20variables)%2C%20of%20same%20memory%20size%2C%20each%20identified%20by%20at%20least%20one%20array%20index), n is the number of elements in the array and [doys]{.tool data-bs-toggle="tooltip" data-bs-title="days of year"} are like [positive](https://en.wikipedia.org/wiki/Zero-based_numbering#:~:text=a%20way%20of%20numbering%20in%20which%20the%20initial%20element%20of%20a%20sequence%20is%20assigned%20the%20index%C2%A00) or [negative index](https://en.wikipedia.org/wiki/Array_slicing#:~:text=specify%20an%20offset%20from%20the%20end%20of%20the%20array) array [indexes](https://en.wikipedia.org/wiki/Array_(data_structure)#Element_identifier_and_addressing_formulas:~:text=individual%20objects%20are%20selected%20by%20an%20index) that can be used to obtain specific array elements individually via indexing or in groups via [array slicing](https://en.wikipedia.org/wiki/Array_slicing#:~:text=an%20operation%20that%20extracts%20a%20subset%20of%20elements%20from%20an%20array). 

In Dec, a date without a [yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"} is a floatingğŸ›Ÿdate and a date that includes a [yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"} is an anchoredâš“ï¸date. To reuseâ™»ï¸an anchored date in a different year, we have to update its [yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"}. In contrast, a floating date that does not contain any unreusableğŸ—‘ï¸elements, such as the date of a floating holiday, a [woy]{.tool data-bs-toggle="tooltip" data-bs-title="week of year"}, or a [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"}, can be reused in any year without any modification.

Thanks to a method called minuend expansion, Dec dates can display many different kinds of information. In essense, minuend expansion replaces a minuend with a subtrahend and a difference. In the context of a rocketğŸš€launch, the current time is the minuend, the planned launch time is the subtrahend, and the ["T-minus" countdown](https://en.wikipedia.org/wiki/Countdown#:~:text=backward%20counting%20to%20indicate%20the%20time%20remaining%20before%20an%20event) is the difference.

For example, we can create a expanded date which tells us that \${Math.abs(xmasDiff)} days \${xmasDiffSince} [Day 299]{.tool data-bs-toggle="tooltip" data-bs-title="December 25"}ğŸ„of this year: \${decYear}+299[\${xmasDiffSign}]{.mono}\${Math.abs(xmasDiff)}. Instead of an expanded date, we can express this same information as a Dec span: =\${decYear}+299[\${xmasDiffSign}]{.mono}\${Math.abs(xmasDiff)}. Unlike dates, Dec spans represent time intervals and are structured like an equation as opposed to a math expression. 

Dec spans can omit either the minuend, as shown above, the subtrahend: \${decYear}+\${decDoty}=\${xmasDiffResult}\${Math.abs(xmasDiff)}, or the difference: \${decYear}+\${decDoty}=\${decYear}+299. When the [yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"} is the same on both sides of the equals sign, it can be omitted from either the minuend or the subtrahend. If we omit the [yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"} from the subtrahend, we must also omit the difference: \${decYear}+\${decDoty}=299.

Dec spans can omit both the minuend and difference to indicate that the minuend is the first day of the year: [Day 0]{.tool data-bs-toggle="tooltip" data-bs-title="March 1"}. Similarly, an empty ["right-hand side"](https://en.wikipedia.org/wiki/Sides_of_an_equation#:~:text=The%20expression%20on%20the%20right%20side%20of%20the%20%22%3D%22%20sign) ([rhs]{.tool data-bs-toggle="tooltip" data-bs-title="right-hand side"}) means that the subtrahend is the last day of the year: [Day -1]{.tool data-bs-toggle="tooltip" data-bs-title="February 28 or 29"}. Anchored spans have one or two [yoes]{.tool data-bs-toggle="tooltip" data-bs-title="years of era"}, whereas floating spans do not contain a [yoe]{.tool data-bs-toggle="tooltip" data-bs-title="year of era"}. The floating version of the span above would be \${decDoty}=299.

The simplest possible span is just an equals sign and represents all the days in the year, from [Day 0]{.tool data-bs-toggle="tooltip" data-bs-title="March 1"} to [Day -1]{.tool data-bs-toggle="tooltip" data-bs-title="February 28 or 29"}. If the year is unspecified, we will not know whether [Day -1]{.tool data-bs-toggle="tooltip" data-bs-title="February 28 or 29"} is [Day 364]{.tool data-bs-toggle="tooltip" data-bs-title="February 28"} or [Day 365]{.tool data-bs-toggle="tooltip" data-bs-title="February 29"}, but even if we do know, we might still want to keep the [rhs]{.tool data-bs-toggle="tooltip" data-bs-title="right-hand side"} blank for brevity. The span \${decYear}+= only contains the current year but is equivalent to \${decYear}+0=$\{decYearLastDay}[-]{.mono}\${decYearLastDay}.

A span can display  expanded dates, spans can display a minuend. Without a minuend, visually [parsing](https://en.wikipedia.org/wiki/Parsing#:~:text=a%20process%20of%20analyzing%20a%20string%20of%20symbols) a [doy]{.tool data-bs-toggle="tooltip" data-bs-title="day of year"} into a dek and [dod]{.tool data-bs-toggle="tooltip" data-bs-title="day of dek"} may be harder. In this way, an expanded date deemphasizes its dek and [dod]{.tool data-bs-toggle="tooltip" data-bs-title="day of dek"} in favor of some other information.

Unlike a date or a span that shows a [dom]{.tool data-bs-toggle="tooltip" data-bs-title="day of month"}, a date or a span that shows a [dow]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} is not reusableï¸, because there are fourteen different yearly patterns of [woys]{.tool data-bs-toggle="tooltip" data-bs-title="weeks of year"} and [dows]{.tool data-bs-toggle="tooltip" data-bs-title="day of week"} that repeat every six to forty years.

# Day of week (dow){#dow}

Even though Decalendar functions best with [deks]{.cyan}, Dec dates can display POSIX [zero-based](https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=Weekday%20as%20a%20decimal%20number%20%5B0%2C6%5D) [dows]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="days of week"}. Instead of the current Dec date, [\${decYear}]{.yellow}+[\${decDoty}]{.cyan}, the [navigation bar](https://en.wikipedia.org/wiki/Navigation_bar#:~:text=a%20section%20of%20a%20graphical%20user%20interface%20intended%20to%20aid%20visitors%20in%20accessing%20information) (navbar) of my site displays the current Dec [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} date, [\${decYear}]{.yellow}[\${dotw0sign}]{.mono}[\${dotw0doty}]{.cyan}+[\${dotw}]{.lightgreen}, by splitting the current [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"}, [\${decDoty}]{.cyan}, into the [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"} of the first day of the current week ([Dow 0]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"}), [\${dotw0doty}]{.cyan}, and the current POSIX [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"}: [\${dotw}]{.lightgreen}.

Instead of the [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"} [d]{.cyan}, Dec [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} dates display [d]{.cyan}[-]{.mono}[w]{.lightgreen}+[w]{.lightgreen}, where [d]{.cyan}[-]{.mono}[w]{.lightgreen} is the [Dow 0]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"} and [w]{.lightgreen} is the [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} associated with [d]{.cyan}. We evaluate the subtraction, [d]{.cyan}[-]{.mono}[w]{.lightgreen}, to obtain the [Dow 0]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"}, but leave the addition unsimplified so we can see [w]{.lightgreen}. Dec [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} dates supply all of the information needed to identify specific dates and coordinate schedules based on [deks]{.cyan} or [weeks]{.darkgreen}.

The [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} equation, [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} = ([doe]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of era"} + 3) [mod](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder) 7, is derived from Howard Hinnant's [`weekday_from_days`](https://howardhinnant.github.io/date_algorithms.html#weekday_from_days) algorithm. The Dec epoch [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} is [3]{.lightgreen} = ([0]{.cyan} + 3) [mod](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder) 7. The UNIX epoch [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} is [4]{.lightgreen} = ([719468]{.cyan} + 3) [mod](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder) 7. Depending on how [mod](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder) is defined, a negative [doe]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of era"} could yield a negative [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"}: [-1]{.lightgreen} = ([-60]{.cyan} + 3) [mod](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder) 7. To convert a negative [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} into a positive [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"}, we add 7.

:::{.overflowtable style="overflow-x:auto;overflow-y:hidden;"}
| Sunday | Monday | Tuesday | Wednesday | Thursday | Friday | Saturday |
| ------ | ------ | ------- | --------- | -------- | ------ | -------- |
|   0    |   1    |    2    |     3     |    4     |   5    |    6     |
|  -7    |  -6    |   -5    |    -4     |   -3     |  -2    |   -1     |
:::

# Week of year (woy){#woy}

Dec [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} dates can be further expanded to include Dec [woy]{.tool data-bs-toggle="tooltip" data-bs-title="week of year"} numbers: [\${decYear}]{.yellow}+7&times;[\${week}]{.darkgreen}+[\${dotw}]{.lightgreen}. The current [woy]{.darkgreen .under .tool data-bs-toggle="tooltip" data-bs-title="week of year"}, [\${week}]{.darkgreen}, is the sum of the [Dow 0]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"}, [\${dotw0doty}]{.cyan}, and the first [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} of the [year]{.yellow} ([Day 0]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="March 1"} [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"}), [\${doty0dotw}]{.lightgreen}, divided by 7: [\${week}]{.darkgreen} = ([\${dotw0doty}]{.cyan} + [\${doty0dotw}]{.lightgreen}) &div; 7. The current Dec floatingğŸ›Ÿ[woy]{.darkgreen .under .tool data-bs-toggle="tooltip" data-bs-title="week of year"} date, 7&times;[\${week}]{.darkgreen}+[\${dotw}]{.lightgreen}, is equal to the sum of the current [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"} and the [Day 0]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="March 1"} [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"}: 7 &times; [\${week}]{.darkgreen} + [\${dotw}]{.lightgreen} = [\${decDoty}]{.cyan} + [\${doty0dotw}]{.lightgreen}.

To create a Dec [woy]{.darkgreen .under .tool data-bs-toggle="tooltip" data-bs-title="week of year"} date, we need two types of Dec expansion: minuend and dividend expansion. First, we turn the minuend [d]{.cyan} into the subtrahend [d]{.cyan}[-]{.mono}[w]{.lightgreen} and the difference [w]{.lightgreen}. Then, we use the dividend equation, dividend = divisor &times; quotient, to convert the dividend [d]{.cyan}[-]{.mono}[w]{.lightgreen}+[w~0~]{.lightgreen} into the divisor 7 and the quotient [W]{.darkgreen}, where [W]{.darkgreen} is the [woy]{.darkgreen .under .tool data-bs-toggle="tooltip" data-bs-title="week of year"} and [w~0~]{.lightgreen} is the [Day 0]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="March 1"} [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"}.

Essentially, Dec [woy]{.darkgreen .under .tool data-bs-toggle="tooltip" data-bs-title="week of year"} dates turn [d]{.cyan}[-]{.mono}[w]{.lightgreen} into 7&times;[W]{.darkgreen}+[w]{.lightgreen}[-]{.mono}[w~0~]{.lightgreen}. Typically, only 7&times;[W]{.darkgreen}+[w]{.lightgreen} is displayed, because [w~0~]{.lightgreen} is not necessary to identify a date and can be calculated from a given [y]{.yellow} by flooring it, turning it into a [doe]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of era"}, and passing it into the [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} equation. Dec [woy]{.darkgreen .under .tool data-bs-toggle="tooltip" data-bs-title="week of year"} dates obfuscateğŸ«£[d]{.cyan} much more than [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} dates, but may be useful for [[week]{.darkgreen}-based accounting](https://en.wikipedia.org/wiki/Accounting_period#52%E2%80%9353-week_fiscal_year:~:text=used%20by%20companies%20that%20desire%20that%20their%20fiscal%20year%20always%20end%20on%20the%20same%20day%20of%20the%20week)ğŸ§¾.

# Day of dek (dod){#dod}

While [weeks]{.darkgreen} are not evenly divisible by two, a [dek]{.cyan} can be cutâœ‚ï¸into two equal halves called pentadays (pents). The [Mermaid](https://mermaid.js.org) flowcharts belowâ¬‡ï¸show Schedule [3]{.green}, the recommended [dek]{.cyan}ly schedule of [work]{.green} and [rest]{.blue} day. Schedule [3]{.green} can be short for Schedule [1]{.blue}+[3]{.green}+[1]{.blue}, if you prefer the zero-based top flowchart, or Schedule [3]{.green}+[2]{.blue}, if you favor the one-based bottom flowchart.

```{mermaid}
%%| label: zerobasedpent
%%{init: {'theme': 'default', 'themeVariables': { 'fontSize': '29px'}}}%%
flowchart TB
   A[0]-->B[1]-->C[2]-->D[3]-->E[4]
   F[5]-->G[6]-->H[7]-->I[8]-->J[9]
   subgraph workdays[work days]
   B
   C
   G
   H
   D
   I
   end
   subgraph restdays[rest days]
   A
   F
   E
   J
   workdays
   end
   style restdays color:transparent;
```

```{mermaid}
%%| label: onebasedpent
%%{init: {'theme': 'default', 'themeVariables': { 'fontSize': '29px'}}}%%
flowchart TB
   B[1]-->C[2]-->D[3]-->E[4]-->F[5]
   G[6]-->H[7]-->I[8]-->J[9]-->A[10]
   subgraph workdays[work days]
   B
   C
   G
   H
   D
   I
   end
   subgraph restdays[rest days]
   A
   F
   E
   J
   workdays
   end
   style restdays color:transparent;
```

Both flowcharts use [dod]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of dek"} numbers, but the bottom one starts from [Dod 1]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="second day of dek"} instead of [Dod 0]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of dek"} and refers to [Dod 0]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="first day of dek"} as [Dod 10]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="first day of dek"}. Like the [dods]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="days of dek"} in the flowcharts aboveâ¬†ï¸, the [doys]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="days of year"} in the tables belowâ¬‡ï¸are arranged in both a zero-based (top) and a one-based (bottom) manner. The tables visualize the seamless transition between a common [year]{.yellow} and the subsequent [year]{.yellow}.

| [Rest]{.blue} | [Work]{.green} | [Work]{.green} | [Work]{.green} | [Rest]{.blue} |
| ------------- | -------------- | -------------- | -------------- | ------------- |
| [360]{.blue}  | [361]{.green}  | [362]{.green}  | [363]{.green}  | [364]{.blue} |
| [0]{.blue}    | [1]{.green}    | [2]{.green}    | [3]{.green}    | [4]{.blue}   |

| [Work]{.green} | [Work]{.green} | [Work]{.green} | [Rest]{.blue} | [Rest]{.blue} |
| -------------  | -------------- | -------------- | ------------- | ------------- |
| [361]{.green}  | [362]{.green}  | [363]{.green}  | [364]{.blue} | [0]{.blue}    |
| [1]{.green}    | [2]{.green}    | [3]{.green}    | [4]{.blue}   | [5]{.blue}    |

After 4 or 8 [years]{.yellow} of consecutive pents, the Schedule [3]{.green} pattern shown in the flowcharts and tables aboveâ¬†ï¸is interrupted by [3]{.blue} consecutive [rest]{.blue} days during the transition from a leap [year]{.yellow}. This interruption is represented by 4 empty cells in the middle row of the two tables belowâ¬‡ï¸. The middle row contains only one day: [Day 365]{.tool data-bs-toggle="tooltip" data-bs-title="February 29"} in the top table and [Day 0]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="March 1"} in bottom one.

| [Rest]{.blue} | [Work]{.green} | [Work]{.green} | [Work]{.green} | [Rest]{.blue} |
| ------------- | -------------- | -------------- | -------------- | ------------- |
| [360]{.blue}  | [361]{.green}  | [362]{.green}  | [363]{.green}  | [364]{.blue}  |
|               |                |                |                | [365]{.blue}  |
| [0]{.blue}    | [1]{.green}    | [2]{.green}    | [3]{.green}    | [4]{.blue}    |

| [Work]{.green} | [Work]{.green} | [Work]{.green} | [Rest]{.blue} | [Rest]{.blue} |
| -------------  | -------------- | -------------- | ------------- | ------------- |
| [361]{.green}  | [362]{.green}  | [363]{.green}  | [364]{.blue}  | [365]{.blue}  |
|                |                |                |               | [0]{.blue}    |
| [1]{.green}    | [2]{.green}    | [3]{.green}    | [4]{.blue}    | [5]{.blue}    |

The last pentaday (pent) in common [years]{.yellow} is Pent 72. [Day 365]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="February 29"} is the only day in Pent 73. [Day 0]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="March 1"} is the first day of Pent 0, the first pent of the [year]{.yellow}. To get the current pent number, ${decPent}, we double the current [dek]{.cyan} number, [\${decDek}]{.cyan}, and then add 1 if the current [dod]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of dek"} number, [\${decDotd}]{.cyan}, is greater than 4. To avoid [off-by-one errors](https://en.wikipedia.org/wiki/Off-by-one_error#:~:text=a%20logic%20error%20that%20involves%20a%20number%20that%20differs%20from%20its%20intended%20value%20by%201), pent, [dek]{.cyan}, [dod]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of dek"}, and [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} numbers are always zero-based in Dec.

Other than pent numbers, a pent can also be expressed as a spanğŸŒˆ. Pent 72 can be represented as [360]{.cyan}=[365]{.cyan}[-]{.mono}[5]{.violet}, [360]{.cyan}=[-5]{.violet}, or [360]{.cyan}=[365]{.cyan}. In addition to omitting the subtrahend or the difference, we can make the subtrahend precede the minuend to indicate that we want to start from the latest day and work backwards: [365]{.cyan}=[360]{.cyan}+[5]{.violet}, [365]{.cyan}=[360]{.cyan}, or [365]{.cyan}=+[5]{.violet}.

SpansğŸŒˆcan also represent groups of non-consecutive days. All of the Schedule [3]{.green} [work]{.green} days in a [year]{.yellow} can be expressed as [1]{.cyan}=[4]{.cyan}=:[5]{.sienna}. In this spanğŸŒˆ, we start with Days [1]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="March 2"}, [2]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="March 3"}, and [3]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="March 4"} and then include every day that is a multiple of 5 days away from one of the starting days. The number preceded by a colon is called a step and determines which days we want to include.

:::{.column-margin fig-align="center" style="text-align:center;"}
![[Wikimedia](https://commons.wikimedia.org/wiki/File:Manual_Layout.svg)](../../asset/Manual_Layout.svg)
:::
Schedule [3]{.green} is one of six [dek]{.cyan}ly schedules that allow us to organize [work]{.green} and [rest]{.blue} days into five homogeneous columns like in the tables and flowcharts aboveâ¬†ï¸. These schedules are like the gearsâš™ï¸of a [5-speed](https://en.m.wikipedia.org/wiki/Manual_transmission#:~:text=Common%20shift%20pattern%20for%20a%205%2Dspeed%20transmission) [manual transmission](https://en.m.wikipedia.org/wiki/Manual_transmission#:~:text=a%20multi%2Dspeed%20motor%20vehicle%20transmission%20system%20where%20gear%20changes%20require%20the%20driver%20to%20manually%20select%20the%20gears%20by%20operating%20a%20gear%20stick%20and%20clutch) in a car. The approximate speed ranges for the five gearsâš™ï¸are <5, 5 to 10, 10 to 15, 15 to 20, and &ge;20 [kilometers]{.underline .tool data-bs-toggle="tooltip" data-bs-title="thousands of meters"} per [centiday]{.underline .tool data-bs-toggle="tooltip" data-bs-title="a hundredth of a day"}.

In this analogy, [Neutral](https://en.m.wikipedia.org/wiki/Neutral#:~:text=the%20state%20where%20no%20gears%20are%20selected%20for%20a%20motor%20vehicle's%20transmission) (N), 1st, 2nd, 3rd, 4th, and 5th gearâš™ï¸are Schedules [0]{.green}, [1]{.green}, [2]{.green}, [3]{.green}, [4]{.green}, and [5]{.green}, respectively. To complete the [gearshift](https://en.m.wikipedia.org/wiki/Gear_stick#:~:text=a%20metal%20lever%20attached%20to%20the%20transmission%20of%20an%20automobile) analogy, Reverse (R) would be a time machine that takes us to the past. As our driving speed changes, we would shift up to a higher gearâš™ï¸or shift down to a lower gearâš™ï¸. Similarly, we can switch between the six [dek]{.cyan}ly schedules as needed.

The names of the [dek]{.cyan}ly schedules are derived from their respective numbers of [work]{.green} days per pent. The totalğŸ§®number of [work]{.green} days per [year]{.yellow} provided by Schedules [0]{.green}, [1]{.green}, [2]{.green}, [3]{.green}, [4]{.green}, and [5]{.green} are 0, 73, 146, 219, 292, and 365, respectively. In general, Schedule [3]{.green} should be the default and Schedule [5]{.green} should only be used temporarily during crisesâ€¼ï¸and emergenciesğŸš¨.

In addition to switching between schedules, we can also mix them to create hybrid schedules. Schedule [34]{.green} mixes Schedules [3]{.green} and [4]{.green} to obtain an annual totalğŸ§®of 255 [work]{.green} days without modifying the transition between [years]{.yellow} shown in the tables aboveâ¬†ï¸. This annual totalğŸ§®is about 1 pent less than the 260 to 262 [work]{.green} days that we get annually from a five-day [work]{.green}[week]{.darkgreen}.

Unlike [week]{.darkgreen}ly schedules, Schedules [3]{.green} and [34]{.green} provide a consistentğŸ¯number of [work]{.green} days every [year]{.yellow}. While Days [364]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="February 28"}, [365]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="February 29"}, and [0]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="March 1"} can be [work]{.green} or [rest]{.blue} days in the Gregorian calendarğŸ—“ï¸, these days are always [rest]{.blue} days if we follow Schedules [3]{.green} or [34]{.green}. Therefore, Schedules [3]{.green} and [34]{.green} do not require any holidays to smooth the transition between [years]{.yellow}.

There are 11 United States [Federal holidays](https://www.opm.gov/policy-data-oversight/pay-leave/federal-holidays/). Federal holidays that fall on a Gregorian calendarğŸ—“ï¸[rest]{.blue} day, [Dow 0]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} or [Dow 6]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="Saturday"}, are observed on the nearest Gregorian calendarğŸ—“ï¸[work]{.green} day: [Dow 1]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="Monday"} or [Dow 5]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="Friday"}. To apply this rule to Schedule [3]{.green}, we would observe the Day [110]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="June 19"}â›“ï¸â€ğŸ’¥, [125]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="July 4"}ğŸ†, [255]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="November 11"}ğŸ«¡, and [299]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="December 25"}ğŸ„holidays on Days [111]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="June 20"}â›“ï¸â€ğŸ’¥, [126]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="July 5"}ğŸ†, [256]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="November 12"}ğŸ«¡, and [298]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="December 26"}ğŸ„, respectively.

With [dek]{.cyan}ly schedules, we can determine whether any date falls on a [work]{.green} or a [rest]{.blue} day with just a glance. Counterintuitively, [dek]{.cyan}ly schedules can be based on [months]{.azul} instead of [deks]{.cyan}. [Month]{.azul}-based [dek]{.cyan}ly schedules distinguish between [work]{.green} and [rest]{.blue} days based onÂ the last digit of [doms]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="days of month"}. The drawback of [month]{.azul}-based schedules is that [doms]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="days of month"} reset twelve times every [year]{.yellow}.

The [month]{.azul}-based Schedules [3]{.green} and [34]{.green} have 223 and 258 [work]{.green} days per [year]{.yellow}, respectively, but will require at least one holiday to avoid six consecutive [work]{.green} days during the transition from a Dec common [year]{.yellow}. The best time to switch from a [week]{.darkgreen}ly to a [dek]{.cyan}ly schedule may be from [Day 31]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="April 1"} to [93]{.under .tool data-bs-toggle="tooltip" data-bs-title="June 2"} when the original and [month]{.azul}-based versions of Schedules [3]{.green} and [34]{.green} are identical.

# Day of month (dom){#dom}

Dec dates can be expanded to display Dec [month]{.azul} and [POSIX [dom]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="day of month"}](https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=day%20of%20the%20month%20as%20a%20decimal%20number%20%5B01%2C31%5D) numbers. The current Dec [dom]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="day of month"} date is [\${decYear}]{.yellow}+[\${monthNumber}]{.cyan}+[\${dotm}]{.lightblue}. Dec [month]{.azul} numbers are the last [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"} of the previous [month]{.azul} because POSIX [doms]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="days of month"} are one-based. For zero-based [doms]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="days of month"}, Dec represents each [month]{.azul} with its first [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"}: [\${decYear}]{.yellow}+[\${monthNumber0}]{.cyan}+[\${dotm0}]{.lightblue}. This way, Dec can support both zero- and one-based [doms]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="days of month"}.

Dec [dom]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="day of month"} dates replace the [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"} [d]{.cyan} from Dec dates with [d]{.cyan}[-]{.mono}[m]{.lightblue}+[m]{.lightblue}. We evaluate the subtraction to get [d]{.cyan}[-]{.mono}[m]{.lightblue}, the Dec [month]{.azul} number, but not the addition, so we can see [m]{.lightblue}, the [dom]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="day of month"}. If we combine the [dom]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="day of month"} and [dow]{.under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} patterns aboveâ¬†ï¸, we can create hybrid [dom]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="day of month"}+[dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} Dec dates: [\${decYear}]{.yellow}+[\${monthNumber - dotw}]{.cyan}+[\${dotm}]{.lightblue}+[\${dotw}]{.lightgreen}, where [\${monthNumber - dotw}]{.cyan} is [d]{.cyan}[-]{.mono}[m]{.lightblue}[-]{.mono}[w]{.lightgreen}, the [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"} of the last [Dow 0]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="Sunday"} before the beginning of the [month]{.azul}.

We can obtain Dec [month]{.azul} numbers using only a pair of handsğŸ¤²by counting indexâ˜ï¸and ringğŸ’fingers as 30 days and other fingers as 31 days. For zero-based [doms]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="days of month"}, we start counting from 0. For one-based [doms]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="days of month"}, we start counting from -1, as shown in the image belowâ¬‡ï¸. To spread 12 [months]{.azul} across 10 fingers, the first and last fingers each represent 2 [months]{.azul}.


:::{.hand}
{{< include _left.qmd >}}
{{< include _right.qmd >}}
:::
[[Wikimedia](https://commons.wikimedia.org/wiki/File:Typing-colour_for-finger-positions.svg)]{.handlabel}

The fingerğŸ–[mnemonic](https://en.wikipedia.org/wiki/Mnemonic#:~:text=any%20learning%20technique%20that%20aids%20information%20retention%20or%20retrieval%20in%20the%20human%20memory) described aboveâ¬†ï¸is similar to the [knuckleğŸ‘Š](https://en.wikipedia.org/wiki/Knuckle_mnemonic#:~:text=a%20mnemonic%20device%20for%20remembering%20the%20number%20of%20days%20in%20the%20months%20of%20the%20Julian%20and%20Gregorian%20calendars)and [musical keyboardğŸ¹](https://en.wikipedia.org/wiki/Month#:~:text=this%20cyclical%20pattern%20of%20month%20lengths%20matches%20the%20musical%20keyboard%20alternation%20of%20wide%20white%20keys%20(31%20days)%20and%20narrow%20black%20keys%20(30%20days))mnemonics. These mnemonics attempt to make sense of the irregular pattern of [[month]{.azul} lengths](https://en.wikipedia.org/wiki/Month#:~:text=Name-,Number,of%20days) in the Gregorian calendarğŸ—“ï¸. As opposed to [months]{.azul}, we do not need mnemonics, tables, or mental calculations to use [deks]{.cyan}, because all of the required information is plainly visible in the [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"}.

# Month of year (moy){#moy}

To convert [doys]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="days of year"} to or from [POSIX month](https://pubs.opengroup.org/onlinepubs/007904875/utilities/date.html#:~:text=Month%20as%20a%20decimal%20number%20%5B01%2C12%5D) and [dom]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="day of month"} numbers, we can use the [month of year]{.azul} ([moy]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="month of year"}) equations from the [`civil_from_days`](https://howardhinnant.github.io/date_algorithms.html#civil_from_days){.mono .under} and [`days_from_civil`](https://howardhinnant.github.io/date_algorithms.html#days_from_civil){.mono .under} algorithms. Unlike POSIX month numbers, [moys]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="months of year"} are zero-based and start from [Moy 0]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="March"} instead of [Moy 10]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="January"}. As shown in the first [moy]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="month of year"} equation belowâ¬‡ï¸, we can obtain a [moy]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="month of year"} from a [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"} or a POSIX [month]{.azul} number.

:::{.overflowequation style="overflow-x:auto;overflow-y:hidden;"}
$$\text{moy} = (5 \times \text{doy} + 2) \div 153 = \begin{cases}\text{month}-3&{\text{if }\text{month}\gt 2;}\\\text{month}+9&{\text{otherwise.}}\end{cases}$$
:::

$$\text{month} = \begin{cases}\text{moy}+3&{\text{if }\text{moy}\lt 10;}\\\text{moy}-9&{\text{otherwise.}}\end{cases}$$

$$\text{dom} = \text{doy} - (153 \times \text{moy} + 2) \div 5 + 1$$

$$\text{doy} = (153 \times \text{moy}+ 2) \div 5 + \text{dom} - 1$$

A [moy]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="month of year"} and its equivalent POSIX [month]{.azul} number differ by 9 in [Moy]{.azul} [10]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="January"} or [11]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="February"} and -3 in any other [moy]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="month of year"} because the Dec epoch, [0000]{.yellow}+[000]{.cyan}, is 2 [months]{.azul} later than the Gregorian calendarğŸ—“ï¸epoch: [-0001]{.yellow}+[306]{.cyan}. To convert [years]{.yellow}, we add 1 to Dec [years]{.yellow} and subtract 1 from Gregorian calendarğŸ—“ï¸[years]{.yellow} if the [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"} is greater than 305, the [moy]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="month of year"} is greater than 9, or the [month]{.azul} is less than 3:

:::{.overflowequation style="overflow-x:auto;overflow-y:hidden;"}
$$\text{Dec year} = \begin{cases}\text{Gregorian calendar year}-1&{\text{if }\text{doy}\gt 305\href{https://en.wikipedia.org/wiki/Logical_disjunction}{\lor}\text{moy}\gt 9\href{https://en.wikipedia.org/wiki/Logical_disjunction}{\lor}\text{month}\lt 3;}\\\text{Gregorian calendar year}&{\text{otherwise.}}\end{cases}$$
:::

:::{.overflowequation style="overflow-x:auto;overflow-y:hidden;"}
$$\text{Gregorian calendar year} = \begin{cases}\text{Dec year}+1&{\text{if }\text{doy}\gt 305\href{https://en.wikipedia.org/wiki/Logical_disjunction}{\lor}\text{moy}\gt 9\href{https://en.wikipedia.org/wiki/Logical_disjunction}{\lor}\text{month}\lt 3;}\\\text{Dec year}&{\text{otherwise.}}\end{cases}$$
:::

# Summary{#tldr}

This article describes Dec and how it can interoperate with the Gregorian calendarğŸ—“ï¸by minuend expanding Dec dates into [dom]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="day of month"} and [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} dates or dividend expanding [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"} dates into [woy]{.darkgreen .under .tool data-bs-toggle="tooltip" data-bs-title="week of year"} dates. On its own, Dec minuend expands dates into spanğŸŒˆequivalents, but has no use for dividend expansion, because [doys]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"} display [deks]{.cyan} and [dods]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="days of dek"} without any expansion.

The flowchart belowâ¬‡ï¸visualizes the conversion of the UNIX epoch Dec date [1969]{.yellow}+[306]{.cyan} into a Gregorian calendarğŸ—“ï¸[year]{.yellow}, [month]{.azul}, [dom]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="day of month"} and [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"}. To obtain its associated [dow]{.lightgreen .under .tool data-bs-toggle="tooltip" data-bs-title="day of week"}, we first need to convert a Dec date into a [doe]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of era"}. Outside of its interoperability with the Gregorian calendarğŸ—“ï¸, Dec converts dates into [does]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="days of era"} to find the number of days in between two dates.

```{mermaid}
%%| label: conversionchart
%%{init: {'theme': 'default', 'themeVariables': { 'fontSize': '20px'}}}%%
flowchart LR
   L~~~Y
   L-->Y
   L-->D
   L-->E
   R-->Y
   M-->R[  ]:::empty
   D-->A
   D~~~B[  ]:::empty
   A-->G
   G-->R
   Y~~~L[  ]:::empty
   Y---A[  ]:::empty
   Y~~~A
   B-->M
   B~~~N
   B-->N
   B-->D
   B~~~D
   N~~~B
   E-->W
   subgraph decdate[Decalendar]
   Y[yoe<br>1969]
   D[doy<br>306]
   E[doe<br>719468]
   end
   subgraph gregdate[Gregorian calendar]
   W[dow<br>4]
   G[year<br>1970]
   M[month<br>1]
   N[dom<br>1]
   end
   classDef empty width:0px;
   click E "#doe"
   click W "#dow"
   click Y "#yoe"
   click D "#doy"
   click G "#eya"
   click M "#moy"
   click N "#dom"
```

For simplicity, the flowchart aboveâ¬†ï¸does not show conversion byproducts, such as the [coe]{.under .tool data-bs-toggle="tooltip" data-bs-title="cycle of era"}, [yoc]{.yellow .under .tool data-bs-toggle="tooltip" data-bs-title="year of cycle"}, and [doc]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of cycle"} generated during Dec [doe]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of era"} to date conversion or the [moy]{.azul .under .tool data-bs-toggle="tooltip" data-bs-title="months of year"} that we need in order to split a [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"} into a [month]{.azul} and a [dom]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="day of month"} or combine a [month]{.azul} and a [dom]{.lightblue .under .tool data-bs-toggle="tooltip" data-bs-title="day of month"} into a [doy]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="day of year"}. The arrows in the flowchart represent equations adapted from [[`chrono`]{.mono .under}-Compatible Low-Level Date Algorithms](https://howardhinnant.github.io/date_algorithms.html).

Instead of converting Dec dates, we can expand them to view the information we need as part of the math-inspired notation of Dec. At its heartâ¤ï¸, Dec is a simple system that uses only [years]{.yellow} and [days]{.cyan} for time measurement. Thanks to Dec expansion, Dec can work with other units. In this way, Dec expansion bridges the gap between the Dec and Gregorian calendarsğŸ—“ï¸.

# Next

After reading this article, you should be able to understand the examples in my [filter](/quarto/filter), [include](/quarto/include), and [script](/quarto/script) articles, but you may want to start with my [Quarto article](/quarto). To see the full extent of the benefits that Dec provides, I recommend that you continue through the [Dec section](/dec) of my site to the [time](/dec/time)â³, [snap](/dec/snap)ğŸ«°, and [span](/dec/span)ğŸŒˆarticles. Dec has a lot more to offer than just dates!

:::{#datenav}
{{< include /asset/_decquanav.qmd >}}
:::

In addition my Dec and Quarto articles, many other articles on my site discuss Dec. Notably, my [Jupyter](/jupyter) article compares the code underlying Dec in several programming languages, my [Reveal](/reveal) article features a presentation on Dec time measurement, and my [Observable](/observable) article describes how I demonstrate Dec in action with interactive and animated visualizations.

# Cite

Thank you for your interest in Dec. You will find citation information for this article belowâ¬‡ï¸. Please note that the original source of the algorithms underlying the conversion of Dec [year]{.yellow}+[day]{.cyan} dates and [does]{.cyan .under .tool data-bs-toggle="tooltip" data-bs-title="days of era"} is [Hinnant, Howard](https://howardhinnant.github.io). [[2021]{.yellow}+[184]{.cyan}]{.underline .tool data-bs-toggle="tooltip" data-bs-title="2021-09-01"}. â€œ`chrono`-Compatible Low-Level Date Algorithms.â€ [\${decYear}]{.yellow}+[\${String(decDoty).padStart(3, "0")}]{.cyan}. <https://howardhinnant.github.io/date_algorithms.html>.

{{< include /dec/date/_index.qmd >}}
