[
  {
    "objectID": "cv/index.html",
    "href": "cv/index.html",
    "title": "Curriculum Vitae",
    "section": "",
    "text": "maptv@vt.edu",
    "crumbs": [
      "Curriculum Vitae"
    ]
  },
  {
    "objectID": "cv/index.html#summary",
    "href": "cv/index.html#summary",
    "title": "Curriculum Vitae",
    "section": "Summary",
    "text": "Summary\nMy goal is to train and lead the next generation of data scientists to integrate substantive expertise from diverse fields with machine intelligence. Through research and teaching, I am constantly improving my ability to obtain, tidy, explore, transform, visualize, model, and communicate data. My preferred tools are JavaScript, Python, and R, open source programming languages kept on the cutting edge by their energetic communities. In addition to their utility in common data science tasks, these languages serve as accessible interfaces to deep learning libraries like TensorFlow. I aim to leverage my background in science and education to help shape the future of data science and deliver on the promise of machine learning",
    "crumbs": [
      "Curriculum Vitae"
    ]
  },
  {
    "objectID": "blog/index.html",
    "href": "blog/index.html",
    "title": "",
    "section": "",
    "text": "Quarto\n\n\n\ndecüóìÔ∏èüïì\n\n\nquarto\n\n\nweb dev\n\n\n\n\n\n\n\nMartin Laptev\n\n\n1700111564000\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nObservable\n\n\n\ndecüóìÔ∏èüïì\n\n\nobservable\n\n\nquarto\n\n\n\n\n\n\n\nMartin Laptev\n\n\n1700111564000\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nJupyter\n\n\n\ndecüóìÔ∏èüïì\n\n\nknitr\n\n\njupyter\n\n\nquarto\n\n\n\n\n\n\n\nMartin Laptev\n\n\n1700111564000\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nKnitr\n\n\n\ndecüóìÔ∏èüïì\n\n\nknitr\n\n\nquarto\n\n\n\n\n\n\n\nMartin Laptev\n\n\n1700111564000\n\n\n\n\n\n\n\n\nNo matching items\n\n Back to topAttributions\n\nArtwork by @allison_horst",
    "crumbs": [
      "Blog"
    ]
  },
  {
    "objectID": "blog/quarto/index.html",
    "href": "blog/quarto/index.html",
    "title": "Quarto",
    "section": "",
    "text": "Quarto is an open-source software system for creating articles, books, blogs, dashboards, presentations, reports, websites, and other kinds of outputs from simple plain-text source files. Announced on 2022+149 by Posit CEO JJ Allaire, Quarto is already taking the worldüåêby storm‚õàÔ∏è!\nI strongly believe that everyone, regardless of their background and current technical skill level, can learn and benefit from Quarto. Getting start with Quarto is easy thanks to its excellent documentation and vibrant community of enthusiastic users and developers.\nRather than repeat the basic information already available elsewhere, I will share some advanced techniques along with the fundamental knowledge needed to understand how they work. The topics I cover are very technical, but my goal is to make the content on my blog as accessible as possible.\nThe first topic I will delve into is creating and publishing a website with Quarto. To follow the Quarto documentation on creating a website, you will need Visual Studio Code (VCSode), RStudio, or a terminal.",
    "crumbs": [
      "Blog",
      "Quarto"
    ]
  },
  {
    "objectID": "blog/quarto/index.html#without-git",
    "href": "blog/quarto/index.html#without-git",
    "title": "Quarto",
    "section": "Without Git",
    "text": "Without Git\nIf you do not plan to Git or the advanced features offered by GitHub, GitLab, or Netlify, then I recommend deploying your site to Quarto Pub by running quarto publish quarto-pub.\nSimilarly, publishing to Netlify with quarto publish netlify is easy and does not require Git. In contrast, deploying a site to GitHub or GitLab Pages with quarto publish gh-pages requires Git and much more configuration than Netlify or Quarto Pub.",
    "crumbs": [
      "Blog",
      "Quarto"
    ]
  },
  {
    "objectID": "blog/quarto/index.html#using-git",
    "href": "blog/quarto/index.html#using-git",
    "title": "Quarto",
    "section": "Using Git",
    "text": "Using Git\nBefore you can publish your site on GitHub or GitLab Pages, you need a GitHub or GitLab account and a repo like my maptv.github.io and maptv.gitlab.io repos. Each of these repos has a default branch, which by default is called main, and another branch that must be called gh-pages.\nYou can create the repo and the gh-pages branch using the web interface of https://github.com or https://gitlab.com in your browser, but the easiest way is certainly using the command line interface (CLI) for GitHub or GitLab in your terminal. First, run gh auth login or glab auth login and follow the prompts to authenticate via your browser, then run gh repo create SITENAME --add-readme --clone --public or glab repo create SITENAME --readme.\nNext, clone the repo you created using the shell commands like git clone, gh repo clone, or glab repo clone, a Git graphical user interface (GUI) like GitHub Desktop, or the Git interface of a code editor such as Visual Studio Code or RStudio.\nCloning an empty repo may seem odd, but in my experience this is the easiest way to set up a repo. Inside your cloned repo, you can run quarto create project website to generate the starter template and then immediately run quarto publish gh-pages.\nWhen I run quarto publish --no-prompt --no-browser gh-pages, Quarto renders my site into my output directory (docs), copies the output directory contents to the gh-pages branchof my local repository (repo), and then commits and pushes the changes to my remote repositories (repos) on GitHub and GitLab.\nTo get quarto publish gh-pages to work with both GitHub Pages and GitLab Pages, I followed the Quarto documentation on publishing to GitHub Pages, added a second origin URL to my local repo using the git remote shell commands, created a GitLab repo called maptv.gitlab.io with a gh-pages branch, created a .gitlab-ci.yml file, and modified my _quarto.yml, as shown in Example¬†4.\n\nExample 2 ¬†\ngit remote add lab git@gitlab.com:maptv/maptv.gitlab.io\ngit remote add hub git@github.com:maptv/maptv.github.io\ngit remote set-url --add origin $(git remote get-url lab)\n# https://docs.gitlab.com/ee/user/project/pages/introduction.html#customize-the-default-folder\npages:\n  script: echo \"The site will be deployed to $CI_PAGES_URL\"\n  artifacts:\n    paths:\n      - \".\"\n  publish: \".\"\n  only:\n    - gh-pages\nproject:\n  type: website\n  output-dir: docs\n  resources: .gitlab-ci.yml\n\n\n\n\n\n\n\nWarning\n\n\n\nIf you run quarto publish gh-pages while on the gh-pages branch, you will get an error: fatal: 'gh-pages' is already checked out at....\n\n\nYou can also configure Netlify to deploy your site based on the latest commit in your repo on either GitHub or GitLab, by selecting Site configuration, Build & deploy, Link repository, choosing between Deploy with GitHub or Deploy with GitLab, and then specifying the repo and branch. This approach works similar to quarto publish netlify but has the added benefit of using the Git version control system behind the scenes to track changes in the content.\nWith the settings described above, running quarto publish gh-pages updates my site on GitHub, GitLab, and Netlify. To also deploy to my site to Quarto Pub, I still need to run quarto publish quarto-pub.\nIf your deployment workflow includes multiple steps, you can use a shell alias to combine all of the steps into one. Example¬†3 shows a shell alias called qp that deploys a site first to GitHub Pages and then to Quarto Pub.\n\nExample 3 ¬†\nalias qp='(\nquarto publish --no-prompt --no-browser gh-pages;\nquarto publish --no-prompt --no-browser --no-render quarto-pub;\n)'\n\nOf these four options, only GitLab Pages is not supported by the command and only Quarto Pub is not compatible with the If you do not plan to use Git, I recommend deploying your site to Quarto Pubs with the quarto publish command. On the other hand, if you are going to use Git to push your content to a GitHub or GitLab Pages-enabled repository, you have no need for the quarto publish.\ndoes not have a gives you no control over the commit message for each update, no commit messages If you use quarto publish with GitHub Pages, the only disadvantages are that you must select your source branch to be gh-pages\nand/or the Git version control workflow shown in Figure¬†1.\n\n\n\n\n\n\nflowchart LR\n   A[working&lt;br/&gt;directory]-.git&lt;br/&gt;add.-&gt;B[/staging&lt;br/&gt;area/]-.git&lt;br/&gt;commit.-&gt;C(local&lt;br/&gt;repo)-.git&lt;br/&gt;push.-&gt;D(remote&lt;br/&gt;repo)\n\n\n\n\nFigure¬†1: Quarto workflow\n\n\n\n\n\nNetlify git workflow setup: Site configuration &gt; Build & deploy &gt; Link repository &gt; Deploy with GitHub|GitLab, and then select the repo and branch. GitLab Pages git workflow setup: - add .gitlab-ci.yml to root of your git repo and push - uncheck Use unique domain under Deploy &gt; Pages in the GitLab sidebar to have a shorter URL.\ncontrol system, you may prefer to host your site on Quarto Pubs or Netlify. On the other hand, if you are are already using git and hosting your site on GitHub or GitLab Pages, you have no need for the quarto publish.\nQuarto publishing documentation\nIn my experience, the quarto publish works Publishing to GitHub Pages with quarto publish requires setting up your site to be built from a gh-pages branch instead of main, which for me was a dealbreaker.\nIf you want to host your site on Quarto Pub, Netlify, or GitHub Pages, the Quarto publishing documentation is all you need. ::: {.callout-warning} The rest of this section focuses on GitLab Pages. Quarto does not officially supported by GitLab Pages, so if you are just starting out, you should choose one of the other options and skip down to Section¬†3. :::\nThe Quarto documentation does not discuss GitLab Pages, but you can follow the GitHub Pages instructions and then add a .gitlab-ci.yml file, like the one below, to the Git (repo) containing your Quarto-rendered site. After pushing to a GitLab remote repo,\n# https://docs.gitlab.com/ee/user/project/pages/introduction.html#customize-the-default-folder\npages:\n  script: echo \"The site will be deployed to $CI_PAGES_URL\"\n  artifacts:\n    paths:\n      - \".\"\n  publish: \".\"\n  only:\n    - gh-pages\nIf your site is published on Quarto Pub, Netlify, or GitHub Pages, you can use the quarto publish command to update it. The quarto publish command does not work for GitLab Pages, but GitHub and GitLab Pages-hosted sites can be updated using the standard Git workflow shown in Figure¬†1.\nTo make it easier to maintain my site on both GitHub and GitLab Pages, I set up my local repo cloned to have two origin remote URLs using the code in Example¬†4. Now, whenever I run git push in my local repo, Git pushes my updates to both GitHub and GitLab.\n\nExample 4 ¬†\ngit remote add lab git@gitlab.com:maptv/maptv.gitlab.io\ngit remote add hub git@github.com:maptv/maptv.github.io\ngit remote set-url --add origin $(git remote get-url lab)\n\nTo make the git workflow displayed in Figure¬†1 easier, I use the alias shown in Example¬†5 to combine the git add, commit, and push commands into one step. This alias allows me to provide a that describes each update directly on the\n\nExample 5 ¬†\nalias aacmp='(\n    \"func() { git add --all && git commit --message\n    \\\"$(echo '${*:-Changed files: $(echo $(git status --porcelain\n    | grep -v \"?\" | cut -c4- | tr \"\\n\" \" \"))}')\\\"\n    && git push; }; func\"\n)'\n\n\n\n\n\n\n\nWarning\n\n\n\nUn-escaped special characters in the commit message following the aacmp alias will be interpreted as shell command operators! If you don‚Äôt know what this means, I advise against trying to use this alias!\n\n\nExample¬†3 contains an analogous shell alias for quarto publish that updates site content on Quarto Pub, Netlify, and GitHub Pages. For more shell aliases, check out my .zshrc in my setup repo.\nFor more information on the git, the tool used by 93% of software developers worldwide, according to survey results published by StackOverflow on 2022+314, take a look at the ‚ÄúGitHub for supporting, reusing, contributing, and failing safely‚Äù post by Allison Horst and Julie Lowndes on the Openscapes blog. If you are just getting started with Git, I suggest using a standalone",
    "crumbs": [
      "Blog",
      "Quarto"
    ]
  },
  {
    "objectID": "blog/knitr/index.html",
    "href": "blog/knitr/index.html",
    "title": "Knitr",
    "section": "",
    "text": "Back to top",
    "crumbs": [
      "Blog",
      "Knitr"
    ]
  },
  {
    "objectID": "blog/observable/index.html",
    "href": "blog/observable/index.html",
    "title": "Observable",
    "section": "",
    "text": "Decalendar1 is a decimal calendarüóìÔ∏èsystem and Declock2 is a decimal timekeeping‚è≥system. Instead of months, weeks, hours, minutes, and seconds, Decalendar and Declock use a number called the day-of-the-year (doty)3. Figure¬†1 displays the current doty () as a bar chart. The integer part of the doty is the Decalendar date4 () and the fractional part is the Declock time5 ().\nThe top two bars in Figure¬†1 (Êó¨ and Êó•) show the two components of the Decalendar date (): the dek6 () and the day-of-the-dek7 (). A dek is a group of 10 days that fulfills the role of months and weeks in Decalendar. Therefore, the dek and the day-of-the-dek (dotd) in Decalendar dates are analogous to the month and day-of-the-month (dotm) in calendar dates (mm-dd) and the week and day-of-the-week (dotw) in week dates (Www-d).\nThe bottom three bars in Figure¬†1 (%, ‚Ä∞, and ‚ô´) show components of the Declock time (): cents8 (), mils9 (), and beats10 (). A cent is 1% of the day, which is a little less than a quarter hour. A mil (‚Ä∞) is a tenth of a cent, which is close to a minute and a half. A beat is 1% of a mil, which is almost as long as a second, and can be thought of as a heart‚ù§Ô∏èbeat or musicalüéµbeat with a constant rate or tempo of 69.4ÃÖ beats per minute. In addition to displaying time on clocksüï∞Ô∏èand‚åöÔ∏èwatches, beats can be used to measure durations, such as the time since this webpage was loaded: .\n\n\nCode\n// https://observablehq.com/@fheyen/barchart-clock\n{\nconst W = width &gt; 1250 ? width * 2 / 3 : width &gt; 1150 ? width * 3 / 4 : width &gt; 1050 ? width * 4 / 5 : width &gt; 950 ? width * 5 / 6 : width &gt; 850 ? width : width &gt; 750 ? width * 1.02 : width &gt; 650 ? width * 1.06 : width &gt; 550 ? width * 1.1 : width &gt; 450 ? width * 1.14 : width * 1.18;\n  const H = 156;\n  const barX = 1;\n  const firstBarY = 1;\n  const svg = d3\n    .create(\"svg\")\n    .attr(\"width\", W)\n    .attr(\"viewBox\", [0, 0, W, H]);\n  const xRange = [0, W - 100];\n  const scaleM = d3.scaleLinear()\n    .domain([0, 10])\n    .range(xRange);\n  const scaleCandB = d3.scaleLinear()\n    .domain([0, 100])\n    .range(xRange);\n  const scaleDek = d3.scaleLinear()\n    .domain([0, 37])\n    .range(xRange);\n  // Background bars to show where 100% lies\n  svg.selectAll('.background')\n    .data(['dek', 'dotd', 'cents', \"mils\", 'beats'])\n    .enter()\n    .append('rect')\n    .attr('class', 'background timeBar')\n    .attr('width', W-100)\n    .attr('y', (d,i)=&gt;i*30+firstBarY)\n  // Dek/Dotd\n  svg\n    .append('rect')\n    .attr('class', 'timeBar')\n    .attr('y', firstBarY)\n    .attr('width', d =&gt; scaleDek(Number(dotyDek)+Number(dotyDotd)/10+Number(barCents)/1000))\n  svg\n    .append('rect')\n    .attr('class', 'timeBarFull')\n    .attr('y', firstBarY)\n    .attr('width', d =&gt; scaleDek(dotyDek))\n  svg\n    .append('rect')\n    .attr('class', 'timeBar')\n    .attr('y', firstBarY+30)\n    .attr('width', d =&gt; scaleM(Number(dotyDotd)+Number(barCents)/100+Number(barMils)/1000))\n  svg\n    .append('rect')\n    .attr('class', 'timeBarFull')\n    .attr('y', firstBarY+30)\n    .attr('width', d =&gt; scaleM(dotyDotd))\n  svg.selectAll('.tickDek')\n    .data(d3.range(width &gt; 500 ? 4: 6, 37))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickDek')\n    .attr('x', d=&gt;scaleDek(d)+barX)\n    .attr('y', firstBarY)\n    .attr('height', d=&gt;d%(width &gt; 500 ? 2 : 3)===0? 6:4)\n  // Cent ticks\n  svg.selectAll('.tickDotd')\n    .data(d3.range(width &gt; 500 ? 1: 2, 10))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickDotd')\n    .attr('x', d=&gt;scaleM(d)+barX)\n    .attr('y', firstBarY+49)\n    .attr('height', 6)\n  svg.selectAll('.tickLabel')\n    .data(d3.range(width &gt; 500 ? 4: 6, width &gt; 500 ? 37: 35, width &gt; 500 ? 2: 3))\n    .enter()\n    .append('text')\n    .attr('class', 'tickLabel')\n    .attr('x', d=&gt;scaleDek(d)+barX+.5)\n    .attr('y', firstBarY+22)\n    .text(d=&gt;d)\n  // Cents/Mils\n  svg\n    .append('rect')\n    .attr('class', 'timeBar')\n    .attr('y', firstBarY+60)\n    .attr('width', d =&gt; scaleCandB(Number(barCents)+Number(barMils)/10+Number(barBeats)/1000))\n  svg\n    .append('rect')\n    .attr('class', 'timeBarFull')\n    .attr('y', firstBarY+60)\n    .attr('width', d =&gt; scaleCandB(barCents))\n  svg\n    .append('rect')\n    .attr('class', 'timeBar')\n    .attr('y', firstBarY+90)\n    .attr('width', d =&gt; scaleM(Number(barMils)+Number(barBeats)/100+Number(barMb)/100000))\n  svg\n    .append('rect')\n    .attr('class', 'timeBarFull')\n    .attr('y', firstBarY+90)\n    .attr('width', d =&gt; scaleM(barMils))\n  // Cent ticks\n  svg.selectAll('.tickC')\n    .data(d3.range(width &gt; 500 ? 10 : 20, 100))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickC')\n    .attr('x', d=&gt;scaleM(d/10)+barX)\n    .attr('y', firstBarY+60)\n    .attr('height', d=&gt;d%2===0? 8:5)\n  svg.selectAll('.tickC1')\n    .data(d3.range(width &gt; 500 ? 10 : 20, 100))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickC1')\n    .attr('x', d=&gt;scaleM(d/10)+barX)\n    .attr('y', d=&gt;d%2===0? firstBarY+77:firstBarY+80)\n    .attr('height', d=&gt;d%2===0? 8:5)\n  // Mil ticks\n  svg.selectAll('.tickM')\n    .data(d3.range(width &gt; 500 ? 1 : 2, 10))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickM')\n    .attr('x', d=&gt;scaleM(d)+barX)\n    .attr('y', firstBarY+90)\n    .attr('height', 6)\n  svg.selectAll('.tickM1')\n    .data(d3.range(width &gt; 500 ? 1 : 2, 10))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickM1')\n    .attr('x', d=&gt;scaleM(d)+barX)\n    .attr('y', firstBarY+92.5)\n    .attr('height', 2.5)\n  svg.selectAll('.tickLabel1')\n    .data(d3.range(width &gt; 500 ? 1 : 2, 10))\n    .enter()\n    .append('text')\n    .attr('class', 'tickLabel1')\n    .attr('x', d=&gt;scaleM(d)+barX+.5)\n    .attr('y', firstBarY+47)\n    .text(d=&gt;d)\n  svg.selectAll('.tickLabel2')\n    .data(d3.range(width &gt; 500 ? 1 : 2, 10))\n    .enter()\n    .append('text')\n    .attr('class', 'tickLabel2')\n    .attr('x', d=&gt;scaleM(d)+barX+.5)\n    .attr('y', firstBarY+112)\n    .text(d=&gt;d)\n  // Beats\n  svg\n    .append('rect')\n    .attr('class', 'timeBar')\n    .attr('y', firstBarY+120)\n    .attr('width', d =&gt; scaleCandB(Number(barBeats)+Number(barMb)/1000))\n  svg\n    .append('rect')\n    .attr('class', 'timeBarFull')\n    .attr('y', firstBarY+120)\n    .attr('width', d =&gt; scaleCandB(barBeats))\n  // Beat ticks\n  svg.selectAll('.tickB')\n    .data(d3.range(width &gt; 500 ? 10 : 20, 100))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickB')\n    .attr('x', d=&gt;scaleM(d/10)+barX)\n    .attr('y', firstBarY+120)\n    .attr('height', d=&gt;d%2===0? 9:6)\n  // Labels\n  svg.selectAll('.timeLabel')\n    .data([`${dotyDek}Êó¨`, `${dotyDotd}Êó•`, `${barCents}%`, `${barMils}‚Ä∞`, `${barBeats}‚ô´`])\n    .enter()\n    .append('text')\n    .attr('class', 'timeLabel')\n    .attr('x', barX+2)\n    .attr('y', (d,i)=&gt;i*30+firstBarY+20)\n    .text(d=&gt;d)\n  return svg.node();\n}\n\n\n\n\n\n\n\n\n\nFigure¬†1: Doty bar chart\n\n\n\n\n\n\nCode\nhtml`&lt;style&gt;\n  .tickLabel, .tickLabel1, .tickLabel2, .timeLabel {\n    fill: #000;\n    font-family: sans-serif;\n    font-size: 20px;\n    text-anchor: middle;\n  }\n  .timeLabel {\n    text-anchor: start;\n  }\n  .timeBar, .timeBarFull {\n    x: 1px;\n    height: 25px;\n    rx: 5px;\n    stroke: #aaa;\n  }\n  .timeBar {\n    fill: #e8e8e8;\n  }\n  .timeBarFull {\n    fill: #ccffff;\n  }\n  .background {\n    fill: white;\n  }\n  .tickDek, .tickDotd, .tickDotd1, .tickC, .tickC1, .tickM, .tickM1, .tickB {\n    stroke: none;\n    fill: #666;\n    width: 1px;\n  }\n&lt;/style&gt;`\n\n\n\n\n\n\n\nAs an alternative to doty dates, Decalendar can express dates in fractional years, which are similar to the fractional days used in doty times. Fractional year dates11 can be combined with years into one number and are useful for marking periods of 73 days in the Decalendar year. Every 73 days, the Decalendar fractional year date increases by .2 (‚Öï). The current Decalendar fractional year date is .\nNow it‚Äôs your turn! Move the slidersüéöÔ∏èin Example¬†1 to adjust the doty, fractional year, month, and dotm values and see the corresponding 1) Northern Hemisphere season, 2) Southern Hemisphere season, and 3) Zodiac sign in List¬†1. Try selecting a special date, like your birthdayüéÇ! You can also press the Play‚ñ∂Ô∏èbutton and then sit back and watch the sliders cycleüîÑback and forth from the start to the end of the Decalendar year. The sliders cycle through an entire year in 36.5 beats, a million times fasterüèéÔ∏èthan the actual speed of time!\n\nExample 1 ¬†\n\n\n\n\nCode\nviewof inputDoty = Inputs.range([0, 365], {value: 306, step: 1, label: \"doty\"});\n\nviewof year = transformInput(\n    Inputs.range([0, .999], {step: .001, label: \"year\"}),\n    {bind: viewof inputDoty, transform: (x =&gt; x / 365), invert: (x =&gt; x * 365)}\n);\n\nviewof monthInput = transformInput(\n    Inputs.range([1, 12], {step: 1, label: \"month\"}),\n    {bind: viewof inputDoty, transform: doty2month, invert: month2doty}\n);\n\nviewof dotmInput = transformInput(\n    Inputs.range([1, 31], {step: 1, label: \"dotm\"}),\n    {bind: viewof inputDoty, transform: doty2dotm, invert: (x =&gt; Math.floor(( 153 * (\n        viewof monthInput.value &gt; 2\n        ? viewof monthInput.value - 3\n        : viewof monthInput.value + 9) + 2\n    ) / 5 + x - 1\n))});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof scrubberDoty = Scrubber(numbers, {autoplay: false, alternate: true, delay: 86.4, loopDelay: 864})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nList¬†1: Date to season conversion",
    "crumbs": [
      "Blog",
      "Observable"
    ]
  },
  {
    "objectID": "blog/observable/index.html#sec-intro-doty",
    "href": "blog/observable/index.html#sec-intro-doty",
    "title": "Observable",
    "section": "",
    "text": "Decalendar1 is a decimal calendarüóìÔ∏èsystem and Declock2 is a decimal timekeeping‚è≥system. Instead of months, weeks, hours, minutes, and seconds, Decalendar and Declock use a number called the day-of-the-year (doty)3. Figure¬†1 displays the current doty () as a bar chart. The integer part of the doty is the Decalendar date4 () and the fractional part is the Declock time5 ().\nThe top two bars in Figure¬†1 (Êó¨ and Êó•) show the two components of the Decalendar date (): the dek6 () and the day-of-the-dek7 (). A dek is a group of 10 days that fulfills the role of months and weeks in Decalendar. Therefore, the dek and the day-of-the-dek (dotd) in Decalendar dates are analogous to the month and day-of-the-month (dotm) in calendar dates (mm-dd) and the week and day-of-the-week (dotw) in week dates (Www-d).\nThe bottom three bars in Figure¬†1 (%, ‚Ä∞, and ‚ô´) show components of the Declock time (): cents8 (), mils9 (), and beats10 (). A cent is 1% of the day, which is a little less than a quarter hour. A mil (‚Ä∞) is a tenth of a cent, which is close to a minute and a half. A beat is 1% of a mil, which is almost as long as a second, and can be thought of as a heart‚ù§Ô∏èbeat or musicalüéµbeat with a constant rate or tempo of 69.4ÃÖ beats per minute. In addition to displaying time on clocksüï∞Ô∏èand‚åöÔ∏èwatches, beats can be used to measure durations, such as the time since this webpage was loaded: .\n\n\nCode\n// https://observablehq.com/@fheyen/barchart-clock\n{\nconst W = width &gt; 1250 ? width * 2 / 3 : width &gt; 1150 ? width * 3 / 4 : width &gt; 1050 ? width * 4 / 5 : width &gt; 950 ? width * 5 / 6 : width &gt; 850 ? width : width &gt; 750 ? width * 1.02 : width &gt; 650 ? width * 1.06 : width &gt; 550 ? width * 1.1 : width &gt; 450 ? width * 1.14 : width * 1.18;\n  const H = 156;\n  const barX = 1;\n  const firstBarY = 1;\n  const svg = d3\n    .create(\"svg\")\n    .attr(\"width\", W)\n    .attr(\"viewBox\", [0, 0, W, H]);\n  const xRange = [0, W - 100];\n  const scaleM = d3.scaleLinear()\n    .domain([0, 10])\n    .range(xRange);\n  const scaleCandB = d3.scaleLinear()\n    .domain([0, 100])\n    .range(xRange);\n  const scaleDek = d3.scaleLinear()\n    .domain([0, 37])\n    .range(xRange);\n  // Background bars to show where 100% lies\n  svg.selectAll('.background')\n    .data(['dek', 'dotd', 'cents', \"mils\", 'beats'])\n    .enter()\n    .append('rect')\n    .attr('class', 'background timeBar')\n    .attr('width', W-100)\n    .attr('y', (d,i)=&gt;i*30+firstBarY)\n  // Dek/Dotd\n  svg\n    .append('rect')\n    .attr('class', 'timeBar')\n    .attr('y', firstBarY)\n    .attr('width', d =&gt; scaleDek(Number(dotyDek)+Number(dotyDotd)/10+Number(barCents)/1000))\n  svg\n    .append('rect')\n    .attr('class', 'timeBarFull')\n    .attr('y', firstBarY)\n    .attr('width', d =&gt; scaleDek(dotyDek))\n  svg\n    .append('rect')\n    .attr('class', 'timeBar')\n    .attr('y', firstBarY+30)\n    .attr('width', d =&gt; scaleM(Number(dotyDotd)+Number(barCents)/100+Number(barMils)/1000))\n  svg\n    .append('rect')\n    .attr('class', 'timeBarFull')\n    .attr('y', firstBarY+30)\n    .attr('width', d =&gt; scaleM(dotyDotd))\n  svg.selectAll('.tickDek')\n    .data(d3.range(width &gt; 500 ? 4: 6, 37))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickDek')\n    .attr('x', d=&gt;scaleDek(d)+barX)\n    .attr('y', firstBarY)\n    .attr('height', d=&gt;d%(width &gt; 500 ? 2 : 3)===0? 6:4)\n  // Cent ticks\n  svg.selectAll('.tickDotd')\n    .data(d3.range(width &gt; 500 ? 1: 2, 10))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickDotd')\n    .attr('x', d=&gt;scaleM(d)+barX)\n    .attr('y', firstBarY+49)\n    .attr('height', 6)\n  svg.selectAll('.tickLabel')\n    .data(d3.range(width &gt; 500 ? 4: 6, width &gt; 500 ? 37: 35, width &gt; 500 ? 2: 3))\n    .enter()\n    .append('text')\n    .attr('class', 'tickLabel')\n    .attr('x', d=&gt;scaleDek(d)+barX+.5)\n    .attr('y', firstBarY+22)\n    .text(d=&gt;d)\n  // Cents/Mils\n  svg\n    .append('rect')\n    .attr('class', 'timeBar')\n    .attr('y', firstBarY+60)\n    .attr('width', d =&gt; scaleCandB(Number(barCents)+Number(barMils)/10+Number(barBeats)/1000))\n  svg\n    .append('rect')\n    .attr('class', 'timeBarFull')\n    .attr('y', firstBarY+60)\n    .attr('width', d =&gt; scaleCandB(barCents))\n  svg\n    .append('rect')\n    .attr('class', 'timeBar')\n    .attr('y', firstBarY+90)\n    .attr('width', d =&gt; scaleM(Number(barMils)+Number(barBeats)/100+Number(barMb)/100000))\n  svg\n    .append('rect')\n    .attr('class', 'timeBarFull')\n    .attr('y', firstBarY+90)\n    .attr('width', d =&gt; scaleM(barMils))\n  // Cent ticks\n  svg.selectAll('.tickC')\n    .data(d3.range(width &gt; 500 ? 10 : 20, 100))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickC')\n    .attr('x', d=&gt;scaleM(d/10)+barX)\n    .attr('y', firstBarY+60)\n    .attr('height', d=&gt;d%2===0? 8:5)\n  svg.selectAll('.tickC1')\n    .data(d3.range(width &gt; 500 ? 10 : 20, 100))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickC1')\n    .attr('x', d=&gt;scaleM(d/10)+barX)\n    .attr('y', d=&gt;d%2===0? firstBarY+77:firstBarY+80)\n    .attr('height', d=&gt;d%2===0? 8:5)\n  // Mil ticks\n  svg.selectAll('.tickM')\n    .data(d3.range(width &gt; 500 ? 1 : 2, 10))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickM')\n    .attr('x', d=&gt;scaleM(d)+barX)\n    .attr('y', firstBarY+90)\n    .attr('height', 6)\n  svg.selectAll('.tickM1')\n    .data(d3.range(width &gt; 500 ? 1 : 2, 10))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickM1')\n    .attr('x', d=&gt;scaleM(d)+barX)\n    .attr('y', firstBarY+92.5)\n    .attr('height', 2.5)\n  svg.selectAll('.tickLabel1')\n    .data(d3.range(width &gt; 500 ? 1 : 2, 10))\n    .enter()\n    .append('text')\n    .attr('class', 'tickLabel1')\n    .attr('x', d=&gt;scaleM(d)+barX+.5)\n    .attr('y', firstBarY+47)\n    .text(d=&gt;d)\n  svg.selectAll('.tickLabel2')\n    .data(d3.range(width &gt; 500 ? 1 : 2, 10))\n    .enter()\n    .append('text')\n    .attr('class', 'tickLabel2')\n    .attr('x', d=&gt;scaleM(d)+barX+.5)\n    .attr('y', firstBarY+112)\n    .text(d=&gt;d)\n  // Beats\n  svg\n    .append('rect')\n    .attr('class', 'timeBar')\n    .attr('y', firstBarY+120)\n    .attr('width', d =&gt; scaleCandB(Number(barBeats)+Number(barMb)/1000))\n  svg\n    .append('rect')\n    .attr('class', 'timeBarFull')\n    .attr('y', firstBarY+120)\n    .attr('width', d =&gt; scaleCandB(barBeats))\n  // Beat ticks\n  svg.selectAll('.tickB')\n    .data(d3.range(width &gt; 500 ? 10 : 20, 100))\n    .enter()\n    .append('rect')\n    .attr('class', 'tickB')\n    .attr('x', d=&gt;scaleM(d/10)+barX)\n    .attr('y', firstBarY+120)\n    .attr('height', d=&gt;d%2===0? 9:6)\n  // Labels\n  svg.selectAll('.timeLabel')\n    .data([`${dotyDek}Êó¨`, `${dotyDotd}Êó•`, `${barCents}%`, `${barMils}‚Ä∞`, `${barBeats}‚ô´`])\n    .enter()\n    .append('text')\n    .attr('class', 'timeLabel')\n    .attr('x', barX+2)\n    .attr('y', (d,i)=&gt;i*30+firstBarY+20)\n    .text(d=&gt;d)\n  return svg.node();\n}\n\n\n\n\n\n\n\n\n\nFigure¬†1: Doty bar chart\n\n\n\n\n\n\nCode\nhtml`&lt;style&gt;\n  .tickLabel, .tickLabel1, .tickLabel2, .timeLabel {\n    fill: #000;\n    font-family: sans-serif;\n    font-size: 20px;\n    text-anchor: middle;\n  }\n  .timeLabel {\n    text-anchor: start;\n  }\n  .timeBar, .timeBarFull {\n    x: 1px;\n    height: 25px;\n    rx: 5px;\n    stroke: #aaa;\n  }\n  .timeBar {\n    fill: #e8e8e8;\n  }\n  .timeBarFull {\n    fill: #ccffff;\n  }\n  .background {\n    fill: white;\n  }\n  .tickDek, .tickDotd, .tickDotd1, .tickC, .tickC1, .tickM, .tickM1, .tickB {\n    stroke: none;\n    fill: #666;\n    width: 1px;\n  }\n&lt;/style&gt;`\n\n\n\n\n\n\n\nAs an alternative to doty dates, Decalendar can express dates in fractional years, which are similar to the fractional days used in doty times. Fractional year dates11 can be combined with years into one number and are useful for marking periods of 73 days in the Decalendar year. Every 73 days, the Decalendar fractional year date increases by .2 (‚Öï). The current Decalendar fractional year date is .\nNow it‚Äôs your turn! Move the slidersüéöÔ∏èin Example¬†1 to adjust the doty, fractional year, month, and dotm values and see the corresponding 1) Northern Hemisphere season, 2) Southern Hemisphere season, and 3) Zodiac sign in List¬†1. Try selecting a special date, like your birthdayüéÇ! You can also press the Play‚ñ∂Ô∏èbutton and then sit back and watch the sliders cycleüîÑback and forth from the start to the end of the Decalendar year. The sliders cycle through an entire year in 36.5 beats, a million times fasterüèéÔ∏èthan the actual speed of time!\n\nExample 1 ¬†\n\n\n\n\nCode\nviewof inputDoty = Inputs.range([0, 365], {value: 306, step: 1, label: \"doty\"});\n\nviewof year = transformInput(\n    Inputs.range([0, .999], {step: .001, label: \"year\"}),\n    {bind: viewof inputDoty, transform: (x =&gt; x / 365), invert: (x =&gt; x * 365)}\n);\n\nviewof monthInput = transformInput(\n    Inputs.range([1, 12], {step: 1, label: \"month\"}),\n    {bind: viewof inputDoty, transform: doty2month, invert: month2doty}\n);\n\nviewof dotmInput = transformInput(\n    Inputs.range([1, 31], {step: 1, label: \"dotm\"}),\n    {bind: viewof inputDoty, transform: doty2dotm, invert: (x =&gt; Math.floor(( 153 * (\n        viewof monthInput.value &gt; 2\n        ? viewof monthInput.value - 3\n        : viewof monthInput.value + 9) + 2\n    ) / 5 + x - 1\n))});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof scrubberDoty = Scrubber(numbers, {autoplay: false, alternate: true, delay: 86.4, loopDelay: 864})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nList¬†1: Date to season conversion",
    "crumbs": [
      "Blog",
      "Observable"
    ]
  },
  {
    "objectID": "blog/observable/index.html#sec-intro-year",
    "href": "blog/observable/index.html#sec-intro-year",
    "title": "Observable",
    "section": "Year",
    "text": "Year\nDoty dates (day) and timestamps (day.stamp) do not include years and thus can be reused from year to year. When a doty is combined with a year, it forms a Decalendar ordinal12 (deco) and represents a specific date (year+day) or time (year+day.stamp) in a specific year, instead of a date (day) or time (day.stamp) that occurs every year or every leap year. Using the Observable datetime input in Example¬†2, you can select a year, month, dotm, hour, and minute to see the equivalent 1) deco timestamp (year+day.clock) and 2) year date (year.yyy) in List¬†2. For comparison, the current deco timestamp is .\n\nExample 2 ¬†\n\n\n\n\nCode\nviewof inputDatetime = Inputs.datetime({label: \"date\", value: \"1970-01-01T00:00\"})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nList¬†2: Date and time conversion\n\n\n\n\nIn Example¬†3, you can enter numeric year and doty values or type in a free-form deco to see the resulting 1) ISO 8601 timestamp (year-mm-ddThh:mm:ss) and 2) year date in List¬†3. Example¬†3 also has a Play‚ñ∂Ô∏èbutton in that cycles from Day 0 to Day 365 of Year 1969. The cycle goes up to Day 0 of Year 1970, because Year 1969 is a common year and does not have a Day 365.\nInteracting with the number inputs in Example¬†3, standardizes the deco in the text input to ensure years are integers and doty values are positive numbers below 366. Nevertheless, all of the inputs in Example¬†3 support negative and fractional year and doty values. Negative doty values shift dates backward in time from the start of a given year into a previous year. Similarly, negative years shift dates backward starting from Year 0, which is 1 BCE (Before the Common Era).\n\nExample 3 ¬†\n\n\n\n\nCode\nviewof yd = Inputs.form([\n  Inputs.number({label: \"year\", value: \"1969\"}),\n  Inputs.number({label: \"doty\", value: \"306\"})\n])\n\n\n\n\n\n\n\n\n\nCode\nviewof decoOutput = transformInput(\n  Inputs.text({label: \"deco\", placeholder: \"year+day.ddd\", value: \"1969+306\"}),\n  {bind: viewof yd, transform: doty2deco, invert: deco2doty});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof scrubberDeco = Scrubber(numbers, {autoplay: false, alternate: true, delay: 86.4, loopDelay: 864})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nList¬†3: Deco timestamp conversion",
    "crumbs": [
      "Blog",
      "Observable"
    ]
  },
  {
    "objectID": "blog/observable/index.html#sec-intro-dek",
    "href": "blog/observable/index.html#sec-intro-dek",
    "title": "Observable",
    "section": "Dek",
    "text": "Dek\nAs mentioned in Section¬†0.1, deks function as both months and weeks in Decalendar. A dek consists of 2 groups of 5 days called pents13. Each pent can follow a sequence of workdays and restdays called a pently schedule14. fig-schedules compares the typical weekly schedule and the Schedule 3 pently schedule. Like other pently schedules, Schedule 3 is named after the number of workdays it contains. The 3 workdays in Schedule 3 are followed by a 2-day pentend, the Decalender equivalent of a weekend.\nUnlike Schedule 3 and the other pently schedules, the weekly schedule is asymmetric and divides up workdays into proportions that are easier to express as fractions: 3/8 (.375), 1/3 (.3ÃÖ), and 7/24 (0.2916ÃÖ). In contrast, pently schedules divides each workday into simple, symmetrical proportions that are never repeating decimal numbers. The Schedule 3 workday is longer the typical 9-to-5, but the longer workday is compensated by more frequent restdays.\nExample¬†4 provides the opportunity to explore all four of the pently schedules. Schedule 3 is the default pently schedule, and should be followed unless there is a compelling reason to do otherwise. Despite having different numbers of workdays, all pently schedules keep the amount of spent at work constant at 1.2 days (120 cents) per pent. Every pently schedule also splits up workdays symmetrically so that the time before work is equal to the time after work. You can select which schedule to view in Example¬†4 using the Observable radio inputs.\nYou can also use the interval sliders to create a custom schedule and the Download‚¨áÔ∏èbutton to obtain the schedule data. Each interval is summarized by a Declock slice shown next to its slider. Decalendar and Declock slices are inspired by array slicing in computer programming and are used to represent date and time intervals. The slice that summarizes the Schedule 3 workday is .3:.7, where .3 (7.2 hours) is the start and .7 (16.8 hours) is the stop.\n\nExample 4 ¬†\n\n\n\n\nCode\nviewof intervals = Inputs.form([\n  interval([0, 1], {step: .01, value: [.3, .7], label: '0 or 5', width: 250, format: ([start, end]) =&gt; start === end ? \"\" : `${formatDecimal(start)}:${formatDecimal(end)}`}),\n  interval([0, 1], {step: .01, value: [.3, .7], label: '1 or 6', width: 250, format: ([start, end]) =&gt; start === end ? \"\" : `${formatDecimal(start)}:${formatDecimal(end)}`}),\n  interval([0, 1], {step: .01, value: [.3, .7], label: '2 or 7', width: 250, format: ([start, end]) =&gt; start === end ? \"\" : `${formatDecimal(start)}:${formatDecimal(end)}`}),\n  interval([0, 1], {step: .01, value: [0, 0], label: '3 or 8', width: 250, format: ([start, end]) =&gt; start === end ? \"\" : `${formatDecimal(start)}:${formatDecimal(end)}`}),\n  interval([0, 1], {step: .01, value: [0, 0], label: '4 or 9', width: 250, format: ([start, end]) =&gt; start === end ? \"\" : `${formatDecimal(start)}:${formatDecimal(end)}`}),\n])\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof schedule = Inputs.radio([2, 3, 4, 5], {label: \"sched.\", value: 3})\n\nviewof filename = Inputs.text({label: \"name\", placeholder: \"Enter the filename\", value: `schedule${schedule}.csv`})\n\nbutton(durations, filename)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n// https://observablehq.com/@dec/pent\nPlot.plot({\n  className: \"schedule-explorer\",\n  x: {label: null},\n  color: {scheme: \"Set1\", legend: \"swatches\", reverse: true},\n  y: {label: null, domain: [1, 0]},\n  marks: [\n  Plot.barY(durations, {x: \"label\", y: \"duration\", fill: \"group\"}),\n  Plot.textY(\n      durations,\n      Plot.stackY(\n        Plot.groupX(\n          { y: \"first\", text: \"first\" },\n          {\n            x: \"label\",\n            z: \"group\",\n            y: \"duration\",\n            text: (d) =&gt; (d.duration &lt; .0001 ? null : formatDecimal(d.duration)),\n            fill: \"white\",\n            stroke: \"black\",\n            fontSize: 36,\n          }\n        )\n      )\n    ),\n  ]})\n\n\n\n\n\n\n\n\n\nFigure¬†2: Pently schedule explorer\n\n\n\n\n\nSlices can be used to select Declock time intervals, as in Example¬†4 above, or Decalendar date intervals, as in Example¬†5 below. Decalendar date intervals can represent events take place over multiple days. In addition to slices, Decalendar and Declock intervals can also be chosen using spreads. Use the Observable button and checkbox inputs in Example¬†5 to display different dotd combinations in Figure¬†3. Figure¬†3 shows dates selected by a slice in blue, dates selected by a spread in orange, dates selected by both in green, and dates selected by neither in gray.\nThe Example¬†5 button and checkbox inputs will modify the associated slice and spread text and numeric inputs as needed to select the desired days-of-the-dek. The numeric inputs for slices are the startüé¨index, the stopüõëindex, and the stepüë£size, which are separated by colons (start:stop:step) when combined into a slice. Similarly, the numeric inputs for spreads are the startüé¨orüõëstop index, the spanü™Ωsize, the split size, and the space size, which are typically delimited by greater-than signs (start&gt;span&gt;split&gt;space) or a mix of greater-than and less-than signs (stop&lt;span&gt;split&gt;space).\nThe numeric inputs in Example¬†5 cannot capture the full power of spreads and slices, because slices can have any number of steps and, likewise, spreads can have any number of alternating split and space sizes. We can select all even or odd days-of-the-dek using a slice with a single step (::2 or 1::2) or a spread with one split-space pair (&gt;&gt;&gt;1 or 1&gt;&gt;&gt;1). More complex patterns, such as prime or composite days-of-the-dek, require multiple step sizes for slices (2:::2:2:5 or 4::2:2::5) or multiple split-space pairs (2&gt;&gt;2&gt;1&gt;&gt;1&gt;&gt;4 or 4&gt;&gt;&gt;1&gt;&gt;1&gt;2&gt;4).\n\nExample 5 ¬†\n\n\nCode\nviewof sliceDotd = Inputs.checkbox([...Array(10).keys()], {label: \"slice\", value: [1, 6]})\n\n\n\n\n\n\n\n\n\nCode\nviewof spreadDotd = Inputs.checkbox([...Array(10).keys()], {label: \"spread\", value: [1, 6]})\n\n\n\n\n\n\n\n\n\nCode\nviewof togglePlot = Inputs.button([\n  [invertDotd ? \"None\" : \"All\", value =&gt; [...Array(10).keys()]],\n  [invertDotd ? \"Even\" : \"Odd\", value =&gt; [1, 3, 5, 7, 9]],\n  [invertDotd ? html`&lt;s&gt;Prime&lt;/s&gt;` : \"Prime\", value =&gt; [2, 3, 5, 7]],\n  [invertDotd ? html`&lt;s&gt;Composite&lt;/s&gt;` : \"Composite\", value =&gt; [4, 6, 8, 9]],\n  [invertDotd ? html`&lt;s&gt;Schedule2&lt;/s&gt;` : \"Schedule2\", value =&gt; [0, 1, 5, 6]],\n  [invertDotd ? html`&lt;s&gt;Schedule3&lt;/s&gt;` : \"Schedule3\", value =&gt; [0, 1, 2, 5, 6, 7]],\n  [invertDotd ? html`&lt;s&gt;Schedule4&lt;/s&gt;` : \"Schedule4\", value =&gt; [0, 1, 2, 3, 5, 6, 7, 8]],\n], {value: [], label: \"select\"})\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof invertDotd = Inputs.toggle({label: \"invert\"})\nviewof sliceOrSpread = toggleSwitch({textOn: invertDotd ? \"Spread\" : 'Slice' , textOff: invertDotd ? \"Slice\" : 'Spread'})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof sliceInputs = Inputs.form([\n    Inputs.number([-366, 366], {step: 1, label: \"start\", value: 1, placeholder: \"Enter start index\"}),\n    Inputs.number([-366, 366], {step: 1, label: \"stop\", value: 366, placeholder: \"Enter stop index\"}),\n    Inputs.number([-366, 366], {step: 1, label: \"step\", value: 5, placeholder: \"Enter step size\"}),\n])\nviewof sliceString = transformInput(\n  Inputs.text({label: \"slice\", placeholder: \"Enter slice string\", value: \"0:366\"}),\n{bind: viewof sliceInputs, transform: encodeSlice, invert: decodeSlice});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nviewof spreadInputs = Inputs.form([\n    Inputs.number([-366, 366], {step: 1, label: \"start\", value: 0, placeholder: \"Enter start index\"}),\n    Inputs.number([-366, 366], {step: 1, label: \"span\", value: 366, placeholder: \"Enter span size\"}),\n    Inputs.number([-366, 366], {step: 1, label: \"split\", value: 3, placeholder: \"Enter split size\"}),\n    Inputs.number([-366, 366], {step: 1, label: \"space\", value: 2, placeholder: \"Enter space size\"}),\n])\nviewof spreadString = transformInput(\n  Inputs.text({label: \"spread\", placeholder: \"Enter spread string\", value: \"0&gt;366&gt;3&gt;2\"}),\n{bind: viewof spreadInputs, transform: encodeSpread, invert: decodeSpread});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\n// https://observablehq.com/@dec/dotd\nPlot.plot({\n  className: \"date-selector\",\n  padding: 0,\n  x: {axis: \"top\", label: null, type: \"band\"},\n  y: {label: null, type: \"band\"},\n  marks: [\n    Plot.cell(dates, {x: d =&gt; d[2], y: d =&gt; d.slice(0, 2), fill: d =&gt;\n      sliceArray.includes(d) && spreadArray.includes(d) ? \"green\" :\n      sliceArray.includes(d) && !spreadArray.includes(d) ? \"blue\" :\n      !sliceArray.includes(d) && spreadArray.includes(d) ? \"orange\" : \"grey\",\n      inset: 0.5}),\n    Plot.text(dates, {\n    x: d =&gt; d[2],\n    y: d =&gt; d.slice(0, 2),\n    fill: \"white\",\n    stroke: \"black\",\n    fontSize: 20})\n  ]\n})\n\n\n\n\n\n\n\n\n\nFigure¬†3: Decalendar date selector",
    "crumbs": [
      "Blog",
      "Observable"
    ]
  },
  {
    "objectID": "blog/jupyter/index.html",
    "href": "blog/jupyter/index.html",
    "title": "Jupyter",
    "section": "",
    "text": "Back to top",
    "crumbs": [
      "Blog",
      "Jupyter"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "",
    "section": "",
    "text": "Greetings! My name is Martin Laptev. \nI am a data scientist and software engineer with a broad scientific background that ranges from biochemistry to epidemiology. I use the JavaScript, Python, and R programming languages along with the UNIX shell to build digital deliverables like cloudinfrastructure, datadashboards, and machinelearning models.\nYou are currently on the Aboutpage of my site. The arrowat the bottom right of this page and the pencilicon in the navigation bar (navbar) will take you to my Blog. Similarly, the other navbar icons lead to my Curriculum Vitae (CV), GitHub, and LinkedIn.\nThe timestamp in the navbar shows the current Dec date() and time(). Dec is a calendar and timekeeping system that I created. Briefly, Dec dates (year+day) count the years since 1 BC and the days since March 1st, while Dec times count fractional days since midnight. In addition to displaying the time of day, fractional days can also be used to measure durations, such as the time since this webpage was loaded: .\n\n\n\nunix = {\n  while(true) {\n    yield Date.now();\n  }\n}\ntick = {\n  let i = 0;\n  while (true) {\n    yield Promises.tick(864, ++i);\n  }\n}\ntickTime = tick % 1e5\n// http://howardhinnant.github.io/date_algorithms.html#civil_from_days\nfunction dote2doty(days = 719468) {\n    const era = Math.floor((days &gt;= 0 ? days : days - 146096) / 146097),\n        dotc = days - era * 146097,\n        yotc = Math.floor((dotc - Math.floor(dotc / 1460)\n        + Math.floor(dotc / 36524) - Math.floor(dotc / 146096)) / 365);\n    return [yotc + era * 400, dotc + Math.floor(yotc / 100)\n        - yotc * 365 - Math.floor(yotc / 4)];\n};\nfunction unix2doty(ms = 0) { return dote2doty(ms / 86400000 + 719468) };\nfunction doty2deco(year = 1969, doty = 306, zone = 0) {\n    const [date, time] = doty.toString().split(\".\")\n    return `${year}+${date.toString().padStart(3, \"0\")}.${\n    time.toString().slice(0, 5).padStart(5, \"0\")}`;\n};\nfunction unix2deco(ms = 0) { return doty2deco(...unix2doty(ms)) };\n// https://observablehq.com/@observablehq/text-color-annotations-in-markdown#textcolor\nfunction setStyle(content, style = {}) {\n  function yiq(color) {\n    const {r, g, b} = d3.rgb(color);\n    return (r * 299 + g * 587 + b * 114) / 1000 / 255; // returns values between 0 and 1\n  }\n  const {\n    background,\n    color = yiq(background) &gt;= 0.6 ? \"#111\" : \"white\",\n    padding = \"0 1px\",\n    borderRadius = \"4px\",\n    fontWeight = 900,\n    fontSize = \"1em\",\n    ...rest\n  } = typeof style === \"string\" ? {background: style} : style;\n  return htl.html`&lt;span style=${{\n    background,\n    color,\n    padding,\n    borderRadius,\n    fontWeight,\n    ...rest\n  }}&gt;${content}&lt;/span&gt;`;\n}\ndeco = unix2deco(unix).slice(0, 14)\ndecoYear = deco.slice(0, 4)\ndecoDate = deco.slice(5, 8)\ndecoTime = deco.slice(9, 14)\nstyledDecoYear = setStyle(decoYear, d3.schemePaired[10])\nstyledDecoDate = setStyle(decoDate, d3.schemePaired[1])\nstyledDecoTime = setStyle(decoTime, d3.schemePaired[2])\nstyledTickTime = setStyle(tickTime, d3.schemePaired[2])\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n Back to top",
    "crumbs": [
      "About"
    ]
  }
]