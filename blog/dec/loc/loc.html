<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Martin Laptev">

<title>Martin Laptev</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<link href="../../../media/deidek.svg" rel="icon" type="image/svg+xml">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": true,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "/",
    "?",
    "h",
    "f",
    "s"
  ],
  "show-item-context": true,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="../../../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../../../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">


<link rel="stylesheet" href="../../../styles.css">
<meta name="twitter:title" content="Martin Laptev">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../media/deidek.svg" alt="Decagon made up of 100 triangles" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Martin Laptev</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Declock</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="sidebar-tools-main tools-wide">
    <a href="https://www.github.com/maptv" title="" class="quarto-navigation-tool px-1" aria-label="" target="_blank"><i class="bi bi-github"></i></a>
    <a href="https://www.linkedin.com/in/maptv" title="" class="quarto-navigation-tool px-1" aria-label="" target="_blank"><i class="bi bi-linkedin"></i></a>
    <a href="mailto:maptv@engineer.com" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-envelope-at"></i></a>
    <div id="quarto-search" class="quarto-navigation-tool px-1" title="Search"></div>
</div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-house-door" role="img">
</i> 
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../about/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-info-circle" role="img">
</i> 
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../cv/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-file-earmark-person" role="img">
</i> 
 <span class="menu-text">CV/Résumé</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../../blog/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-pencil" role="img">
</i> 
 <span class="menu-text">Blog</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../blog/git/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-git" role="img">
</i> 
 <span class="menu-text">Git</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../blog/vscode/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-code" role="img">
</i> 
 <span class="menu-text">VSCode</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../blog/jupyter/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-journal-richtext" role="img">
</i> 
 <span class="menu-text">Jupyter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../blog/quarto/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-markdown" role="img">
</i> 
 <span class="menu-text">Quarto Markdown</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../blog/observable/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-0-circle" role="img">
</i> 
 <span class="menu-text">Observable</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../blog/prob/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-dice-5" role="img">
</i> 
 <span class="menu-text">Probablity</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../blog/llm/index.html" class="sidebar-item-text sidebar-link"><i class="bi bi-translate" role="img">
</i> 
 <span class="menu-text">Language Models</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
        
    </div>
<!-- main -->
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Declock</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta column-page-right">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Martin Laptev </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="9" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 8;"><span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`# Declock`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="13" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 12;"><span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`This notebook discusses Declock, a decimal timekeeping system that records time as the&amp;nbsp;[fractional days](https://en.wikipedia.org/wiki/Decimal_time#Fractional_days:~:text=The%20time%20of%20day%20is%20sometimes%20represented%20as%20a%20decimal%20fraction%20of%20a%20day%20in%20science%20and%20computers.)&amp;nbsp;since midnight. Declock is part of Dec, a [measurement system](https://en.wikipedia.org/wiki/System_of_units_of_measurement#:~:text=a%20collection%20of%20units%20of%20measurement%20and%20rules%20relating%20them%20to%20each%20other) that [I](https://maptv.github.io) created to measure⏳time,📍position,🧭orientation,📐angles, and🔄cycles in [turns](https://en.wikipedia.org/wiki/Turn_%28angle%29#:~:text=a%20unit%20of%20plane%20angle%20measurement%20equal%20to%202%CF%80%C2%A0radians%2C%20360%C2%A0degrees) ([</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`</span><span class="sc">\t</span><span class="vs">au`</span><span class="sc">}</span><span class="vs">](https://en.wikipedia.org/wiki/Turn_%28angle%29#:~:text=the%20Greek%20letter,to%20one%20turn)) instead of months, weeks, hours, minutes, seconds, and degrees. For time measurement, Dec uses days and years, which are turns of a [celestial body](https://en.wikipedia.org/wiki/Astronomical_object#:~:text=a%20single%2C%20tightly%20bound%2C%20contiguous%20entity) on [its axis](https://en.wikipedia.org/wiki/Axial_tilt#:~:text=the%20imaginary%20line%20that%20passes%20through%20both%20the%20north%20pole%20and%20south%20pole) and around [the point it orbits](https://en.wikipedia.org/wiki/Barycenter_%28astronomy%29#:~:text=the%20point%20about%20which%20the%20bodies%20orbit), respectively.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="17" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 16;"><span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Dec uses [metric prefixes](https://en.wikipedia.org/wiki/Metric_prefix#:~:text=a%20unit%20prefix%20that%20precedes%20a%20basic%20unit%20of%20measure%20to%20indicate%20a%20multiple%20or%20submultiple%20of%20the%20unit) to create [submultiples](https://en.wikipedia.org/wiki/Multiple_%28mathematics%29#Submultiple:~:text=of%20%22a%20being-,a%20unit%20fraction,-of%20b%22%20) of turns. The clock and bar chart below show the [decidays](https://en.wikipedia.org/wiki/Decimal_time#:~:text=dividing%20the%20day%20into%2010%20decidays) (top bar and shortest clock hand), millidays (middle bar and longest clock hand), and centimillidays (bottom bar and thinnest clock hand) of the current time at the longitude of the red circle on the [solar terminator](https://en.wikipedia.org/wiki/Terminator_%28solar%29#:~:text=a%20moving%20line%20that%20divides%20the%20daylit%20side%20and%20the%20dark%20night%20side%20of%20a%20planetary%20body) map beneath the clock. Drag the red circle across the time zone borders (vertical gray lines) on the map to see how changing time zones affects the time.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="21" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 20;"><span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co">// https://observablehq.com/@fheyen/barchart-clock</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>barChart <span class="op">=</span> {</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> W <span class="op">=</span> width <span class="op">&gt;</span> <span class="dv">1250</span> <span class="op">?</span> width <span class="op">*</span> <span class="dv">2</span> <span class="op">/</span> <span class="dv">3</span> <span class="op">:</span> width <span class="op">&gt;</span> <span class="dv">1150</span> <span class="op">?</span> width <span class="op">*</span> <span class="dv">3</span> <span class="op">/</span> <span class="dv">4</span> <span class="op">:</span> width <span class="op">&gt;</span> <span class="dv">1050</span> <span class="op">?</span> width <span class="op">*</span> <span class="dv">4</span> <span class="op">/</span> <span class="dv">5</span> <span class="op">:</span> width <span class="op">&gt;</span> <span class="dv">950</span> <span class="op">?</span> width <span class="op">*</span> <span class="dv">5</span> <span class="op">/</span> <span class="dv">6</span> <span class="op">:</span> width <span class="op">&gt;</span> <span class="dv">850</span> <span class="op">?</span> width <span class="op">:</span> width <span class="op">&gt;</span> <span class="dv">750</span> <span class="op">?</span> width <span class="op">*</span> <span class="fl">1.02</span> <span class="op">:</span> width <span class="op">&gt;</span> <span class="dv">650</span> <span class="op">?</span> width <span class="op">*</span> <span class="fl">1.06</span> <span class="op">:</span> width <span class="op">&gt;</span> <span class="dv">550</span> <span class="op">?</span> width <span class="op">*</span> <span class="fl">1.1</span> <span class="op">:</span> width <span class="op">&gt;</span> <span class="dv">450</span> <span class="op">?</span> width <span class="op">*</span> <span class="fl">1.14</span> <span class="op">:</span> width <span class="op">*</span> <span class="fl">1.18</span><span class="op">;</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> H <span class="op">=</span> <span class="dv">88</span><span class="op">;</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> barX <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> firstBarY <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> svg <span class="op">=</span> d3</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">create</span>(<span class="st">"svg"</span>)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"width"</span><span class="op">,</span> W)</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"viewBox"</span><span class="op">,</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> W<span class="op">,</span> H])<span class="op">;</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> xRange <span class="op">=</span> [<span class="dv">0</span><span class="op">,</span> W <span class="op">-</span> <span class="dv">100</span>]<span class="op">;</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> scaleDD <span class="op">=</span> d3<span class="op">.</span><span class="fu">scaleLinear</span>()</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>])</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">range</span>(xRange)<span class="op">;</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> scaleMandB <span class="op">=</span> d3<span class="op">.</span><span class="fu">scaleLinear</span>()</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">100</span>])</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">range</span>(xRange)<span class="op">;</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>  <span class="co">// const scaleDek = d3.scaleLinear()</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  <span class="co">//  .domain([0, 37])</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>  <span class="co">//  .range(xRange);</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Background bars to show where 100% lies</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">'.background'</span>)</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">data</span>([</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>      <span class="co">// 'dek', 'dotd',</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>      <span class="st">'dd'</span><span class="op">,</span> <span class="st">"mils"</span><span class="op">,</span> <span class="st">'beats'</span>])</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'background timeBar'</span>)</span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'width'</span><span class="op">,</span> W<span class="op">-</span><span class="dv">100</span>)</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> (d<span class="op">,</span>i)<span class="kw">=&gt;</span>i<span class="op">*</span><span class="dv">30</span><span class="op">+</span>firstBarY)</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>  <span class="co">// // Dek/Dotd</span></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>  <span class="co">// svg</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .append('rect')</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('class', 'timeBar')</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('y', firstBarY)</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('width', d =&gt; scaleDek(Number(dotyDek)+Number(dotyDotd)/10+Number(barCents)/1000))</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>  <span class="co">// svg</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .append('rect')</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('class', 'timeBarFull')</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('y', firstBarY)</span></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('width', d =&gt; scaleDek(dotyDek))</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>  <span class="co">// svg</span></span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .append('rect')</span></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('class', 'timeBar')</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('y', firstBarY+30)</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('width', d =&gt; scaleM(Number(dotyDotd)+Number(barCents)/100+Number(barMils)/1000))</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>  <span class="co">// svg</span></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .append('rect')</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('class', 'timeBarFull')</span></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('y', firstBarY+30)</span></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('width', d =&gt; scaleM(dotyDotd))</span></span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>  <span class="co">// svg.selectAll('.tickDek')</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .data(d3.range(width &gt; 500 ? 4: 6, 37))</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .enter()</span></span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .append('rect')</span></span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('class', 'tickDek')</span></span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('x', d=&gt;scaleDek(d)+barX)</span></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('y', firstBarY)</span></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('height', d=&gt;d%(width &gt; 500 ? 2 : 3)===0? 6:4)</span></span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Cent ticks</span></span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>  <span class="co">// svg.selectAll('.tickDotd')</span></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .data(d3.range(width &gt; 500 ? 1: 2, 10))</span></span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .enter()</span></span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .append('rect')</span></span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('class', 'tickDotd')</span></span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('x', d=&gt;scaleM(d)+barX)</span></span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('y', firstBarY+49)</span></span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('height', 6)</span></span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>  <span class="co">// svg.selectAll('.tickLabel')</span></span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .data(d3.range(width &gt; 500 ? 4: 6, width &gt; 500 ? 37: 35, width &gt; 500 ? 2: 3))</span></span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .enter()</span></span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .append('text')</span></span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('class', 'tickLabel')</span></span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('x', d=&gt;scaleDek(d)+barX+.5)</span></span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('y', firstBarY+22)</span></span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .text(d=&gt;d)</span></span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Beats</span></span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>  svg</span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'timeBar'</span>)</span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> firstBarY<span class="op">+</span><span class="dv">60</span>)</span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'width'</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="fu">scaleMandB</span>(<span class="bu">Number</span>(barBeats)<span class="op">+</span><span class="bu">Number</span>(barMb)<span class="op">/</span><span class="dv">1000</span>))</span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a>  svg</span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'timeBarFull'</span>)</span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> firstBarY<span class="op">+</span><span class="dv">60</span>)</span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'width'</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="fu">scaleMandB</span>(barBeats))</span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Cents/Mils</span></span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a>  svg</span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'timeBar'</span>)</span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> firstBarY)</span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'width'</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="fu">scaleDD</span>(<span class="bu">Number</span>(barDD)<span class="op">+</span><span class="bu">Number</span>(barMils)<span class="op">/</span><span class="dv">100</span><span class="op">+</span><span class="bu">Number</span>(barBeats)<span class="op">/</span><span class="dv">10000</span><span class="op">+</span><span class="bu">Number</span>(barMb)<span class="op">/</span><span class="dv">10000000</span>))</span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a>  svg</span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-116"><a href="#cb4-116" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'timeBarFull'</span>)</span>
<span id="cb4-117"><a href="#cb4-117" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> firstBarY)</span>
<span id="cb4-118"><a href="#cb4-118" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'width'</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="fu">scaleDD</span>(barDD))</span>
<span id="cb4-119"><a href="#cb4-119" aria-hidden="true" tabindex="-1"></a>  svg</span>
<span id="cb4-120"><a href="#cb4-120" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-121"><a href="#cb4-121" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'timeBar'</span>)</span>
<span id="cb4-122"><a href="#cb4-122" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> firstBarY<span class="op">+</span><span class="dv">30</span>)</span>
<span id="cb4-123"><a href="#cb4-123" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'width'</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="fu">scaleMandB</span>(<span class="bu">Number</span>(barMils)<span class="op">/</span><span class="dv">10</span><span class="op">+</span><span class="bu">Number</span>(barBeats)<span class="op">/</span><span class="dv">1000</span>))</span>
<span id="cb4-124"><a href="#cb4-124" aria-hidden="true" tabindex="-1"></a>  svg</span>
<span id="cb4-125"><a href="#cb4-125" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-126"><a href="#cb4-126" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'timeBarFull'</span>)</span>
<span id="cb4-127"><a href="#cb4-127" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> firstBarY<span class="op">+</span><span class="dv">30</span>)</span>
<span id="cb4-128"><a href="#cb4-128" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'width'</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="fu">scaleMandB</span>(barMils))</span>
<span id="cb4-129"><a href="#cb4-129" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Cent ticks</span></span>
<span id="cb4-130"><a href="#cb4-130" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">'.tickC'</span>)</span>
<span id="cb4-131"><a href="#cb4-131" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">data</span>(d3<span class="op">.</span><span class="fu">range</span>(width <span class="op">&gt;</span> <span class="dv">500</span> <span class="op">?</span> <span class="dv">10</span> <span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">100</span>))</span>
<span id="cb4-132"><a href="#cb4-132" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb4-133"><a href="#cb4-133" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-134"><a href="#cb4-134" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'tickC'</span>)</span>
<span id="cb4-135"><a href="#cb4-135" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'x'</span><span class="op">,</span> d<span class="kw">=&gt;</span><span class="fu">scaleDD</span>(d<span class="op">/</span><span class="dv">10</span>)<span class="op">+</span>barX)</span>
<span id="cb4-136"><a href="#cb4-136" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> firstBarY<span class="op">+</span><span class="dv">30</span>)</span>
<span id="cb4-137"><a href="#cb4-137" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'height'</span><span class="op">,</span> d<span class="kw">=&gt;</span>d<span class="op">%</span><span class="dv">2</span><span class="op">===</span><span class="dv">0</span><span class="op">?</span> <span class="dv">8</span><span class="op">:</span><span class="dv">5</span>)</span>
<span id="cb4-138"><a href="#cb4-138" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">'.tickB1'</span>)</span>
<span id="cb4-139"><a href="#cb4-139" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">data</span>(d3<span class="op">.</span><span class="fu">range</span>(width <span class="op">&gt;</span> <span class="dv">500</span> <span class="op">?</span> <span class="dv">10</span> <span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">100</span>))</span>
<span id="cb4-140"><a href="#cb4-140" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb4-141"><a href="#cb4-141" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-142"><a href="#cb4-142" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'tickB1'</span>)</span>
<span id="cb4-143"><a href="#cb4-143" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'x'</span><span class="op">,</span> d<span class="kw">=&gt;</span><span class="fu">scaleDD</span>(d<span class="op">/</span><span class="dv">10</span>)<span class="op">+</span>barX)</span>
<span id="cb4-144"><a href="#cb4-144" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> d<span class="kw">=&gt;</span>d<span class="op">%</span><span class="dv">2</span><span class="op">===</span><span class="dv">0</span><span class="op">?</span> firstBarY<span class="op">+</span><span class="dv">77</span><span class="op">:</span>firstBarY<span class="op">+</span><span class="dv">80</span>)</span>
<span id="cb4-145"><a href="#cb4-145" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'height'</span><span class="op">,</span> d<span class="kw">=&gt;</span>d<span class="op">%</span><span class="dv">2</span><span class="op">===</span><span class="dv">0</span><span class="op">?</span> <span class="dv">8</span><span class="op">:</span><span class="dv">5</span>)</span>
<span id="cb4-146"><a href="#cb4-146" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">'.tickC1'</span>)</span>
<span id="cb4-147"><a href="#cb4-147" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">data</span>(d3<span class="op">.</span><span class="fu">range</span>(width <span class="op">&gt;</span> <span class="dv">500</span> <span class="op">?</span> <span class="dv">10</span> <span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">100</span>))</span>
<span id="cb4-148"><a href="#cb4-148" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb4-149"><a href="#cb4-149" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-150"><a href="#cb4-150" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'tickC1'</span>)</span>
<span id="cb4-151"><a href="#cb4-151" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'x'</span><span class="op">,</span> d<span class="kw">=&gt;</span><span class="fu">scaleDD</span>(d<span class="op">/</span><span class="dv">10</span>)<span class="op">+</span>barX)</span>
<span id="cb4-152"><a href="#cb4-152" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> d<span class="kw">=&gt;</span>d<span class="op">%</span><span class="dv">2</span><span class="op">===</span><span class="dv">0</span><span class="op">?</span> firstBarY<span class="op">+</span><span class="dv">47</span><span class="op">:</span>firstBarY<span class="op">+</span><span class="dv">50</span>)</span>
<span id="cb4-153"><a href="#cb4-153" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'height'</span><span class="op">,</span> d<span class="kw">=&gt;</span>d<span class="op">%</span><span class="dv">2</span><span class="op">===</span><span class="dv">0</span><span class="op">?</span> <span class="dv">8</span><span class="op">:</span><span class="dv">5</span>)</span>
<span id="cb4-154"><a href="#cb4-154" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Mil ticks</span></span>
<span id="cb4-155"><a href="#cb4-155" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">'.tickM'</span>)</span>
<span id="cb4-156"><a href="#cb4-156" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">data</span>(d3<span class="op">.</span><span class="fu">range</span>(width <span class="op">&gt;</span> <span class="dv">500</span> <span class="op">?</span> <span class="dv">1</span> <span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">10</span>))</span>
<span id="cb4-157"><a href="#cb4-157" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb4-158"><a href="#cb4-158" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-159"><a href="#cb4-159" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'tickM'</span>)</span>
<span id="cb4-160"><a href="#cb4-160" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'x'</span><span class="op">,</span> d<span class="kw">=&gt;</span><span class="fu">scaleDD</span>(d)<span class="op">+</span>barX)</span>
<span id="cb4-161"><a href="#cb4-161" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> firstBarY<span class="op">+</span><span class="dv">20</span>)</span>
<span id="cb4-162"><a href="#cb4-162" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'height'</span><span class="op">,</span> <span class="dv">6</span>)</span>
<span id="cb4-163"><a href="#cb4-163" aria-hidden="true" tabindex="-1"></a>  <span class="co">// svg.selectAll('.tickM1')</span></span>
<span id="cb4-164"><a href="#cb4-164" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .data(d3.range(width &gt; 500 ? 1 : 2, 10))</span></span>
<span id="cb4-165"><a href="#cb4-165" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .enter()</span></span>
<span id="cb4-166"><a href="#cb4-166" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .append('rect')</span></span>
<span id="cb4-167"><a href="#cb4-167" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('class', 'tickM1')</span></span>
<span id="cb4-168"><a href="#cb4-168" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('x', d=&gt;scaleM(d)+barX)</span></span>
<span id="cb4-169"><a href="#cb4-169" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('y', firstBarY+32.5)</span></span>
<span id="cb4-170"><a href="#cb4-170" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('height', 2.5)</span></span>
<span id="cb4-171"><a href="#cb4-171" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">'.tickLabel1'</span>)</span>
<span id="cb4-172"><a href="#cb4-172" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">data</span>(d3<span class="op">.</span><span class="fu">range</span>(width <span class="op">&gt;</span> <span class="dv">500</span> <span class="op">?</span> <span class="dv">1</span> <span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">10</span>))</span>
<span id="cb4-173"><a href="#cb4-173" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb4-174"><a href="#cb4-174" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'text'</span>)</span>
<span id="cb4-175"><a href="#cb4-175" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'tickLabel1'</span>)</span>
<span id="cb4-176"><a href="#cb4-176" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'x'</span><span class="op">,</span> d<span class="kw">=&gt;</span><span class="fu">scaleDD</span>(d)<span class="op">+</span>barX<span class="op">+.</span><span class="dv">5</span>)</span>
<span id="cb4-177"><a href="#cb4-177" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> firstBarY<span class="op">+</span><span class="dv">18</span>)</span>
<span id="cb4-178"><a href="#cb4-178" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">text</span>(d<span class="kw">=&gt;</span>d)</span>
<span id="cb4-179"><a href="#cb4-179" aria-hidden="true" tabindex="-1"></a>  <span class="co">// svg.selectAll('.tickLabel2')</span></span>
<span id="cb4-180"><a href="#cb4-180" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .data(d3.range(width &gt; 500 ? 1 : 2, 10))</span></span>
<span id="cb4-181"><a href="#cb4-181" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .enter()</span></span>
<span id="cb4-182"><a href="#cb4-182" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .append('text')</span></span>
<span id="cb4-183"><a href="#cb4-183" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('class', 'tickLabel2')</span></span>
<span id="cb4-184"><a href="#cb4-184" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('x', d=&gt;scaleM(d)+barX+.5)</span></span>
<span id="cb4-185"><a href="#cb4-185" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .attr('y', firstBarY+112)</span></span>
<span id="cb4-186"><a href="#cb4-186" aria-hidden="true" tabindex="-1"></a>  <span class="co">//   .text(d=&gt;d)</span></span>
<span id="cb4-187"><a href="#cb4-187" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Cent ticks</span></span>
<span id="cb4-188"><a href="#cb4-188" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">'.tickC2'</span>)</span>
<span id="cb4-189"><a href="#cb4-189" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">data</span>(d3<span class="op">.</span><span class="fu">range</span>(width <span class="op">&gt;</span> <span class="dv">500</span> <span class="op">?</span> <span class="dv">10</span> <span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">100</span>))</span>
<span id="cb4-190"><a href="#cb4-190" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb4-191"><a href="#cb4-191" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-192"><a href="#cb4-192" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'tickC2'</span>)</span>
<span id="cb4-193"><a href="#cb4-193" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'x'</span><span class="op">,</span> d<span class="kw">=&gt;</span><span class="fu">scaleDD</span>(d<span class="op">/</span><span class="dv">10</span>)<span class="op">+</span>barX)</span>
<span id="cb4-194"><a href="#cb4-194" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> firstBarY<span class="op">+</span><span class="dv">10</span>)</span>
<span id="cb4-195"><a href="#cb4-195" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'height'</span><span class="op">,</span> d<span class="kw">=&gt;</span>d<span class="op">%</span><span class="dv">2</span><span class="op">===</span><span class="dv">0</span><span class="op">?</span> <span class="dv">9</span><span class="op">:</span><span class="dv">6</span>)</span>
<span id="cb4-196"><a href="#cb4-196" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Beat ticks</span></span>
<span id="cb4-197"><a href="#cb4-197" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">'.tickB'</span>)</span>
<span id="cb4-198"><a href="#cb4-198" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">data</span>(d3<span class="op">.</span><span class="fu">range</span>(width <span class="op">&gt;</span> <span class="dv">500</span> <span class="op">?</span> <span class="dv">10</span> <span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">100</span>))</span>
<span id="cb4-199"><a href="#cb4-199" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb4-200"><a href="#cb4-200" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'rect'</span>)</span>
<span id="cb4-201"><a href="#cb4-201" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'tickB'</span>)</span>
<span id="cb4-202"><a href="#cb4-202" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'x'</span><span class="op">,</span> d<span class="kw">=&gt;</span><span class="fu">scaleDD</span>(d<span class="op">/</span><span class="dv">10</span>)<span class="op">+</span>barX)</span>
<span id="cb4-203"><a href="#cb4-203" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> firstBarY<span class="op">+</span><span class="dv">60</span>)</span>
<span id="cb4-204"><a href="#cb4-204" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'height'</span><span class="op">,</span> d<span class="kw">=&gt;</span>d<span class="op">%</span><span class="dv">2</span><span class="op">===</span><span class="dv">0</span><span class="op">?</span> <span class="dv">9</span><span class="op">:</span><span class="dv">6</span>)</span>
<span id="cb4-205"><a href="#cb4-205" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Labels</span></span>
<span id="cb4-206"><a href="#cb4-206" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">selectAll</span>(<span class="st">'.timeLabel'</span>)</span>
<span id="cb4-207"><a href="#cb4-207" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">data</span>([</span>
<span id="cb4-208"><a href="#cb4-208" aria-hidden="true" tabindex="-1"></a>      <span class="co">// `${dotyDek}旬`, `${dotyDotd}日`,</span></span>
<span id="cb4-209"><a href="#cb4-209" aria-hidden="true" tabindex="-1"></a>      <span class="vs">`</span><span class="sc">${</span>barDD<span class="sc">}</span><span class="vs">`</span><span class="op">,</span> <span class="vs">`</span><span class="sc">${</span>barMils<span class="sc">}</span><span class="vs">`</span><span class="op">,</span> <span class="vs">`</span><span class="sc">${</span>barBeats<span class="sc">}</span><span class="vs">`</span>])</span>
<span id="cb4-210"><a href="#cb4-210" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb4-211"><a href="#cb4-211" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">'text'</span>)</span>
<span id="cb4-212"><a href="#cb4-212" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'class'</span><span class="op">,</span> <span class="st">'timeLabel'</span>)</span>
<span id="cb4-213"><a href="#cb4-213" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'x'</span><span class="op">,</span> barX<span class="op">+</span><span class="dv">2</span>)</span>
<span id="cb4-214"><a href="#cb4-214" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">'y'</span><span class="op">,</span> (d<span class="op">,</span>i)<span class="kw">=&gt;</span>i<span class="op">*</span><span class="dv">30</span><span class="op">+</span>firstBarY<span class="op">+</span><span class="dv">20</span>)</span>
<span id="cb4-215"><a href="#cb4-215" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">text</span>(d<span class="kw">=&gt;</span>d)<span class="op">;</span></span>
<span id="cb4-216"><a href="#cb4-216" aria-hidden="true" tabindex="-1"></a>  svg<span class="op">.</span><span class="fu">attr</span>(<span class="st">"id"</span><span class="op">,</span> <span class="st">"barClock"</span>)<span class="op">;</span></span>
<span id="cb4-217"><a href="#cb4-217" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> svg<span class="op">.</span><span class="fu">node</span>()<span class="op">;</span></span>
<span id="cb4-218"><a href="#cb4-218" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb5" data-startfrom="222" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 221;"><span id="cb5-222"><a href="#cb5-222" aria-hidden="true" tabindex="-1"></a><span class="co">// https://observablehq.com/@d3/simple-clock</span></span>
<span id="cb5-223"><a href="#cb5-223" aria-hidden="true" tabindex="-1"></a><span class="co">// https://observablehq.com/@drio/lets-build-an-analog-clock</span></span>
<span id="cb5-224"><a href="#cb5-224" aria-hidden="true" tabindex="-1"></a>clock <span class="op">=</span> {</span>
<span id="cb5-225"><a href="#cb5-225" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> clockRadius <span class="op">=</span> <span class="dv">200</span><span class="op">,</span></span>
<span id="cb5-226"><a href="#cb5-226" aria-hidden="true" tabindex="-1"></a>    margin <span class="op">=</span> <span class="dv">50</span><span class="op">,</span></span>
<span id="cb5-227"><a href="#cb5-227" aria-hidden="true" tabindex="-1"></a>    w <span class="op">=</span> (clockRadius <span class="op">+</span> margin) <span class="op">*</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb5-228"><a href="#cb5-228" aria-hidden="true" tabindex="-1"></a>    h <span class="op">=</span> (clockRadius <span class="op">+</span> margin) <span class="op">*</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb5-229"><a href="#cb5-229" aria-hidden="true" tabindex="-1"></a>    hourHandLength <span class="op">=</span> (<span class="dv">2</span> <span class="op">*</span> clockRadius) <span class="op">/</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb5-230"><a href="#cb5-230" aria-hidden="true" tabindex="-1"></a>    minuteHandLength <span class="op">=</span> clockRadius<span class="op">,</span></span>
<span id="cb5-231"><a href="#cb5-231" aria-hidden="true" tabindex="-1"></a>    secondHandLength <span class="op">=</span> clockRadius <span class="op">-</span> <span class="dv">12</span><span class="op">,</span></span>
<span id="cb5-232"><a href="#cb5-232" aria-hidden="true" tabindex="-1"></a>    secondHandBalance <span class="op">=</span> <span class="dv">30</span><span class="op">,</span></span>
<span id="cb5-233"><a href="#cb5-233" aria-hidden="true" tabindex="-1"></a>    secondTickStart <span class="op">=</span> clockRadius<span class="op">,</span></span>
<span id="cb5-234"><a href="#cb5-234" aria-hidden="true" tabindex="-1"></a>    secondTickLength <span class="op">=</span> <span class="op">-</span><span class="dv">10</span><span class="op">,</span></span>
<span id="cb5-235"><a href="#cb5-235" aria-hidden="true" tabindex="-1"></a>    hourTickStart <span class="op">=</span> clockRadius<span class="op">,</span></span>
<span id="cb5-236"><a href="#cb5-236" aria-hidden="true" tabindex="-1"></a>    hourTickLength <span class="op">=</span> <span class="op">-</span><span class="dv">18</span><span class="op">,</span></span>
<span id="cb5-237"><a href="#cb5-237" aria-hidden="true" tabindex="-1"></a>    secondLabelRadius <span class="op">=</span> clockRadius <span class="op">+</span> <span class="dv">16</span><span class="op">,</span></span>
<span id="cb5-238"><a href="#cb5-238" aria-hidden="true" tabindex="-1"></a>    secondLabelYOffset <span class="op">=</span> <span class="dv">5</span><span class="op">,</span></span>
<span id="cb5-239"><a href="#cb5-239" aria-hidden="true" tabindex="-1"></a>    hourLabelRadius <span class="op">=</span> clockRadius <span class="op">-</span> <span class="dv">40</span><span class="op">,</span></span>
<span id="cb5-240"><a href="#cb5-240" aria-hidden="true" tabindex="-1"></a>    hourLabelYOffset <span class="op">=</span> <span class="dv">7</span><span class="op">,</span></span>
<span id="cb5-241"><a href="#cb5-241" aria-hidden="true" tabindex="-1"></a>    radians <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span> <span class="op">/</span> <span class="dv">180</span><span class="op">;</span></span>
<span id="cb5-242"><a href="#cb5-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-243"><a href="#cb5-243" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> ten <span class="op">=</span> d3</span>
<span id="cb5-244"><a href="#cb5-244" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">scaleLinear</span>()</span>
<span id="cb5-245"><a href="#cb5-245" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">360</span>])</span>
<span id="cb5-246"><a href="#cb5-246" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>])<span class="op">;</span></span>
<span id="cb5-247"><a href="#cb5-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-248"><a href="#cb5-248" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> sto <span class="op">=</span> d3</span>
<span id="cb5-249"><a href="#cb5-249" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">scaleLinear</span>()</span>
<span id="cb5-250"><a href="#cb5-250" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">range</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">360</span>])</span>
<span id="cb5-251"><a href="#cb5-251" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">domain</span>([<span class="dv">0</span><span class="op">,</span> <span class="dv">100</span>])<span class="op">;</span></span>
<span id="cb5-252"><a href="#cb5-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-253"><a href="#cb5-253" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> handData <span class="op">=</span> [</span>
<span id="cb5-254"><a href="#cb5-254" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb5-255"><a href="#cb5-255" aria-hidden="true" tabindex="-1"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">"hour"</span><span class="op">,</span></span>
<span id="cb5-256"><a href="#cb5-256" aria-hidden="true" tabindex="-1"></a>      <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb5-257"><a href="#cb5-257" aria-hidden="true" tabindex="-1"></a>      <span class="dt">length</span><span class="op">:</span> <span class="op">-</span>hourHandLength<span class="op">,</span></span>
<span id="cb5-258"><a href="#cb5-258" aria-hidden="true" tabindex="-1"></a>      <span class="dt">scale</span><span class="op">:</span> ten</span>
<span id="cb5-259"><a href="#cb5-259" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb5-260"><a href="#cb5-260" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb5-261"><a href="#cb5-261" aria-hidden="true" tabindex="-1"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">"minute"</span><span class="op">,</span></span>
<span id="cb5-262"><a href="#cb5-262" aria-hidden="true" tabindex="-1"></a>      <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb5-263"><a href="#cb5-263" aria-hidden="true" tabindex="-1"></a>      <span class="dt">length</span><span class="op">:</span> <span class="op">-</span>minuteHandLength<span class="op">,</span></span>
<span id="cb5-264"><a href="#cb5-264" aria-hidden="true" tabindex="-1"></a>      <span class="dt">scale</span><span class="op">:</span> sto</span>
<span id="cb5-265"><a href="#cb5-265" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb5-266"><a href="#cb5-266" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb5-267"><a href="#cb5-267" aria-hidden="true" tabindex="-1"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">"second"</span><span class="op">,</span></span>
<span id="cb5-268"><a href="#cb5-268" aria-hidden="true" tabindex="-1"></a>      <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb5-269"><a href="#cb5-269" aria-hidden="true" tabindex="-1"></a>      <span class="dt">length</span><span class="op">:</span> <span class="op">-</span>secondHandLength<span class="op">,</span></span>
<span id="cb5-270"><a href="#cb5-270" aria-hidden="true" tabindex="-1"></a>      <span class="dt">scale</span><span class="op">:</span> sto<span class="op">,</span></span>
<span id="cb5-271"><a href="#cb5-271" aria-hidden="true" tabindex="-1"></a>      <span class="dt">balance</span><span class="op">:</span> secondHandBalance</span>
<span id="cb5-272"><a href="#cb5-272" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-273"><a href="#cb5-273" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">;</span></span>
<span id="cb5-274"><a href="#cb5-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-275"><a href="#cb5-275" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">drawClock</span>() {</span>
<span id="cb5-276"><a href="#cb5-276" aria-hidden="true" tabindex="-1"></a>    <span class="co">// create all the clock elements</span></span>
<span id="cb5-277"><a href="#cb5-277" aria-hidden="true" tabindex="-1"></a>    <span class="fu">updateData</span>()<span class="op">;</span> <span class="co">//draw them in the correct starting position</span></span>
<span id="cb5-278"><a href="#cb5-278" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> face <span class="op">=</span> svg</span>
<span id="cb5-279"><a href="#cb5-279" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb5-280"><a href="#cb5-280" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"id"</span><span class="op">,</span> <span class="st">"clock-face"</span>)</span>
<span id="cb5-281"><a href="#cb5-281" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> <span class="vs">`translate(</span><span class="sc">${</span>[w <span class="op">/</span> <span class="dv">2</span><span class="op">,</span> h <span class="op">/</span> <span class="dv">2</span>]<span class="sc">}</span><span class="vs">)`</span>)<span class="op">;</span></span>
<span id="cb5-282"><a href="#cb5-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-283"><a href="#cb5-283" aria-hidden="true" tabindex="-1"></a>    <span class="co">// add marks for seconds</span></span>
<span id="cb5-284"><a href="#cb5-284" aria-hidden="true" tabindex="-1"></a>    face</span>
<span id="cb5-285"><a href="#cb5-285" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">".second-tick"</span>)</span>
<span id="cb5-286"><a href="#cb5-286" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">100</span>))</span>
<span id="cb5-287"><a href="#cb5-287" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb5-288"><a href="#cb5-288" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">append</span>(<span class="st">"line"</span>)</span>
<span id="cb5-289"><a href="#cb5-289" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"second-tick"</span>)</span>
<span id="cb5-290"><a href="#cb5-290" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x1"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb5-291"><a href="#cb5-291" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x2"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb5-292"><a href="#cb5-292" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y1"</span><span class="op">,</span> secondTickStart)</span>
<span id="cb5-293"><a href="#cb5-293" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> secondTickStart <span class="op">+</span> secondTickLength)</span>
<span id="cb5-294"><a href="#cb5-294" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="vs">`rotate(</span><span class="sc">${</span><span class="fu">sto</span>(d)<span class="sc">}</span><span class="vs">)`</span>)<span class="op">;</span></span>
<span id="cb5-295"><a href="#cb5-295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-296"><a href="#cb5-296" aria-hidden="true" tabindex="-1"></a>    <span class="co">// and labels...</span></span>
<span id="cb5-297"><a href="#cb5-297" aria-hidden="true" tabindex="-1"></a>    face</span>
<span id="cb5-298"><a href="#cb5-298" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">".second-label"</span>)</span>
<span id="cb5-299"><a href="#cb5-299" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">5</span>))</span>
<span id="cb5-300"><a href="#cb5-300" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb5-301"><a href="#cb5-301" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb5-302"><a href="#cb5-302" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"second-label"</span>)</span>
<span id="cb5-303"><a href="#cb5-303" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb5-304"><a href="#cb5-304" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> d <span class="kw">=&gt;</span> secondLabelRadius <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(<span class="fu">sto</span>(d) <span class="op">*</span> radians))</span>
<span id="cb5-305"><a href="#cb5-305" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(</span>
<span id="cb5-306"><a href="#cb5-306" aria-hidden="true" tabindex="-1"></a>        <span class="st">"y"</span><span class="op">,</span></span>
<span id="cb5-307"><a href="#cb5-307" aria-hidden="true" tabindex="-1"></a>        d <span class="kw">=&gt;</span></span>
<span id="cb5-308"><a href="#cb5-308" aria-hidden="true" tabindex="-1"></a>          <span class="op">-</span>secondLabelRadius <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(<span class="fu">sto</span>(d) <span class="op">*</span> radians) <span class="op">+</span> secondLabelYOffset</span>
<span id="cb5-309"><a href="#cb5-309" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb5-310"><a href="#cb5-310" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">text</span>(d <span class="kw">=&gt;</span> d)<span class="op">;</span></span>
<span id="cb5-311"><a href="#cb5-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-312"><a href="#cb5-312" aria-hidden="true" tabindex="-1"></a>    <span class="co">// ... and hours</span></span>
<span id="cb5-313"><a href="#cb5-313" aria-hidden="true" tabindex="-1"></a>    face</span>
<span id="cb5-314"><a href="#cb5-314" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">".hour-tick"</span>)</span>
<span id="cb5-315"><a href="#cb5-315" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">1</span>))</span>
<span id="cb5-316"><a href="#cb5-316" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb5-317"><a href="#cb5-317" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">append</span>(<span class="st">"line"</span>)</span>
<span id="cb5-318"><a href="#cb5-318" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"hour-tick"</span>)</span>
<span id="cb5-319"><a href="#cb5-319" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x1"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb5-320"><a href="#cb5-320" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x2"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb5-321"><a href="#cb5-321" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y1"</span><span class="op">,</span> hourTickStart)</span>
<span id="cb5-322"><a href="#cb5-322" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> hourTickStart <span class="op">+</span> hourTickLength)</span>
<span id="cb5-323"><a href="#cb5-323" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="vs">`rotate(</span><span class="sc">${</span><span class="fu">ten</span>(d)<span class="sc">}</span><span class="vs">)`</span>)<span class="op">;</span></span>
<span id="cb5-324"><a href="#cb5-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-325"><a href="#cb5-325" aria-hidden="true" tabindex="-1"></a>    face</span>
<span id="cb5-326"><a href="#cb5-326" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">".hour-label"</span>)</span>
<span id="cb5-327"><a href="#cb5-327" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(d3<span class="op">.</span><span class="fu">range</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">1</span>))</span>
<span id="cb5-328"><a href="#cb5-328" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb5-329"><a href="#cb5-329" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb5-330"><a href="#cb5-330" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"hour-label"</span>)</span>
<span id="cb5-331"><a href="#cb5-331" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb5-332"><a href="#cb5-332" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> d <span class="kw">=&gt;</span> hourLabelRadius <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(<span class="fu">ten</span>(d) <span class="op">*</span> radians))</span>
<span id="cb5-333"><a href="#cb5-333" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(</span>
<span id="cb5-334"><a href="#cb5-334" aria-hidden="true" tabindex="-1"></a>        <span class="st">"y"</span><span class="op">,</span></span>
<span id="cb5-335"><a href="#cb5-335" aria-hidden="true" tabindex="-1"></a>        d <span class="kw">=&gt;</span> <span class="op">-</span>hourLabelRadius <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(<span class="fu">ten</span>(d) <span class="op">*</span> radians) <span class="op">+</span> hourLabelYOffset</span>
<span id="cb5-336"><a href="#cb5-336" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb5-337"><a href="#cb5-337" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">text</span>(d <span class="kw">=&gt;</span> d)<span class="op">;</span></span>
<span id="cb5-338"><a href="#cb5-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-339"><a href="#cb5-339" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> hands <span class="op">=</span> face<span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)<span class="op">.</span><span class="fu">attr</span>(<span class="st">"id"</span><span class="op">,</span> <span class="st">"clock-hands"</span>)<span class="op">;</span></span>
<span id="cb5-340"><a href="#cb5-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-341"><a href="#cb5-341" aria-hidden="true" tabindex="-1"></a>    hands</span>
<span id="cb5-342"><a href="#cb5-342" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"line"</span>)</span>
<span id="cb5-343"><a href="#cb5-343" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(handData)</span>
<span id="cb5-344"><a href="#cb5-344" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">enter</span>()</span>
<span id="cb5-345"><a href="#cb5-345" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">append</span>(<span class="st">"line"</span>)</span>
<span id="cb5-346"><a href="#cb5-346" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">type</span> <span class="op">+</span> <span class="st">"-hand"</span>)</span>
<span id="cb5-347"><a href="#cb5-347" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x1"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb5-348"><a href="#cb5-348" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y1"</span><span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">balance</span> <span class="op">||</span> <span class="dv">0</span>)</span>
<span id="cb5-349"><a href="#cb5-349" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x2"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb5-350"><a href="#cb5-350" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y2"</span><span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">length</span>)</span>
<span id="cb5-351"><a href="#cb5-351" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="vs">`rotate(</span><span class="sc">${</span>d<span class="op">.</span><span class="fu">scale</span>(d<span class="op">.</span><span class="at">value</span>)<span class="sc">}</span><span class="vs">)`</span>)<span class="op">;</span></span>
<span id="cb5-352"><a href="#cb5-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-353"><a href="#cb5-353" aria-hidden="true" tabindex="-1"></a>    face</span>
<span id="cb5-354"><a href="#cb5-354" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">append</span>(<span class="st">"g"</span>)</span>
<span id="cb5-355"><a href="#cb5-355" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"id"</span><span class="op">,</span> <span class="st">"face-overlay"</span>)</span>
<span id="cb5-356"><a href="#cb5-356" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">append</span>(<span class="st">"circle"</span>)</span>
<span id="cb5-357"><a href="#cb5-357" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"class"</span><span class="op">,</span> <span class="st">"hands-cover"</span>)</span>
<span id="cb5-358"><a href="#cb5-358" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb5-359"><a href="#cb5-359" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> <span class="dv">0</span>)</span>
<span id="cb5-360"><a href="#cb5-360" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">attr</span>(<span class="st">"r"</span><span class="op">,</span> clockRadius <span class="op">/</span> <span class="dv">20</span>)<span class="op">;</span></span>
<span id="cb5-361"><a href="#cb5-361" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-362"><a href="#cb5-362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-363"><a href="#cb5-363" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">moveHands</span>() {</span>
<span id="cb5-364"><a href="#cb5-364" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> sel <span class="op">=</span> d3</span>
<span id="cb5-365"><a href="#cb5-365" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">select</span>(<span class="st">"#clock-hands-final"</span>)</span>
<span id="cb5-366"><a href="#cb5-366" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">selectAll</span>(<span class="st">"line"</span>)</span>
<span id="cb5-367"><a href="#cb5-367" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">data</span>(handData)</span>
<span id="cb5-368"><a href="#cb5-368" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">transition</span>()<span class="op">;</span></span>
<span id="cb5-369"><a href="#cb5-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-370"><a href="#cb5-370" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (fancySecondsOFF) sel<span class="op">.</span><span class="fu">ease</span>(d3<span class="op">.</span><span class="at">easeElastic</span><span class="op">.</span><span class="fu">period</span>(<span class="fl">0.5</span>))<span class="op">;</span></span>
<span id="cb5-371"><a href="#cb5-371" aria-hidden="true" tabindex="-1"></a>    sel<span class="op">.</span><span class="fu">attr</span>(<span class="st">"transform"</span><span class="op">,</span> d <span class="kw">=&gt;</span> <span class="vs">`rotate(</span><span class="sc">${</span>d<span class="op">.</span><span class="fu">scale</span>(d<span class="op">.</span><span class="at">value</span>)<span class="sc">}</span><span class="vs">)`</span>)<span class="op">;</span></span>
<span id="cb5-372"><a href="#cb5-372" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-373"><a href="#cb5-373" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-374"><a href="#cb5-374" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">unix2dote</span>(unix<span class="op">,</span> zone<span class="op">,</span> offset <span class="op">=</span> <span class="dv">719468</span>) {</span>
<span id="cb5-375"><a href="#cb5-375" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> [</span>
<span id="cb5-376"><a href="#cb5-376" aria-hidden="true" tabindex="-1"></a>    (unix <span class="op">??</span> <span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()) <span class="op">/</span> <span class="dv">86400000</span></span>
<span id="cb5-377"><a href="#cb5-377" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> (zone <span class="op">=</span> zone <span class="op">??</span> (<span class="dv">10</span> <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">round</span>(</span>
<span id="cb5-378"><a href="#cb5-378" aria-hidden="true" tabindex="-1"></a>        (<span class="kw">new</span> <span class="bu">Date</span>)<span class="op">.</span><span class="fu">getTimezoneOffset</span>() <span class="op">/</span> <span class="dv">144</span>)) <span class="op">%</span> <span class="dv">10</span></span>
<span id="cb5-379"><a href="#cb5-379" aria-hidden="true" tabindex="-1"></a>      ) <span class="op">/</span> <span class="dv">10</span> <span class="op">+</span> offset<span class="op">,</span> zone]</span>
<span id="cb5-380"><a href="#cb5-380" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-381"><a href="#cb5-381" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-382"><a href="#cb5-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-383"><a href="#cb5-383" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">updateData</span>() {</span>
<span id="cb5-384"><a href="#cb5-384" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> unix <span class="op">=</span> <span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()<span class="op">;</span></span>
<span id="cb5-385"><a href="#cb5-385" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> declock <span class="op">=</span> <span class="fu">unix2dote</span>(unix<span class="op">,</span> <span class="fu">long2zone</span>(coordinates[<span class="dv">0</span>]))[<span class="dv">0</span>] <span class="op">%</span> <span class="dv">1</span></span>
<span id="cb5-386"><a href="#cb5-386" aria-hidden="true" tabindex="-1"></a>    handData[<span class="dv">0</span>]<span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(declock <span class="op">*</span> <span class="dv">10</span>)<span class="op">;</span></span>
<span id="cb5-387"><a href="#cb5-387" aria-hidden="true" tabindex="-1"></a>    handData[<span class="dv">1</span>]<span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(declock <span class="op">*</span> <span class="dv">10</span> <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">100</span>)<span class="op">;</span></span>
<span id="cb5-388"><a href="#cb5-388" aria-hidden="true" tabindex="-1"></a>    handData[<span class="dv">2</span>]<span class="op">.</span><span class="at">value</span> <span class="op">=</span> <span class="op">!</span>fancySecondsOFF <span class="op">?</span> declock <span class="op">*</span> <span class="dv">10</span> <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">100</span> <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">100</span> <span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(declock <span class="op">*</span> <span class="dv">10</span> <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">100</span> <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">100</span>)<span class="op">;</span></span>
<span id="cb5-389"><a href="#cb5-389" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-390"><a href="#cb5-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-391"><a href="#cb5-391" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> svg <span class="op">=</span> d3</span>
<span id="cb5-392"><a href="#cb5-392" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">create</span>(<span class="st">"svg"</span>)</span>
<span id="cb5-393"><a href="#cb5-393" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"viewBox"</span><span class="op">,</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> w<span class="op">,</span> h])</span>
<span id="cb5-394"><a href="#cb5-394" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">style</span>(<span class="st">"max-width"</span><span class="op">,</span> <span class="st">"500px"</span>)</span>
<span id="cb5-395"><a href="#cb5-395" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"id"</span><span class="op">,</span> <span class="st">"clock"</span>)<span class="op">;</span></span>
<span id="cb5-396"><a href="#cb5-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-397"><a href="#cb5-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-398"><a href="#cb5-398" aria-hidden="true" tabindex="-1"></a>  svg</span>
<span id="cb5-399"><a href="#cb5-399" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">append</span>(<span class="st">"text"</span>)</span>
<span id="cb5-400"><a href="#cb5-400" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">text</span>(selected)</span>
<span id="cb5-401"><a href="#cb5-401" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"x"</span><span class="op">,</span> clockRadius <span class="op">+</span> margin)</span>
<span id="cb5-402"><a href="#cb5-402" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"y"</span><span class="op">,</span> clockRadius <span class="op">*</span> <span class="dv">2</span> <span class="op">+</span> margin <span class="op">*</span> <span class="fl">1.975</span>)</span>
<span id="cb5-403"><a href="#cb5-403" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"text-anchor"</span><span class="op">,</span> <span class="st">"middle"</span>)</span>
<span id="cb5-404"><a href="#cb5-404" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-size"</span><span class="op">,</span> <span class="dv">32</span>)</span>
<span id="cb5-405"><a href="#cb5-405" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">attr</span>(<span class="st">"font-family"</span><span class="op">,</span> <span class="st">"monospace"</span>)<span class="op">;</span></span>
<span id="cb5-406"><a href="#cb5-406" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-407"><a href="#cb5-407" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drawClock</span>()<span class="op">;</span></span>
<span id="cb5-408"><a href="#cb5-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-409"><a href="#cb5-409" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Animation</span></span>
<span id="cb5-410"><a href="#cb5-410" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> interval <span class="op">=</span> <span class="pp">setInterval</span>(</span>
<span id="cb5-411"><a href="#cb5-411" aria-hidden="true" tabindex="-1"></a>    () <span class="kw">=&gt;</span> {</span>
<span id="cb5-412"><a href="#cb5-412" aria-hidden="true" tabindex="-1"></a>      <span class="fu">updateData</span>()<span class="op">;</span></span>
<span id="cb5-413"><a href="#cb5-413" aria-hidden="true" tabindex="-1"></a>      <span class="fu">moveHands</span>()<span class="op">;</span></span>
<span id="cb5-414"><a href="#cb5-414" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb5-415"><a href="#cb5-415" aria-hidden="true" tabindex="-1"></a>    <span class="op">!</span>fancySecondsOFF <span class="op">?</span> <span class="dv">10</span> <span class="op">:</span> <span class="dv">864</span></span>
<span id="cb5-416"><a href="#cb5-416" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb5-417"><a href="#cb5-417" aria-hidden="true" tabindex="-1"></a>  invalidation<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> <span class="pp">clearInterval</span>(interval))<span class="op">;</span></span>
<span id="cb5-418"><a href="#cb5-418" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-419"><a href="#cb5-419" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> svg<span class="op">.</span><span class="fu">node</span>()<span class="op">;</span></span>
<span id="cb5-420"><a href="#cb5-420" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb6" data-startfrom="424" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 423;"><span id="cb6-424"><a href="#cb6-424" aria-hidden="true" tabindex="-1"></a>viewof fancySecondsOFF <span class="op">=</span> <span class="fu">Toggle</span>({</span>
<span id="cb6-425"><a href="#cb6-425" aria-hidden="true" tabindex="-1"></a>  <span class="dt">label</span><span class="op">:</span> <span class="st">"Ticking clock"</span><span class="op">,</span></span>
<span id="cb6-426"><a href="#cb6-426" aria-hidden="true" tabindex="-1"></a>  <span class="dt">value</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb6-427"><a href="#cb6-427" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb7" data-startfrom="431" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 430;"><span id="cb7-431"><a href="#cb7-431" aria-hidden="true" tabindex="-1"></a>viewof coordinates <span class="op">=</span> <span class="fu">worldMapCoordinates</span>([<span class="dv">162</span><span class="op">,</span> <span class="dv">0</span>]<span class="op">,</span> [width<span class="op">,</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">round</span>((<span class="dv">210</span> <span class="op">/</span> <span class="dv">400</span>) <span class="op">*</span> width)])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb8" data-startfrom="435" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 434;"><span id="cb8-435"><a href="#cb8-435" aria-hidden="true" tabindex="-1"></a>plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb8-436"><a href="#cb8-436" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> <span class="vs">`overflow: visible;font-size:12px;margin-top:</span><span class="sc">${</span><span class="op">-</span><span class="dv">3</span> <span class="op">+</span> (width <span class="op">&lt;</span> <span class="dv">400</span>) <span class="op">*</span> <span class="dv">3</span><span class="sc">}</span><span class="vs">px`</span><span class="op">,</span></span>
<span id="cb8-437"><a href="#cb8-437" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> width <span class="op">*</span> <span class="op">.</span><span class="dv">96</span><span class="op">,</span></span>
<span id="cb8-438"><a href="#cb8-438" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {<span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="op">.</span><span class="dv">92</span>]<span class="op">,</span> <span class="dt">grid</span><span class="op">:</span> <span class="kw">false</span>}<span class="op">,</span></span>
<span id="cb8-439"><a href="#cb8-439" aria-hidden="true" tabindex="-1"></a>  <span class="dt">color</span><span class="op">:</span> {<span class="dt">legend</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="dt">range</span><span class="op">:</span> [<span class="st">"#ff6c00"</span><span class="op">,</span> <span class="st">"#009cff"</span>]}<span class="op">,</span></span>
<span id="cb8-440"><a href="#cb8-440" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb8-441"><a href="#cb8-441" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>])<span class="op">,</span></span>
<span id="cb8-442"><a href="#cb8-442" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">lineY</span>(times<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"date"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"rise"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"symbol"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">16</span><span class="op">,</span> <span class="dt">strokeOpacity</span><span class="op">:</span> <span class="op">.</span><span class="dv">6</span>})<span class="op">,</span></span>
<span id="cb8-443"><a href="#cb8-443" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">lineY</span>(times<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"date"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"noon"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"symbol"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">16</span><span class="op">,</span> <span class="dt">strokeOpacity</span><span class="op">:</span> <span class="op">.</span><span class="dv">6</span>})<span class="op">,</span></span>
<span id="cb8-444"><a href="#cb8-444" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">lineY</span>(times<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"date"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"set"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"symbol"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">16</span><span class="op">,</span> <span class="dt">strokeOpacity</span><span class="op">:</span> <span class="op">.</span><span class="dv">6</span>})<span class="op">,</span></span>
<span id="cb8-445"><a href="#cb8-445" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(times<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"date"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"rise"</span><span class="op">,</span> <span class="dt">z</span><span class="op">:</span> <span class="st">"symbol"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="vs">`sunrise`</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">9</span>}))<span class="op">,</span></span>
<span id="cb8-446"><a href="#cb8-446" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(times<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"date"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"noon"</span><span class="op">,</span> <span class="dt">z</span><span class="op">:</span> <span class="st">"symbol"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="vs">`noon`</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">9</span>}))<span class="op">,</span></span>
<span id="cb8-447"><a href="#cb8-447" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">text</span>(times<span class="op">,</span> Plot<span class="op">.</span><span class="fu">selectLast</span>({<span class="dt">x</span><span class="op">:</span> <span class="st">"date"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"set"</span><span class="op">,</span> <span class="dt">z</span><span class="op">:</span> <span class="st">"symbol"</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> d <span class="kw">=&gt;</span> <span class="vs">`sunset`</span><span class="op">,</span> <span class="dt">textAnchor</span><span class="op">:</span> <span class="st">"start"</span><span class="op">,</span> <span class="dt">dx</span><span class="op">:</span> <span class="dv">9</span>}))<span class="op">,</span></span>
<span id="cb8-448"><a href="#cb8-448" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb8-449"><a href="#cb8-449" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb9" data-startfrom="453" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 452;"><span id="cb9-453"><a href="#cb9-453" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`The bar chart and clock show zonal time,  which varies by time zone. Below the map there is a line plot that shows the zonal (blue) and local (orange) time when the sun sets (top line), reaches its peak (middle line), and rises (bottom line) throughout the year in the location selected on the map above the plot. Local time approximates [solar time](https://en.wikipedia.org/wiki/Solar_time#:~:text=the%20hour%20angle%20of%20the%20mean%20Sun%20plus%2012%20hours) by changing with longitude, even within the same time zone.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-9" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb10" data-startfrom="457" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 456;"><span id="cb10-457"><a href="#cb10-457" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`For daily use, we only need zonal time, which provides a single consistent time for each time zone, but local and solar time can be useful to understand how clock time compares to the position of the sun. To look at how solar time changes by location throughout the year, check out the top of the [Dec calculation notebook](/@dec/alc).`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-10" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb11" data-startfrom="461" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 460;"><span id="cb11-461"><a href="#cb11-461" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`The map above shows how [Meridian 0](https://en.wikipedia.org/wiki/126th_meridian_west#:~:text=a%20line%20of%20longitude%20that%20extends%20from%20the%20North%20Pole%20across%20the%20Arctic%20Ocean%2C%20North%20America%2C%20the%20Pacific%20Ocean%2C%20the%20Southern%20Ocean%2C%20and%20Antarctica%20to%20the%20South%20Pole), the Dec [International Date Line](https://en.wikipedia.org/wiki/International_Date_Line#:~:text=the%20line%20between%20the%20South%20and%20North%20Poles%20that%20is%20the%20boundary%20between%20one%20calendar%20day%20and%20the%20next) and [prime meridian](https://en.wikipedia.org/wiki/Prime_meridian#:~:text=an%20arbitrarily%2Dchosen%20meridian%20%28a%20line%20of%20longitude%29%20in%20a%20geographic%20coordinate%20system%20at%20which%20longitude%20is%20defined%20to%20be%200%C2%B0), cuts across the Atlantic Ocean just West of Africa and marks the start of Zone 0, the leftmost Dec time zone on the map. Dec has 10 time zones which are each 1 deciturn (10% of a turn) wide and are numbered 0 through 9, like the [meridians](https://en.wikipedia.org/wiki/Meridian_%28geography%29#:~:text=words%2C%20it%20is-,a%20line%20of%20longitude,-.%20The%20position%20of) that separate them. For more Dec maps, check out these notebooks:</span></span>
<span id="cb11-462"><a href="#cb11-462" aria-hidden="true" tabindex="-1"></a><span class="vs">- [Decalc](/@dec/alc)</span></span>
<span id="cb11-463"><a href="#cb11-463" aria-hidden="true" tabindex="-1"></a><span class="vs">- [Decalendar](/@dec/al)</span></span>
<span id="cb11-464"><a href="#cb11-464" aria-hidden="true" tabindex="-1"></a><span class="vs">- [Decaliper](/@dec/ali)</span></span>
<span id="cb11-465"><a href="#cb11-465" aria-hidden="true" tabindex="-1"></a><span class="vs">- [Decirc](/@dec/irc)</span></span>
<span id="cb11-466"><a href="#cb11-466" aria-hidden="true" tabindex="-1"></a><span class="vs">- [Solar terminator](/@dec/solar-terminator)</span></span>
<span id="cb11-467"><a href="#cb11-467" aria-hidden="true" tabindex="-1"></a><span class="vs">- [The Sun's view of the Earth](/@dec/the-suns-view-of-the-earth)`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-11" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb12" data-startfrom="471" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 470;"><span id="cb12-471"><a href="#cb12-471" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`[Analog clock](https://en.wikipedia.org/wiki/Clock#:~:text=use%20a%20clock%20face%20which%20indicates%20time%20using%20rotating%20pointers%20called%20%22hands%22%20on%20a%20fixed%20numbered%20dial%20or%20dials) displays are not necessary in Dec, because the time can simply be displayed as a single number. Nevertheless, a watch with an analog display can serve as an approximate compass during the daytime. Aligning the watch's deciday hand with the spot on the horizon below the Sun (the [solar azimuth](https://en.wikipedia.org/wiki/Solar_azimuth_angle#:~:text=horizontal%20angle%20with%20respect%20to%20north)) and our shadow, makes midnight and midday (0 and 5) on the watch align with North and South.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-12" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb13" data-startfrom="475" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 474;"><span id="cb13-475"><a href="#cb13-475" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`When facing North, the Sun will be on our right ([clock position](https://en.wikipedia.org/wiki/Clock_position#:~:text=a%20system%20of%20denoting%20impromptu%20relative%20bearing%20widely%20used%20in%20practical%20navigation%20to%20give%20the%20position%20of%20an%20observed%20object) &lt; .5 turns) and in the East (solar azimuth &lt; .5 turns) before [solar noon](https://en.wikipedia.org/wiki/Noon#Solar_noon:~:text=the%20moment%20when%20the%20Sun%20contacts%20the%20observer%27s%20meridian%20%28culmination%20or%20meridian%20transit%29%2C%20reaching%20its%20highest%20position%20above%20the%20horizon%20on%20that%20day) (solar time &lt; .5 turns), and on our left (clock position &gt; .5 turns) and in the West (solar azimuth &gt; .5 turns) after solar noon (solar time &gt; .5 turns). This method works everywhere even though the solar azimuth at solar noon is .5 turns (South) in the Northern Hemisphere (latitude &gt; 0 turns) and 0 turns (North) in the Southern Hemisphere (latitude &lt; 0 turns).`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-13" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb14" data-startfrom="479" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 478;"><span id="cb14-479"><a href="#cb14-479" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`## Zonal, Local, Solar time comparison`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-14" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb15" data-startfrom="483" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 482;"><span id="cb15-483"><a href="#cb15-483" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`In Declock, times that are offset by integer deciturns (tenths of a turn) are called zonal times. In the plot above, the zonal times (orange lines) for sunrise (bottom orange line), [solar noon](https://en.wikipedia.org/wiki/Noon#:~:text=Solar%20noon%20is%20the%20time,be%20observed%20using%20a%20sundial.) (middle orange line), and sunset (top orange line) change significantly when the red circle is moved left or right to change the longitude. In contrast, local times (blue lines) and solar times (orange lines) for sunrise (bottom), solar noon (middle), and sunset (top) differ by latitude by not longitude. `</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-15" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb16" data-startfrom="487" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 486;"><span id="cb16-487"><a href="#cb16-487" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Zonal times can be displayed in decidays with a time zone (</span><span class="sc">${</span>selected<span class="sc">}</span><span class="vs">) or without a time zone in other units such as millidays (</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(selected<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">6</span>)<span class="op">*</span><span class="dv">100</span>)<span class="sc">}</span><span class="vs">) or centimillidays (</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(selected<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">6</span>)<span class="op">*</span><span class="dv">10000</span>)<span class="sc">}</span><span class="vs">). Centimillidays are similar in duration to heartbeats or musical beats and thus are also known as beats. The local and solar time equivalent of a time zone is the longitude in the same units and at the same level of precision as the time (</span><span class="sc">${</span><span class="bu">String</span>(<span class="fu">unix2dote</span>(unix<span class="op">,</span> <span class="fu">long2zone</span>(coordinates[<span class="dv">0</span>]))[<span class="dv">0</span>] <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">10</span>)<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">6</span>)<span class="sc">}</span><span class="vs">-</span><span class="sc">${</span><span class="fu">long2turn</span>(coordinates[<span class="dv">0</span>]<span class="op">,</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">4</span>)<span class="sc">}</span><span class="vs">). A centimilliturn of longitude [at the equator](https://en.wikipedia.org/wiki/Longitude#Length_of_a_degree_of_longitude) is 400.75017 meters, which is a hundred thousandth (0.001%) of the [Earth's equatorial circumference](https://en.wikipedia.org/wiki/Earth%27s_circumference#:~:text=Measured%20around%20the%20equator%2C%20it%20is%2040%2C075.017%C2%A0km).`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-16" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb17" data-startfrom="491" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 490;"><span id="cb17-491"><a href="#cb17-491" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Zonal time behaves differently than local and solar time because it keeps one time per time zone. In contrast, local and solar times vary by longitude, even within the same time zone. For daily use, we only need zonal times, but local and solar times can be useful to understand how clock time compares to the position of the sun.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-17" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb18" data-startfrom="495" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 494;"><span id="cb18-495"><a href="#cb18-495" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Zonal and local times are identical in the middle of time zones and will differ by 5 centidays at time zone borders. Local times use exact floating decimal deciday values to obtain a closer match between Declock noon (.5) and solar noon, the time of day when the sun is in its highest position in the sky. In contrast to zonal time and local time, solar time is based on the sun's [azimuth](https://en.wikipedia.org/wiki/Solar_azimuth_angle#:~:text=horizontal%20angle%20with%20respect%20to%20north) or [hour angle](https://en.wikipedia.org/wiki/Hour_angle#:~:text=an%20expression%20of%20time%2C%20expressed%20in%20angular%20measurement%2C%20usually%20degrees%2C%20from%20solar%20noon) and thus should always be exactly .5 at solar noon. Since solar noon in solar time is expected to be .5 all-year-round, it is not shown in the plot above.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-18" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb19" data-startfrom="499" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 498;"><span id="cb19-499"><a href="#cb19-499" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`People living closer to time zone midpoints enjoy a closer match between clock noon and solar noon. This can help them anticipate the amount of sunlight they will receive in their location. Additionally, we can obtain solar time with a compass, a horizontal sundial, or any other means of determining the sun's azimuth. These direct measures of solar azimuth can be used to confirm [solar azimuth calculations](https://observablehq.com/@mourner/sun-position-in-900-bytes).`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-19" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb20" data-startfrom="503" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 502;"><span id="cb20-503"><a href="#cb20-503" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`To obtain solar time (</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`ST`</span><span class="sc">}</span><span class="vs">), we express the Sun's azimuth (</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`</span><span class="sc">\p</span><span class="vs">hi`</span><span class="sc">}</span><span class="vs">) or hour angle (</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`h`</span><span class="sc">}</span><span class="vs">) in turns or days instead of degrees and if necessary shift by half a day so that the Declock solar time is .5 days (12 hours) at solar noon. Solar azimuth measured in the Northern hemisphere (</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`</span><span class="sc">\p</span><span class="vs">hi_N`</span><span class="sc">}</span><span class="vs">) does not require any adjustment, because it is naturally .5 turns (180°) from North, or in other words exactly South, at solar noon. In contrast, </span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`h`</span><span class="sc">}</span><span class="vs"> and Southern hemisphere solar azimuth (</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`</span><span class="sc">\p</span><span class="vs">hi_S`</span><span class="sc">}</span><span class="vs">) are 0 at solar noon. </span></span>
<span id="cb20-504"><a href="#cb20-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-505"><a href="#cb20-505" aria-hidden="true" tabindex="-1"></a><span class="vs">To make </span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`h`</span><span class="sc">}</span><span class="vs"> match </span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`ST`</span><span class="sc">}</span><span class="vs">, we only need to [add a half-day](https://en.wikipedia.org/wiki/Solar_time#:~:text=the%20hour%20angle%20of%20the%20mean%20sun%20plus%2012%20hours) to </span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`h`</span><span class="sc">}</span><span class="vs"> (</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`h+.5`</span><span class="sc">}</span><span class="vs">). To obtain </span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`ST`</span><span class="sc">}</span><span class="vs"> from the Southern hemisphere solar azimuth (</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`</span><span class="sc">\p</span><span class="vs">hi_S`</span><span class="sc">}</span><span class="vs">), we need to subtract (</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`</span><span class="sc">\p</span><span class="vs">hi_S`</span><span class="sc">}</span><span class="vs">) from 1.5 (</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`1.5-</span><span class="sc">\p</span><span class="vs">hi_S`</span><span class="sc">}</span><span class="vs">) and then [keep the remainder](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder%20or%20signed%20remainder%20of%20a%20division) ([%](https://en.wikipedia.org/wiki/Modulo#:~:text=use%20%22%25%22%2C%20%22mod%22%2C%20or%20%22mod%22%20as%20a%20modulo%20or%20remainder%20operator)) after dividing by 1 (</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`(1.5-</span><span class="sc">\p</span><span class="vs">hi_S)</span><span class="sc">\t</span><span class="vs">ext{ </span><span class="sc">\%</span><span class="vs"> }1`</span><span class="sc">}</span><span class="vs">), because the Sun moves clockwise in the Northern hemisphere and [counterclockwise](https://en.wikipedia.org/wiki/Solar_azimuth_angle#:~:text=take%20counterclockwise%20angles%20as%20negative) in the Southern hemisphere.&lt;br&gt;</span></span>
<span id="cb20-506"><a href="#cb20-506" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span><span class="fu">tex</span><span class="vs">`ST=</span><span class="sc">\p</span><span class="vs">hi_N=h+.5=(1.5-</span><span class="sc">\p</span><span class="vs">hi_S)</span><span class="sc">\t</span><span class="vs">ext{ </span><span class="sc">\%</span><span class="vs"> }1`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-20" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb21" data-startfrom="510" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 509;"><span id="cb21-510"><a href="#cb21-510" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`## Declock and UTC time zone comparison`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-21" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb22" data-startfrom="514" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 513;"><span id="cb22-514"><a href="#cb22-514" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`There are more than 24 UTC time zone offsets, but only 10 Declock time zones. This notebook and the [Decalc notebook](/@dec/alc) have interactive maps that visualize Declock time zones. You can also see the Declock time zones on the world maps at the top of the [Decircle labels](/@dec/irc), [solar terminator](/@dec/solar-terminator) notebook, and the [Sun's view of the Earth](/@dec/the-suns-view-of-the-earth) notebook. On all of these maps, the vertical graticules (lines on a map) separate Declock time zones. If you know your longitude in degrees (°) or centidays (cd), you can look up your Declock time zone in the table below.</span></span>
<span id="cb22-515"><a href="#cb22-515" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-516"><a href="#cb22-516" aria-hidden="true" tabindex="-1"></a><span class="vs">| TZ+ | TZ- | Start (°) | Mid (°) | End (°) | Start (cd) | Mid (cd) | End (cd) |</span></span>
<span id="cb22-517"><a href="#cb22-517" aria-hidden="true" tabindex="-1"></a><span class="vs">| --- | --- | ---       | ---     | ---     |   ---      | ---      | ---      |</span></span>
<span id="cb22-518"><a href="#cb22-518" aria-hidden="true" tabindex="-1"></a><span class="vs">| 9   | -1  |  -54      | -36     | -18     |   90       | 95       | 100      |</span></span>
<span id="cb22-519"><a href="#cb22-519" aria-hidden="true" tabindex="-1"></a><span class="vs">| 8   | -2  |  -90      | -72     | -54     |   80       | 85       | 90       |</span></span>
<span id="cb22-520"><a href="#cb22-520" aria-hidden="true" tabindex="-1"></a><span class="vs">| 7   | -3  |  -126     | -108    | -90     |   70       | 75       | 80       |</span></span>
<span id="cb22-521"><a href="#cb22-521" aria-hidden="true" tabindex="-1"></a><span class="vs">| 6   | -4  |  -162     | -144    | -126    |   60       | 65       | 70       |</span></span>
<span id="cb22-522"><a href="#cb22-522" aria-hidden="true" tabindex="-1"></a><span class="vs">| 5   | -5  |  162      | 180     | -162    |   50       | 55       | 60       |</span></span>
<span id="cb22-523"><a href="#cb22-523" aria-hidden="true" tabindex="-1"></a><span class="vs">| 4   | -6  |  126      | 144     | 162     |   40       | 45       | 50       |</span></span>
<span id="cb22-524"><a href="#cb22-524" aria-hidden="true" tabindex="-1"></a><span class="vs">| 3   | -7  |  90       | 108     | 126     |   30       | 35       | 40       |</span></span>
<span id="cb22-525"><a href="#cb22-525" aria-hidden="true" tabindex="-1"></a><span class="vs">| 2   | -8  |  54       | 72      | 90      |   20       | 25       | 30       |</span></span>
<span id="cb22-526"><a href="#cb22-526" aria-hidden="true" tabindex="-1"></a><span class="vs">| 1   | -9  |  18       | 36      | 54      |   10       | 15       | 20       |</span></span>
<span id="cb22-527"><a href="#cb22-527" aria-hidden="true" tabindex="-1"></a><span class="vs">| 0   | -10 | -18       | 0       | 18      |   0        | 5        | 10       |`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-22" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb23" data-startfrom="531" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 530;"><span id="cb23-531"><a href="#cb23-531" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Essentially, Declock combines several UTC time zones to form each of its time zones. This is only a rough approximation, because UTC time zones are [a hot mess](https://observablehq.com/@mbostock/time-zones) and Declock time zones are determined solely by longitude (as shown in the table above), not geographic or political boundaries. Nevertheless, a mapping of Dec time zones to UTC time zones can be useful:</span></span>
<span id="cb23-532"><a href="#cb23-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-533"><a href="#cb23-533" aria-hidden="true" tabindex="-1"></a><span class="vs">| TZ+ | TZ- | UTC | NATO | Abbreviations                                                            |</span></span>
<span id="cb23-534"><a href="#cb23-534" aria-hidden="true" tabindex="-1"></a><span class="vs">| --- | --  | --- | ---- | ----                                                                     |</span></span>
<span id="cb23-535"><a href="#cb23-535" aria-hidden="true" tabindex="-1"></a><span class="vs">| 0   | -10 | -1  | N    | AZOT, CVT, EGT                                                           |</span></span>
<span id="cb23-536"><a href="#cb23-536" aria-hidden="true" tabindex="-1"></a><span class="vs">| 0   | -10 | 0   | Z    | AZOST, EGST, GMT, UTC, WET                                               |</span></span>
<span id="cb23-537"><a href="#cb23-537" aria-hidden="true" tabindex="-1"></a><span class="vs">| 0   | -10 | 1   | A    | BST, CET, DFT, IST, MET, WAT, WEST                                       |</span></span>
<span id="cb23-538"><a href="#cb23-538" aria-hidden="true" tabindex="-1"></a><span class="vs">| 1   | -9  | 2   | B    | CAT, CEST, EET, HAEC, IST, KALT, MEST, SAST, WAST                        |</span></span>
<span id="cb23-539"><a href="#cb23-539" aria-hidden="true" tabindex="-1"></a><span class="vs">| 1   | -9  | 3   | C    | AST, EAT, EEST, FET, IDT, IOT, MSK, SYOT, TRT, VOLT                      |</span></span>
<span id="cb23-540"><a href="#cb23-540" aria-hidden="true" tabindex="-1"></a><span class="vs">| 2   | -8  | 4   | D    | AMT, AZT, GET, GST, MUT, RET, SAMT, SCT                                  |</span></span>
<span id="cb23-541"><a href="#cb23-541" aria-hidden="true" tabindex="-1"></a><span class="vs">| 2   | -8  | 5   | E    | AQTT, HMT, MAWT, MVT, ORAT, PKT, TFT, TJT, TMT, UZT, YEKT                |</span></span>
<span id="cb23-542"><a href="#cb23-542" aria-hidden="true" tabindex="-1"></a><span class="vs">| 2   | -8  | 6   | F    | ALMT, BIOT, BST, BTT, KGT, OMST, VOST                                    |</span></span>
<span id="cb23-543"><a href="#cb23-543" aria-hidden="true" tabindex="-1"></a><span class="vs">| 3   | -7  | 7   | G    | CXT, DAVT, HOVT, ICT, KRAT, NOVT, THA, WIB                               |</span></span>
<span id="cb23-544"><a href="#cb23-544" aria-hidden="true" tabindex="-1"></a><span class="vs">| 3   | -7  | 8   | H    | ACT, AWST, BNT, CHOT, CST, HKT, HOVST, IRKT, MST, MYT, PHST, PHT, SGT, SST, ULAT, WITA, WST |</span></span>
<span id="cb23-545"><a href="#cb23-545" aria-hidden="true" tabindex="-1"></a><span class="vs">| 4   | -6  | 9   | I    | CHOST, JST, KST, PWT, TLT, ULAST, WIT, YAKT                              |</span></span>
<span id="cb23-546"><a href="#cb23-546" aria-hidden="true" tabindex="-1"></a><span class="vs">| 4   | -6  | 10  | K    | AEST, CHST, CHUT, DDUT, PGT, VLAT                                        |</span></span>
<span id="cb23-547"><a href="#cb23-547" aria-hidden="true" tabindex="-1"></a><span class="vs">| 5   | -5  | 11  | L    | AEDT, BST, KOST, LHST, MIST, NCT, NFT, PONT, SAKT, SBT, SRET, VUT        |</span></span>
<span id="cb23-548"><a href="#cb23-548" aria-hidden="true" tabindex="-1"></a><span class="vs">| 5   | -5  | 12  | M    | ANAT, FJT, GILT, MAGT, MHT, NZST, PETT, TVT, WAKT                        |</span></span>
<span id="cb23-549"><a href="#cb23-549" aria-hidden="true" tabindex="-1"></a><span class="vs">| 5   | -5  | -12 | Y    | BIT, IDLW                                                                |</span></span>
<span id="cb23-550"><a href="#cb23-550" aria-hidden="true" tabindex="-1"></a><span class="vs">| 5   | -5  | -11 | X    | NUT, SST                                                                 |</span></span>
<span id="cb23-551"><a href="#cb23-551" aria-hidden="true" tabindex="-1"></a><span class="vs">| 6   | -4  | -10 | W    | CKT, HST, SDT, TAHT                                                      |</span></span>
<span id="cb23-552"><a href="#cb23-552" aria-hidden="true" tabindex="-1"></a><span class="vs">| 6   | -4  | -9  | V    | AKST, HDT, GAMT, GIT                                                     |</span></span>
<span id="cb23-553"><a href="#cb23-553" aria-hidden="true" tabindex="-1"></a><span class="vs">| 7   | -3  | -8  | U    | AKDT, CIST, PST                                                          |</span></span>
<span id="cb23-554"><a href="#cb23-554" aria-hidden="true" tabindex="-1"></a><span class="vs">| 7   | -3  | -7  | T    | MST, PDT                                                                 |</span></span>
<span id="cb23-555"><a href="#cb23-555" aria-hidden="true" tabindex="-1"></a><span class="vs">| 7   | -3  | -6  | S    | CST, EAST, GALT, MDT                                                     |</span></span>
<span id="cb23-556"><a href="#cb23-556" aria-hidden="true" tabindex="-1"></a><span class="vs">| 8   | -2  | -5  | R    | ACT, CDT, COT, CST, EASST, ECT, EST, PET                                 |</span></span>
<span id="cb23-557"><a href="#cb23-557" aria-hidden="true" tabindex="-1"></a><span class="vs">| 8   | -2  | -4  | Q    | AMT, AST, BOT, CDT, CLT, COST, ECT, EDT, FKT, GYT, PYT, VET              |</span></span>
<span id="cb23-558"><a href="#cb23-558" aria-hidden="true" tabindex="-1"></a><span class="vs">| 9   | -1  | -3  | P    | ADT, AMST, ART, BRT, CLST, FKST, GFT, PMST, PYST, ROTT, SRT, UYT, WGT    |</span></span>
<span id="cb23-559"><a href="#cb23-559" aria-hidden="true" tabindex="-1"></a><span class="vs">| 9   | -1  | -2  | O    | BRST, FNT, GST, PMDT, UYST, WGST                                         |</span></span>
<span id="cb23-560"><a href="#cb23-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-561"><a href="#cb23-561" aria-hidden="true" tabindex="-1"></a><span class="vs">The table only includes UTC offsets that have [NATO letter codes](https://en.wikipedia.org/wiki/Military_time_zone#:~:text=a%20standardized%2C%20uniform%20set%20of%20time%20zones%20for%20expressing%20time%20across%20different%20regions%20of%20the%20world%2C%20named%20after%20the%20NATO%20phonetic%20alphabet). Declock considers the M and Y time zones to be identical and puts them both in Zone 5 along with the L and X time zones. According to UTC, the M and Y time zones have the same time of day, but their dates differ by 1 day.😱</span></span>
<span id="cb23-562"><a href="#cb23-562" aria-hidden="true" tabindex="-1"></a><span class="vs">Several countries have floating decimal offsets, such as Iran and India, and are thus not represented in this table. Based on longitude, Iran is in Zone 1 and India is in Zone 2, but their UTC offsets are both in Zone 2 during Daylight Savings Time (DST) and in Zone 1 otherwise. I think this is another great example of how Dec is superior to our current time system. Dec has only 10 whole number time zones that never shift but local and solar time essentially offer infinite time zones by providing a different time zone at every longitude.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-23" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb24" data-startfrom="566" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 565;"><span id="cb24-566"><a href="#cb24-566" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`## Dec and UTC time zone differences</span></span>
<span id="cb24-567"><a href="#cb24-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-568"><a href="#cb24-568" aria-hidden="true" tabindex="-1"></a><span class="vs">The greatest difference between a Declock time zone and the corresponding UTC time zone is 5 centiday (1.2 hours or 72 minutes). </span></span>
<span id="cb24-569"><a href="#cb24-569" aria-hidden="true" tabindex="-1"></a><span class="vs">There is no difference between Zone 0 and UTC±00:00 or between Zone 5 and UTC±12:00.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-24" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb25" data-startfrom="573" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 572;"><span id="cb25-573"><a href="#cb25-573" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 7 and Central Time</span></span>
<span id="cb25-574"><a href="#cb25-574" aria-hidden="true" tabindex="-1"></a><span class="vs">Difference: 5 centiday (72 minutes)`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-25" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb26" data-startfrom="578" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 577;"><span id="cb26-578"><a href="#cb26-578" aria-hidden="true" tabindex="-1"></a>now<span class="op">.</span><span class="fu">toLocaleTimeString</span>(<span class="st">"en-US"</span><span class="op">,</span> {<span class="dt">timeZone</span><span class="op">:</span> <span class="st">"Etc/GMT+6"</span><span class="op">,</span> <span class="dt">hour12</span><span class="op">:</span> <span class="kw">false</span>})<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-26" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb27" data-startfrom="582" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 581;"><span id="cb27-582"><a href="#cb27-582" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone7hour)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone7min)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone7sec)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-27" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb28" data-startfrom="586" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 585;"><span id="cb28-586"><a href="#cb28-586" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`The difference between Central Time and Zone 7 is the highest possible: 5 centiday (72 minutes). In Dec, longitudes are measured starting from [Meridian 0](https://en.wikipedia.org/wiki/18th_meridian_west#:~:text=a%20line%20of%20longitude%20that%20extends%20from%20the%20North%20Pole%20across%20the%20Arctic%20Ocean%2C%20Greenland%2C%20Iceland%2C%20the%20Atlantic%20Ocean%2C%20the%20Canary%20Islands%2C%20the%20Southern%20Ocean%2C%20and%20Antarctica%20to%20the%20South%20Pole), the start of Zone 0 (-18°).  Meridian 0 is both the [Prime Meridian](https://en.wikipedia.org/wiki/Prime_meridian) and the [International Date Line](https://en.wikipedia.org/wiki/International_Date_Line#:~:text=the%20line%20between%20the%20South%20and%20North%20Poles%20that%20is%20the%20boundary%20between%20one%20calendar%20day%20and%20the%20next) in Dec. If we created a new Declock time zone called Zone 75 that started in between Zone 7 and Zone 8 on [Meridian 75](https://en.wikipedia.org/wiki/108th_meridian_west#:~:text=a%20line%20of%20longitude%20that%20extends%20from%20the%20North%20Pole%20across%20the%20Arctic%20Ocean%2C%20North%20America%2C%20the%20Pacific%20Ocean%2C%20the%20Southern%20Ocean%2C%20and%20Antarctica%20to%20the%20South%20Pole) (-108°), it would match Central Time exactly.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-28" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb29" data-startfrom="590" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 589;"><span id="cb29-590"><a href="#cb29-590" aria-hidden="true" tabindex="-1"></a>zone75hour <span class="op">=</span> (zone0 <span class="op">+</span> <span class="op">.</span><span class="dv">75</span>) <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">24</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-29" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb30" data-startfrom="594" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 593;"><span id="cb30-594"><a href="#cb30-594" aria-hidden="true" tabindex="-1"></a>zone75min <span class="op">=</span> zone75hour <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-30" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb31" data-startfrom="598" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 597;"><span id="cb31-598"><a href="#cb31-598" aria-hidden="true" tabindex="-1"></a>zone75sec <span class="op">=</span> zone75min <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-31" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb32" data-startfrom="602" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 601;"><span id="cb32-602"><a href="#cb32-602" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone75hour)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone75min)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone75sec)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-32" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb33" data-startfrom="606" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 605;"><span id="cb33-606"><a href="#cb33-606" aria-hidden="true" tabindex="-1"></a>now<span class="op">.</span><span class="fu">toLocaleTimeString</span>(<span class="st">"en-US"</span><span class="op">,</span> {<span class="dt">timeZone</span><span class="op">:</span> <span class="st">"America/Mexico_City"</span><span class="op">,</span> <span class="dt">hour12</span><span class="op">:</span> <span class="kw">false</span>})<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-33" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb34" data-startfrom="610" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 609;"><span id="cb34-610"><a href="#cb34-610" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 8 and Eastern Time</span></span>
<span id="cb34-611"><a href="#cb34-611" aria-hidden="true" tabindex="-1"></a><span class="vs">Difference: </span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`.8</span><span class="sc">\o</span><span class="vs">verline3`</span><span class="sc">}</span><span class="vs"> centiday (12 minutes)`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-34" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb35" data-startfrom="615" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 614;"><span id="cb35-615"><a href="#cb35-615" aria-hidden="true" tabindex="-1"></a>now<span class="op">.</span><span class="fu">toLocaleTimeString</span>(<span class="st">"en-US"</span><span class="op">,</span> {<span class="dt">timeZone</span><span class="op">:</span> <span class="st">"EST"</span><span class="op">,</span> <span class="dt">hour12</span><span class="op">:</span> <span class="kw">false</span>})<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-35" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb36" data-startfrom="619" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 618;"><span id="cb36-619"><a href="#cb36-619" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone8hour)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone8min)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone8sec)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-36" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb37" data-startfrom="623" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 622;"><span id="cb37-623"><a href="#cb37-623" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 0 and UTC+00:00</span></span>
<span id="cb37-624"><a href="#cb37-624" aria-hidden="true" tabindex="-1"></a><span class="vs">Difference: None!`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-37" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb38" data-startfrom="628" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 627;"><span id="cb38-628"><a href="#cb38-628" aria-hidden="true" tabindex="-1"></a>now<span class="op">.</span><span class="fu">toLocaleTimeString</span>(<span class="st">"en-US"</span><span class="op">,</span> {<span class="dt">timeZone</span><span class="op">:</span> <span class="st">"Etc/UTC"</span><span class="op">,</span> <span class="dt">hour12</span><span class="op">:</span> <span class="kw">false</span>})<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-38" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb39" data-startfrom="632" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 631;"><span id="cb39-632"><a href="#cb39-632" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone0hour)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone0min)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone0sec)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-39" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb40" data-startfrom="636" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 635;"><span id="cb40-636"><a href="#cb40-636" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 5 and UTC±12:00</span></span>
<span id="cb40-637"><a href="#cb40-637" aria-hidden="true" tabindex="-1"></a><span class="vs">Difference: None!`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-40" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb41" data-startfrom="641" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 640;"><span id="cb41-641"><a href="#cb41-641" aria-hidden="true" tabindex="-1"></a>now<span class="op">.</span><span class="fu">toLocaleTimeString</span>(<span class="st">"en-US"</span><span class="op">,</span> {<span class="dt">timeZone</span><span class="op">:</span> <span class="st">"Etc/GMT+12"</span><span class="op">,</span> <span class="dt">hour12</span><span class="op">:</span> <span class="kw">false</span>})<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-41" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb42" data-startfrom="645" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 644;"><span id="cb42-645"><a href="#cb42-645" aria-hidden="true" tabindex="-1"></a>now<span class="op">.</span><span class="fu">toLocaleTimeString</span>(<span class="st">"en-US"</span><span class="op">,</span> {<span class="dt">timeZone</span><span class="op">:</span> <span class="st">"Etc/GMT-12"</span><span class="op">,</span> <span class="dt">hour12</span><span class="op">:</span> <span class="kw">false</span>})<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-42" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb43" data-startfrom="649" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 648;"><span id="cb43-649"><a href="#cb43-649" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone5hour)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone5min)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">:</span><span class="sc">${</span><span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(zone5sec)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">2</span><span class="op">,</span> <span class="st">"0"</span>)<span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-43" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb44" data-startfrom="653" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 652;"><span id="cb44-653"><a href="#cb44-653" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Declock time zones go in increments of</span></span>
<span id="cb44-654"><a href="#cb44-654" aria-hidden="true" tabindex="-1"></a><span class="vs">- 1 deciday</span></span>
<span id="cb44-655"><a href="#cb44-655" aria-hidden="true" tabindex="-1"></a><span class="vs">- 36 degrees</span></span>
<span id="cb44-656"><a href="#cb44-656" aria-hidden="true" tabindex="-1"></a><span class="vs">- 1.2 (6/5) hours</span></span>
<span id="cb44-657"><a href="#cb44-657" aria-hidden="true" tabindex="-1"></a><span class="vs">- 72 minutes</span></span>
<span id="cb44-658"><a href="#cb44-658" aria-hidden="true" tabindex="-1"></a><span class="vs">- 4320 seconds</span></span>
<span id="cb44-659"><a href="#cb44-659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-660"><a href="#cb44-660" aria-hidden="true" tabindex="-1"></a><span class="vs">If we split each of these time zones in half, we would have 21 time zones (Zone 00 to Zone 95) that went in increments of</span></span>
<span id="cb44-661"><a href="#cb44-661" aria-hidden="true" tabindex="-1"></a><span class="vs">- 5 centiday</span></span>
<span id="cb44-662"><a href="#cb44-662" aria-hidden="true" tabindex="-1"></a><span class="vs">- 18 degrees</span></span>
<span id="cb44-663"><a href="#cb44-663" aria-hidden="true" tabindex="-1"></a><span class="vs">- .6 (3/5) hours</span></span>
<span id="cb44-664"><a href="#cb44-664" aria-hidden="true" tabindex="-1"></a><span class="vs">- 36 minutes</span></span>
<span id="cb44-665"><a href="#cb44-665" aria-hidden="true" tabindex="-1"></a><span class="vs">- 2160 seconds</span></span>
<span id="cb44-666"><a href="#cb44-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-667"><a href="#cb44-667" aria-hidden="true" tabindex="-1"></a><span class="vs">This would be close to the number of UTC offsets, but probably not worth the trouble. That being said, if someone reports their time as 25.00-25, quarterday (6AM) in Zone 25, we will know that this is the same as 5.00-5, noon (12PM) in Zone 5.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-44" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb45" data-startfrom="671" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 670;"><span id="cb45-671"><a href="#cb45-671" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Apart from different time zones, Declock times can differ from UTC times because of DST. Declock times never shift! The standard DST practice of switching to a different time zone (e.g. EST to EDT) for certain parts of the year (e.g Day 9 to Day 277) could work for Declock, but that goes against the simplicity of determining time zones solely by longitude.</span></span>
<span id="cb45-672"><a href="#cb45-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-673"><a href="#cb45-673" aria-hidden="true" tabindex="-1"></a><span class="vs">Of course, a country can decide to only have 1 time zone within its borders (China does this with UTC time zones). In fact, it would be OK to have anyone use whatever time zone they want as long as times are always provided with time zones, because it is easy to convert times across time zones: just increment or decrement the one-digit time zone along with the first digit of the time. </span></span>
<span id="cb45-674"><a href="#cb45-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-675"><a href="#cb45-675" aria-hidden="true" tabindex="-1"></a><span class="vs">When it is midday (.5 or 12pm) in Alaska and Hawaii, it is midnight (.0 or 12AM) in  Ukraine and Turkey: .5.0 = .0.5</span></span>
<span id="cb45-676"><a href="#cb45-676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-677"><a href="#cb45-677" aria-hidden="true" tabindex="-1"></a><span class="vs">When it is quadrans (.25 or 6AM) in England, it is dodrans (.75 or 6PM) in New Zealand: .25.4 = .75.9`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-45" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb46" data-startfrom="681" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 680;"><span id="cb46-681"><a href="#cb46-681" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`## Declock Time Zone Conversion`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-46" data-nodetype="expression">

</div>
</div>
</div>
<div class="quarto-ojs-syntax-error">
<div class="sourceCode" id="cb47" data-startfrom="685" data-syntax-error-position="8" data-source-offset="9"><pre class="sourceCode numberSource numberLines java code-with-copy"><code class="sourceCode java" style="counter-reset: source-line 684;"><span id="cb47-685"><a href="#cb47-685"></a>```<span class="op">{</span>ojs<span class="op">}</span></span>
<span id="cb47-686"><a href="#cb47-686"></a>md`The `unix2dote` function below determined your time zone to be Zone $<span class="op">{</span>local<span class="op">[</span><span class="dv">1</span><span class="op">]}</span> based on the <span class="op">[</span>UTC offset<span class="op">](</span>https<span class="op">:</span><span class="co">//en.wikipedia.org/wiki/UTC_offset#:~:text=difference%20in%20hours%20and%20minutes%20between%20Coordinated%20Universal%20Time%20%28UTC%29%20and%20local%20solar%20time) it obtained for your web browser.`</span></span>
<span id="cb47-687"><a href="#cb47-687"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
OJS Syntax Error (line 686, column 9)Unexpected token
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb48" data-startfrom="689" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 688;"><span id="cb48-689"><a href="#cb48-689" aria-hidden="true" tabindex="-1"></a>local <span class="op">=</span> <span class="fu">unix2dote</span>(unix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-48" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb49" data-startfrom="693" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 692;"><span id="cb49-693"><a href="#cb49-693" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">unix2dote</span>(unix<span class="op">,</span> zone<span class="op">,</span> offset <span class="op">=</span> <span class="dv">719468</span>) {</span>
<span id="cb49-694"><a href="#cb49-694" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> [</span>
<span id="cb49-695"><a href="#cb49-695" aria-hidden="true" tabindex="-1"></a>    (unix <span class="op">??</span> <span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()) <span class="op">/</span> <span class="dv">86400000</span></span>
<span id="cb49-696"><a href="#cb49-696" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> (zone <span class="op">=</span> zone <span class="op">??</span> (<span class="dv">10</span> <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">round</span>(</span>
<span id="cb49-697"><a href="#cb49-697" aria-hidden="true" tabindex="-1"></a>        (<span class="kw">new</span> <span class="bu">Date</span>)<span class="op">.</span><span class="fu">getTimezoneOffset</span>() <span class="op">/</span> <span class="dv">144</span>)) <span class="op">%</span> <span class="dv">10</span></span>
<span id="cb49-698"><a href="#cb49-698" aria-hidden="true" tabindex="-1"></a>      ) <span class="op">/</span> <span class="dv">10</span> <span class="op">+</span> offset<span class="op">,</span> zone]</span>
<span id="cb49-699"><a href="#cb49-699" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-49" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb50" data-startfrom="703" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 702;"><span id="cb50-703"><a href="#cb50-703" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`To convert to other a time to another time zone, add or subtract multiples of a deciday (a tenth of a day). This addition or subtraction is the same as using a time zone offset. Dec time zone numbers work like [array indexes](https://en.wikipedia.org/wiki/Array_%28data_structure%29#Element_identifier_and_addressing_formulas:~:text=The%20first%20element%20of%20the%20array%20is%20indexed%20by%20subscript%20of%200) and time zone offsets. We can switch between positive and negative indexes by adding 10 to positive indexes and subtracting 10 from negative indexes. We can add a positive or a negative index to Zone 0 time and obtain the time in the target time zone. Adding positive offsets always works, but adding a negative offset to a date with a time will give us the correct time on yesterday's date rather than today's date.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-50" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb51" data-startfrom="707" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 706;"><span id="cb51-707"><a href="#cb51-707" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 1 time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-51" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb52" data-startfrom="711" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 710;"><span id="cb52-711"><a href="#cb52-711" aria-hidden="true" tabindex="-1"></a>zone1 <span class="op">=</span> zone0 <span class="op">+</span> <span class="op">.</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-52" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb53" data-startfrom="715" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 714;"><span id="cb53-715"><a href="#cb53-715" aria-hidden="true" tabindex="-1"></a>zone1timeNum <span class="op">=</span> zone1 <span class="op">%</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-53" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb54" data-startfrom="719" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 718;"><span id="cb54-719"><a href="#cb54-719" aria-hidden="true" tabindex="-1"></a>zone1timeStr <span class="op">=</span> zone1timeNum<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-54" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb55" data-startfrom="723" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 722;"><span id="cb55-723"><a href="#cb55-723" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 2 time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-55" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb56" data-startfrom="727" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 726;"><span id="cb56-727"><a href="#cb56-727" aria-hidden="true" tabindex="-1"></a>zone2 <span class="op">=</span> zone0 <span class="op">+</span> <span class="op">.</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-56" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb57" data-startfrom="731" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 730;"><span id="cb57-731"><a href="#cb57-731" aria-hidden="true" tabindex="-1"></a>zone2timeNum <span class="op">=</span> zone2 <span class="op">%</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-57" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb58" data-startfrom="735" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 734;"><span id="cb58-735"><a href="#cb58-735" aria-hidden="true" tabindex="-1"></a>zone2timeStr <span class="op">=</span> zone2timeNum<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-58" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb59" data-startfrom="739" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 738;"><span id="cb59-739"><a href="#cb59-739" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 3 time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-59" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb60" data-startfrom="743" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 742;"><span id="cb60-743"><a href="#cb60-743" aria-hidden="true" tabindex="-1"></a>zone3 <span class="op">=</span> zone0 <span class="op">+</span> <span class="op">.</span><span class="dv">3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-60" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb61" data-startfrom="747" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 746;"><span id="cb61-747"><a href="#cb61-747" aria-hidden="true" tabindex="-1"></a>zone3timeNum <span class="op">=</span> zone3 <span class="op">%</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-61" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb62" data-startfrom="751" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 750;"><span id="cb62-751"><a href="#cb62-751" aria-hidden="true" tabindex="-1"></a>zone3timeStr <span class="op">=</span> zone3timeNum<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-62" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb63" data-startfrom="755" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 754;"><span id="cb63-755"><a href="#cb63-755" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 4 time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-63" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb64" data-startfrom="759" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 758;"><span id="cb64-759"><a href="#cb64-759" aria-hidden="true" tabindex="-1"></a>zone4 <span class="op">=</span> zone0 <span class="op">+</span> <span class="op">.</span><span class="dv">4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-64" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb65" data-startfrom="763" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 762;"><span id="cb65-763"><a href="#cb65-763" aria-hidden="true" tabindex="-1"></a>zone4timeNum <span class="op">=</span> zone4 <span class="op">%</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-65" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb66" data-startfrom="767" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 766;"><span id="cb66-767"><a href="#cb66-767" aria-hidden="true" tabindex="-1"></a>zone4timeStr <span class="op">=</span> zone4timeNum<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-66" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb67" data-startfrom="771" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 770;"><span id="cb67-771"><a href="#cb67-771" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 5 time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-67" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb68" data-startfrom="775" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 774;"><span id="cb68-775"><a href="#cb68-775" aria-hidden="true" tabindex="-1"></a>zone5 <span class="op">=</span> zone0 <span class="op">+</span> <span class="op">.</span><span class="dv">5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-68" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb69" data-startfrom="779" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 778;"><span id="cb69-779"><a href="#cb69-779" aria-hidden="true" tabindex="-1"></a>zone5timeNum <span class="op">=</span> zone5 <span class="op">%</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-69" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb70" data-startfrom="783" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 782;"><span id="cb70-783"><a href="#cb70-783" aria-hidden="true" tabindex="-1"></a>zone5timeStr <span class="op">=</span> zone5timeNum<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-70" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb71" data-startfrom="787" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 786;"><span id="cb71-787"><a href="#cb71-787" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 6 time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-71" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb72" data-startfrom="791" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 790;"><span id="cb72-791"><a href="#cb72-791" aria-hidden="true" tabindex="-1"></a>zone6 <span class="op">=</span> zone0 <span class="op">+</span> <span class="op">.</span><span class="dv">6</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-72" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb73" data-startfrom="795" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 794;"><span id="cb73-795"><a href="#cb73-795" aria-hidden="true" tabindex="-1"></a>zone6timeNum <span class="op">=</span> zone5 <span class="op">%</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-73" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb74" data-startfrom="799" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 798;"><span id="cb74-799"><a href="#cb74-799" aria-hidden="true" tabindex="-1"></a>zone6timeStr <span class="op">=</span> zone6timeNum<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-74" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb75" data-startfrom="803" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 802;"><span id="cb75-803"><a href="#cb75-803" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 7 time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-75" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb76" data-startfrom="807" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 806;"><span id="cb76-807"><a href="#cb76-807" aria-hidden="true" tabindex="-1"></a>zone7 <span class="op">=</span> zone0 <span class="op">+</span> <span class="op">.</span><span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-76" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb77" data-startfrom="811" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 810;"><span id="cb77-811"><a href="#cb77-811" aria-hidden="true" tabindex="-1"></a>zone7timeNum <span class="op">=</span> zone7 <span class="op">%</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-77" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb78" data-startfrom="815" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 814;"><span id="cb78-815"><a href="#cb78-815" aria-hidden="true" tabindex="-1"></a>zone7timeStr <span class="op">=</span> zone7timeNum<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-78" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb79" data-startfrom="819" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 818;"><span id="cb79-819"><a href="#cb79-819" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 8 time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-79" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb80" data-startfrom="823" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 822;"><span id="cb80-823"><a href="#cb80-823" aria-hidden="true" tabindex="-1"></a>zone8 <span class="op">=</span> zone0 <span class="op">+</span> <span class="op">.</span><span class="dv">8</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-80" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb81" data-startfrom="827" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 826;"><span id="cb81-827"><a href="#cb81-827" aria-hidden="true" tabindex="-1"></a>zone8timeNum <span class="op">=</span> zone8 <span class="op">%</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-81" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb82" data-startfrom="831" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 830;"><span id="cb82-831"><a href="#cb82-831" aria-hidden="true" tabindex="-1"></a>zone8timeStr <span class="op">=</span> zone8timeNum<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-82" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb83" data-startfrom="835" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 834;"><span id="cb83-835"><a href="#cb83-835" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 9 time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-83" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb84" data-startfrom="839" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 838;"><span id="cb84-839"><a href="#cb84-839" aria-hidden="true" tabindex="-1"></a>zone9 <span class="op">=</span> zone0 <span class="op">+</span> <span class="op">.</span><span class="dv">9</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-84" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb85" data-startfrom="843" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 842;"><span id="cb85-843"><a href="#cb85-843" aria-hidden="true" tabindex="-1"></a>zone9timeNum <span class="op">=</span> zone9 <span class="op">%</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-85" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb86" data-startfrom="847" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 846;"><span id="cb86-847"><a href="#cb86-847" aria-hidden="true" tabindex="-1"></a>zone9timeStr <span class="op">=</span> zone9timeNum<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-86" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb87" data-startfrom="851" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 850;"><span id="cb87-851"><a href="#cb87-851" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`## Calculate Declock times from UNIX time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-87" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb88" data-startfrom="855" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 854;"><span id="cb88-855"><a href="#cb88-855" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Obtain UNIX time.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-88" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb89" data-startfrom="859" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 858;"><span id="cb89-859"><a href="#cb89-859" aria-hidden="true" tabindex="-1"></a>unix <span class="op">=</span> {</span>
<span id="cb89-860"><a href="#cb89-860" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span>(<span class="kw">true</span>) {</span>
<span id="cb89-861"><a href="#cb89-861" aria-hidden="true" tabindex="-1"></a>    <span class="kw">yield</span> <span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()<span class="op">;</span></span>
<span id="cb89-862"><a href="#cb89-862" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb89-863"><a href="#cb89-863" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-89" data-nodetype="declaration">

</div>
</div>
</div>
<div class="quarto-ojs-syntax-error">
<div class="sourceCode" id="cb90" data-startfrom="867" data-syntax-error-position="576" data-source-offset="9"><pre class="sourceCode numberSource numberLines java code-with-copy"><code class="sourceCode java" style="counter-reset: source-line 866;"><span id="cb90-867"><a href="#cb90-867"></a>```<span class="op">{</span>ojs<span class="op">}</span></span>
<span id="cb90-868"><a href="#cb90-868"></a>md`To convert <span class="op">[</span>UNIX time<span class="op">](</span>https<span class="op">:</span><span class="co">//en.wikipedia.org/wiki/Unix_time#:~:text=a%20date%20and%20time%20representation%20widely%20used%20in%20computing) to Declock time, divide by 86400000 and take the number after the decimal. The resulting time is in Declock Time Zone 0, which has the same midpoint as UTC (0 degrees). The Dec calendar (Decalendar) version of the UNIX [epoch](https://en.wikipedia.org/wiki/Epoch_%28computing%29#:~:text=a%20fixed%20date%20and%20time%20used%20as%20a%20reference%20from%20which%20a%20computer%20measures%20system%20time.) is Year 1969 Day 306 or `1969+3060.00000-4` in the `year+dday.dday-z` timestamp format. The number shown below is the number of days since the UNIX epoch. Cool but useless fact: the UNIX epoch in Zone 6 decimal years is `1969.84`!`</span></span>
<span id="cb90-869"><a href="#cb90-869"></a>```</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
OJS Syntax Error (line 868, column 577)Unexpected token
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb91" data-startfrom="871" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 870;"><span id="cb91-871"><a href="#cb91-871" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Zone 0 time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-91" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb92" data-startfrom="875" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 874;"><span id="cb92-875"><a href="#cb92-875" aria-hidden="true" tabindex="-1"></a>zone0 <span class="op">=</span> unix <span class="op">/</span> <span class="dv">86400000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-92" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb93" data-startfrom="879" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 878;"><span id="cb93-879"><a href="#cb93-879" aria-hidden="true" tabindex="-1"></a>zone0timeNum <span class="op">=</span> zone0 <span class="op">%</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-93" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb94" data-startfrom="883" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 882;"><span id="cb94-883"><a href="#cb94-883" aria-hidden="true" tabindex="-1"></a>zone0timeStr <span class="op">=</span> zone0timeNum<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-94" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb95" data-startfrom="887" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 886;"><span id="cb95-887"><a href="#cb95-887" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`This simple calculation is all it takes to obtain the time in Declock Time Zone 0!`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-95" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb96" data-startfrom="891" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 890;"><span id="cb96-891"><a href="#cb96-891" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`## Convert HH:MM:SS time to Declock time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-96" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb97" data-startfrom="895" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 894;"><span id="cb97-895"><a href="#cb97-895" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`declock = </span><span class="sc">\f</span><span class="vs">rac{hour}{24} + </span><span class="sc">\f</span><span class="vs">rac{minute}{1440} + </span><span class="sc">\f</span><span class="vs">rac{second}{86400}`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-97" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb98" data-startfrom="899" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 898;"><span id="cb98-899"><a href="#cb98-899" aria-hidden="true" tabindex="-1"></a>now <span class="op">=</span> {</span>
<span id="cb98-900"><a href="#cb98-900" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span>(<span class="kw">true</span>) {</span>
<span id="cb98-901"><a href="#cb98-901" aria-hidden="true" tabindex="-1"></a>    <span class="kw">yield</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">;</span></span>
<span id="cb98-902"><a href="#cb98-902" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb98-903"><a href="#cb98-903" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-98" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb99" data-startfrom="907" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 906;"><span id="cb99-907"><a href="#cb99-907" aria-hidden="true" tabindex="-1"></a>now<span class="op">.</span><span class="fu">getUTCHours</span>() <span class="op">/</span> <span class="dv">24</span> <span class="op">+</span> now<span class="op">.</span><span class="fu">getUTCMinutes</span>() <span class="op">/</span> <span class="dv">1440</span> <span class="op">+</span> now<span class="op">.</span><span class="fu">getUTCSeconds</span>() <span class="op">/</span> <span class="dv">86400</span> <span class="op">+</span> now<span class="op">.</span><span class="fu">getUTCMilliseconds</span>() <span class="op">/</span> <span class="dv">86400000</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-99" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb100" data-startfrom="911" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 910;"><span id="cb100-911"><a href="#cb100-911" aria-hidden="true" tabindex="-1"></a>zone0timeNum</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-100" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb101" data-startfrom="915" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 914;"><span id="cb101-915"><a href="#cb101-915" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`## Convert Declock time to HH:MM:SS time`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-101" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb102" data-startfrom="919" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 918;"><span id="cb102-919"><a href="#cb102-919" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`hour = declock </span><span class="sc">\c</span><span class="vs">dot 24`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-102" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb103" data-startfrom="923" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 922;"><span id="cb103-923"><a href="#cb103-923" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`</span></span>
<span id="cb103-924"><a href="#cb103-924" aria-hidden="true" tabindex="-1"></a><span class="sc">${</span><span class="fu">tex</span><span class="vs">`minute = </span><span class="sc">\f</span><span class="vs">rac{hour - </span><span class="sc">\l</span><span class="vs">floor hour </span><span class="sc">\r</span><span class="vs">floor}{60}`</span><span class="sc">}</span></span>
<span id="cb103-925"><a href="#cb103-925" aria-hidden="true" tabindex="-1"></a><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-103" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb104" data-startfrom="929" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 928;"><span id="cb104-929"><a href="#cb104-929" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`</span><span class="sc">${</span><span class="fu">tex</span><span class="vs">`second = </span><span class="sc">\f</span><span class="vs">rac{minute - </span><span class="sc">\l</span><span class="vs">floor minute </span><span class="sc">\r</span><span class="vs">floor}{60}`</span><span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-104" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb105" data-startfrom="933" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 932;"><span id="cb105-933"><a href="#cb105-933" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Hours`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-105" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb106" data-startfrom="937" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 936;"><span id="cb106-937"><a href="#cb106-937" aria-hidden="true" tabindex="-1"></a>zone0hour <span class="op">=</span> zone0timeNum <span class="op">*</span> <span class="dv">24</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-106" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb107" data-startfrom="941" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 940;"><span id="cb107-941"><a href="#cb107-941" aria-hidden="true" tabindex="-1"></a>zone1hour <span class="op">=</span> zone1timeNum <span class="op">*</span> <span class="dv">24</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-107" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb108" data-startfrom="945" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 944;"><span id="cb108-945"><a href="#cb108-945" aria-hidden="true" tabindex="-1"></a>zone2hour <span class="op">=</span> zone2timeNum <span class="op">*</span> <span class="dv">24</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-108" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb109" data-startfrom="949" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 948;"><span id="cb109-949"><a href="#cb109-949" aria-hidden="true" tabindex="-1"></a>zone3hour <span class="op">=</span> zone3timeNum <span class="op">*</span> <span class="dv">24</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-109" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb110" data-startfrom="953" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 952;"><span id="cb110-953"><a href="#cb110-953" aria-hidden="true" tabindex="-1"></a>zone4hour <span class="op">=</span> zone4timeNum <span class="op">*</span> <span class="dv">24</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-110" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb111" data-startfrom="957" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 956;"><span id="cb111-957"><a href="#cb111-957" aria-hidden="true" tabindex="-1"></a>zone5hour <span class="op">=</span> zone5timeNum <span class="op">*</span> <span class="dv">24</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-111" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb112" data-startfrom="961" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 960;"><span id="cb112-961"><a href="#cb112-961" aria-hidden="true" tabindex="-1"></a>zone6hour <span class="op">=</span> zone6timeNum <span class="op">*</span> <span class="dv">24</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-112" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb113" data-startfrom="965" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 964;"><span id="cb113-965"><a href="#cb113-965" aria-hidden="true" tabindex="-1"></a>zone7hour <span class="op">=</span> zone7timeNum <span class="op">*</span> <span class="dv">24</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-113" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb114" data-startfrom="969" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 968;"><span id="cb114-969"><a href="#cb114-969" aria-hidden="true" tabindex="-1"></a>zone8hour <span class="op">=</span> zone8timeNum <span class="op">*</span> <span class="dv">24</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-114" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb115" data-startfrom="973" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 972;"><span id="cb115-973"><a href="#cb115-973" aria-hidden="true" tabindex="-1"></a>zone9hour <span class="op">=</span> zone9timeNum <span class="op">*</span> <span class="dv">24</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-115" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb116" data-startfrom="977" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 976;"><span id="cb116-977"><a href="#cb116-977" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Minutes`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-116" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb117" data-startfrom="981" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 980;"><span id="cb117-981"><a href="#cb117-981" aria-hidden="true" tabindex="-1"></a>zone0min <span class="op">=</span> zone0hour <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-117" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb118" data-startfrom="985" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 984;"><span id="cb118-985"><a href="#cb118-985" aria-hidden="true" tabindex="-1"></a>zone1min <span class="op">=</span> zone1hour <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-118" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb119" data-startfrom="989" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 988;"><span id="cb119-989"><a href="#cb119-989" aria-hidden="true" tabindex="-1"></a>zone2min <span class="op">=</span> zone2hour <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-119" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb120" data-startfrom="993" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 992;"><span id="cb120-993"><a href="#cb120-993" aria-hidden="true" tabindex="-1"></a>zone3min <span class="op">=</span> zone3hour <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-120" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb121" data-startfrom="997" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 996;"><span id="cb121-997"><a href="#cb121-997" aria-hidden="true" tabindex="-1"></a>zone4min <span class="op">=</span> zone4hour <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-121" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb122" data-startfrom="1001" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1000;"><span id="cb122-1001"><a href="#cb122-1001" aria-hidden="true" tabindex="-1"></a>zone5min <span class="op">=</span> zone5hour <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-122" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb123" data-startfrom="1005" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1004;"><span id="cb123-1005"><a href="#cb123-1005" aria-hidden="true" tabindex="-1"></a>zone6min <span class="op">=</span> zone6hour <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-123" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb124" data-startfrom="1009" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1008;"><span id="cb124-1009"><a href="#cb124-1009" aria-hidden="true" tabindex="-1"></a>zone7min <span class="op">=</span> zone7hour <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-124" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb125" data-startfrom="1013" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1012;"><span id="cb125-1013"><a href="#cb125-1013" aria-hidden="true" tabindex="-1"></a>zone8min <span class="op">=</span> zone8hour <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-125" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb126" data-startfrom="1017" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1016;"><span id="cb126-1017"><a href="#cb126-1017" aria-hidden="true" tabindex="-1"></a>zone9min <span class="op">=</span> zone9hour <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-126" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb127" data-startfrom="1021" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1020;"><span id="cb127-1021"><a href="#cb127-1021" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Seconds`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-127" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb128" data-startfrom="1025" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1024;"><span id="cb128-1025"><a href="#cb128-1025" aria-hidden="true" tabindex="-1"></a>zone0sec <span class="op">=</span> zone0min <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-128" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb129" data-startfrom="1029" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1028;"><span id="cb129-1029"><a href="#cb129-1029" aria-hidden="true" tabindex="-1"></a>zone1sec <span class="op">=</span> zone1min <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-129" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb130" data-startfrom="1033" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1032;"><span id="cb130-1033"><a href="#cb130-1033" aria-hidden="true" tabindex="-1"></a>zone2sec <span class="op">=</span> zone2min <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-130" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb131" data-startfrom="1037" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1036;"><span id="cb131-1037"><a href="#cb131-1037" aria-hidden="true" tabindex="-1"></a>zone3sec <span class="op">=</span> zone3min <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-131" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb132" data-startfrom="1041" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1040;"><span id="cb132-1041"><a href="#cb132-1041" aria-hidden="true" tabindex="-1"></a>zone4sec <span class="op">=</span> zone4min <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-132" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb133" data-startfrom="1045" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1044;"><span id="cb133-1045"><a href="#cb133-1045" aria-hidden="true" tabindex="-1"></a>zone5sec <span class="op">=</span> zone5min <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-133" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb134" data-startfrom="1049" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1048;"><span id="cb134-1049"><a href="#cb134-1049" aria-hidden="true" tabindex="-1"></a>zone6sec <span class="op">=</span> zone6min <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-134" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb135" data-startfrom="1053" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1052;"><span id="cb135-1053"><a href="#cb135-1053" aria-hidden="true" tabindex="-1"></a>zone7sec <span class="op">=</span> zone7min <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-135" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb136" data-startfrom="1057" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1056;"><span id="cb136-1057"><a href="#cb136-1057" aria-hidden="true" tabindex="-1"></a>zone8sec <span class="op">=</span> zone8min <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-136" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb137" data-startfrom="1061" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1060;"><span id="cb137-1061"><a href="#cb137-1061" aria-hidden="true" tabindex="-1"></a>zone9sec <span class="op">=</span> zone9min <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">60</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-137" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb138" data-startfrom="1065" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1064;"><span id="cb138-1065"><a href="#cb138-1065" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`## Martian and Earth time comparison`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-138" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb139" data-startfrom="1069" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1068;"><span id="cb139-1069"><a href="#cb139-1069" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`We can use a similar calculation to get the time in Time Zone 0 on Mars. The only difference is that we add 117 days to go from 1969+3060.0000-0 to 1970+0580.0000-0, an Earth date that coincides with the [northward spring equinox on Mars](https://en.wikipedia.org/wiki/Timekeeping_on_Mars#Year_numbering), and divide by 1.02749125 to convert Earth days to Martian days.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-139" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb140" data-startfrom="1073" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1072;"><span id="cb140-1073"><a href="#cb140-1073" aria-hidden="true" tabindex="-1"></a>marsZone0timeNum <span class="op">=</span> (unix <span class="op">/</span> <span class="dv">86400000</span> <span class="op">+</span> <span class="fl">6065.5848348500847758</span>) <span class="op">/</span> <span class="fl">1.0274912517</span> <span class="op">%</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-140" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb141" data-startfrom="1077" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1076;"><span id="cb141-1077"><a href="#cb141-1077" aria-hidden="true" tabindex="-1"></a>marsZone0timeStr <span class="op">=</span> marsZone0timeNum<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">slice</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-141" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb142" data-startfrom="1081" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1080;"><span id="cb142-1081"><a href="#cb142-1081" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`Earth time is about 2.75% faster than Martian time. This difference is noticeably when comparing the time since this webpage loaded in Earth beats (centimillidays) and Martian beats (centimillisols).`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-142" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb143" data-startfrom="1085" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1084;"><span id="cb143-1085"><a href="#cb143-1085" aria-hidden="true" tabindex="-1"></a>tick <span class="op">=</span> {</span>
<span id="cb143-1086"><a href="#cb143-1086" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb143-1087"><a href="#cb143-1087" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span> (<span class="kw">true</span>) {</span>
<span id="cb143-1088"><a href="#cb143-1088" aria-hidden="true" tabindex="-1"></a>    <span class="kw">yield</span> Promises<span class="op">.</span><span class="fu">tick</span>(<span class="dv">864</span><span class="op">,</span> <span class="op">++</span>i)<span class="op">;</span></span>
<span id="cb143-1089"><a href="#cb143-1089" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb143-1090"><a href="#cb143-1090" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-143" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb144" data-startfrom="1094" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1093;"><span id="cb144-1094"><a href="#cb144-1094" aria-hidden="true" tabindex="-1"></a>mars_tick <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">round</span>(tick <span class="op">/</span> <span class="fl">1.0274912517</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-144" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb145" data-startfrom="1098" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1097;"><span id="cb145-1098"><a href="#cb145-1098" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`At the top of the [Decalendar notebook](/@dec/al), you can find the current Dec timestamp in Zone 0 on Earth and Mars.`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-145" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb146" data-startfrom="1102" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1101;"><span id="cb146-1102"><a href="#cb146-1102" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`### Martian time zones</span></span>
<span id="cb146-1103"><a href="#cb146-1103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-1104"><a href="#cb146-1104" aria-hidden="true" tabindex="-1"></a><span class="vs">If we have the longitude of other points of interest on Mars, such as Martian rover landing sites, we can calculate their zonal and local Declock time. Declock time zones can be applied to Mars or any other celestial body, as long as we can select a longitude to serve as the center of that planet's Zone 0. Finding a Zone 0 midpoint is easy for [rocky planets](https://en.wikipedia.org/wiki/Terrestrial_planet#:~:text=a%20planet%20that%20is%20composed%20primarily%20of%20silicate%2C%20rocks%20or%20metals) without super dense atmospheres, but may be hard for other celestial bodies, like perpetually cloud-covered Venus or the gas giant Jupiter. The midpoint of Zone 0 on Earth is [Greenwich](https://en.wikipedia.org/wiki/Prime_meridian_%28Greenwich%29), while the analogous point on Mars is a crater called [Airy-0](https://en.wikipedia.org/wiki/Airy-0#:~:text=a%20crater%20inside%20the%20larger%20Airy%20Crater%20on%20Mars), which is centered on the Mars globe and map below. The longitude at Airy-0 is 5 [ctr](https://en.wikipedia.org/wiki/Turn_%28angle%29#:~:text=in%2C%20e.g.%2C-,centiturns%20%28ctr%29,-%2C%20milliturns%20%28mtr%29%2C%20etc), as measured from [Meridian](https://en.wikipedia.org/wiki/162nd_meridian_west#:~:text=a%20line%20of%20longitude%20that%20extends%20from%20the%20North%20Pole%20across%20the%20Arctic%20Ocean%2C%20North%20America%2C%20the%20Pacific%20Ocean%2C%20the%20Southern%20Ocean%2C%20and%20Antarctica%20to%20the%20South%20Pole) 0, the Dec [prime meridian](https://en.wikipedia.org/wiki/Prime_meridian#:~:text=an%20arbitrarily%2Dchosen%20meridian%20%28a%20line%20of%20longitude%29%20in%20a%20geographic%20coordinate%20system%20at%20which%20longitude%20is%20defined%20to%20be%200%C2%B0).`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-146" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb147" data-startfrom="1108" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1107;"><span id="cb147-1108"><a href="#cb147-1108" aria-hidden="true" tabindex="-1"></a>globe <span class="op">=</span> {  </span>
<span id="cb147-1109"><a href="#cb147-1109" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span> (<span class="kw">true</span>) {</span>
<span id="cb147-1110"><a href="#cb147-1110" aria-hidden="true" tabindex="-1"></a>    renderer<span class="op">.</span><span class="fu">render</span>(scene<span class="op">,</span> camera)<span class="op">;</span></span>
<span id="cb147-1111"><a href="#cb147-1111" aria-hidden="true" tabindex="-1"></a>    <span class="kw">yield</span> renderer<span class="op">.</span><span class="at">domElement</span><span class="op">;</span></span>
<span id="cb147-1112"><a href="#cb147-1112" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb147-1113"><a href="#cb147-1113" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-147" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb148" data-startfrom="1117" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1116;"><span id="cb148-1117"><a href="#cb148-1117" aria-hidden="true" tabindex="-1"></a>naturalEarth <span class="op">=</span> d3<span class="op">.</span><span class="fu">image</span>(</span>
<span id="cb148-1118"><a href="#cb148-1118" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://upload.wikimedia.org/wikipedia/commons/b/b7/Mars_G%C3%A9olocalisation.jpg"</span><span class="op">,</span></span>
<span id="cb148-1119"><a href="#cb148-1119" aria-hidden="true" tabindex="-1"></a><span class="co">//  naturalEarth = d3.image(</span></span>
<span id="cb148-1120"><a href="#cb148-1120" aria-hidden="true" tabindex="-1"></a><span class="co">//  "https://media.opennews.org/img/how-we-made-rewind-the-red/mars-base_4k.jpg",</span></span>
<span id="cb148-1121"><a href="#cb148-1121" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb148-1122"><a href="#cb148-1122" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">crossOrigin</span><span class="op">:</span> <span class="st">"anonymous"</span>})</span>
<span id="cb148-1123"><a href="#cb148-1123" aria-hidden="true" tabindex="-1"></a><span class="co">// {</span></span>
<span id="cb148-1124"><a href="#cb148-1124" aria-hidden="true" tabindex="-1"></a><span class="co">//     const image = new Image;</span></span>
<span id="cb148-1125"><a href="#cb148-1125" aria-hidden="true" tabindex="-1"></a><span class="co">//     image.crossOrigin = "anonymous";</span></span>
<span id="cb148-1126"><a href="#cb148-1126" aria-hidden="true" tabindex="-1"></a><span class="co">//     image.src = "https://gist.githubusercontent.com/jake-low/d519e00853b15e9cec391c3dab58e77f/raw/6e796038e4f34524059997f8e1f1c42ea289d805/ne1-small.png";</span></span>
<span id="cb148-1127"><a href="#cb148-1127" aria-hidden="true" tabindex="-1"></a><span class="co">//     image.onload = () =&gt; resolve(image);</span></span>
<span id="cb148-1128"><a href="#cb148-1128" aria-hidden="true" tabindex="-1"></a><span class="co">//     image.onerror = reject;</span></span>
<span id="cb148-1129"><a href="#cb148-1129" aria-hidden="true" tabindex="-1"></a><span class="co">//   });</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-148" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb149" data-startfrom="1133" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1132;"><span id="cb149-1133"><a href="#cb149-1133" aria-hidden="true" tabindex="-1"></a><span class="fu">md</span><span class="vs">`## Appendix`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-149" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb150" data-startfrom="1137" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1136;"><span id="cb150-1137"><a href="#cb150-1137" aria-hidden="true" tabindex="-1"></a>camera <span class="op">=</span> {</span>
<span id="cb150-1138"><a href="#cb150-1138" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> camera <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">PerspectiveCamera</span>(<span class="dv">8</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="fl">0.1</span><span class="op">,</span> <span class="dv">60</span>)<span class="op">;</span></span>
<span id="cb150-1139"><a href="#cb150-1139" aria-hidden="true" tabindex="-1"></a>  camera<span class="op">.</span><span class="at">position</span><span class="op">.</span><span class="fu">set</span>(<span class="op">-</span><span class="dv">12</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb150-1140"><a href="#cb150-1140" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> camera<span class="op">;</span></span>
<span id="cb150-1141"><a href="#cb150-1141" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-150" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb151" data-startfrom="1145" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1144;"><span id="cb151-1145"><a href="#cb151-1145" aria-hidden="true" tabindex="-1"></a>scene <span class="op">=</span> {</span>
<span id="cb151-1146"><a href="#cb151-1146" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> scene <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></span>
<span id="cb151-1147"><a href="#cb151-1147" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb151-1148"><a href="#cb151-1148" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>scene) {</span>
<span id="cb151-1149"><a href="#cb151-1149" aria-hidden="true" tabindex="-1"></a>    scene <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">Scene</span>()<span class="op">;</span></span>
<span id="cb151-1150"><a href="#cb151-1150" aria-hidden="true" tabindex="-1"></a>    scene<span class="op">.</span><span class="at">background</span> <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">Color</span>(<span class="st">'#f5f5f5'</span>)<span class="op">;</span></span>
<span id="cb151-1151"><a href="#cb151-1151" aria-hidden="true" tabindex="-1"></a>    scene<span class="op">.</span><span class="fu">add</span>(earth<span class="op">,</span> orbit<span class="op">,</span> light)<span class="op">;</span></span>
<span id="cb151-1152"><a href="#cb151-1152" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb151-1153"><a href="#cb151-1153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb151-1154"><a href="#cb151-1154" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> scene<span class="op">;</span></span>
<span id="cb151-1155"><a href="#cb151-1155" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-151" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb152" data-startfrom="1159" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1158;"><span id="cb152-1159"><a href="#cb152-1159" aria-hidden="true" tabindex="-1"></a>renderer <span class="op">=</span> {</span>
<span id="cb152-1160"><a href="#cb152-1160" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> renderer <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">WebGLRenderer</span>({<span class="dt">antialias</span><span class="op">:</span> <span class="kw">true</span>})</span>
<span id="cb152-1161"><a href="#cb152-1161" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb152-1162"><a href="#cb152-1162" aria-hidden="true" tabindex="-1"></a>  renderer<span class="op">.</span><span class="fu">setSize</span>(width<span class="op">,</span> width <span class="op">/</span> <span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb152-1163"><a href="#cb152-1163" aria-hidden="true" tabindex="-1"></a>  renderer<span class="op">.</span><span class="fu">setPixelRatio</span>(devicePixelRatio)<span class="op">;</span></span>
<span id="cb152-1164"><a href="#cb152-1164" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb152-1165"><a href="#cb152-1165" aria-hidden="true" tabindex="-1"></a>  invalidation<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> renderer<span class="op">.</span><span class="fu">dispose</span>())<span class="op">;</span></span>
<span id="cb152-1166"><a href="#cb152-1166" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb152-1167"><a href="#cb152-1167" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> renderer<span class="op">;</span></span>
<span id="cb152-1168"><a href="#cb152-1168" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-152" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb153" data-startfrom="1172" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1171;"><span id="cb153-1172"><a href="#cb153-1172" aria-hidden="true" tabindex="-1"></a>controls <span class="op">=</span> {</span>
<span id="cb153-1173"><a href="#cb153-1173" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> controls <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">OrbitControls</span>(camera<span class="op">,</span> renderer<span class="op">.</span><span class="at">domElement</span>)<span class="op">;</span></span>
<span id="cb153-1174"><a href="#cb153-1174" aria-hidden="true" tabindex="-1"></a>  controls<span class="op">.</span><span class="at">minDistance</span> <span class="op">=</span> <span class="dv">3</span><span class="op">;</span></span>
<span id="cb153-1175"><a href="#cb153-1175" aria-hidden="true" tabindex="-1"></a>  controls<span class="op">.</span><span class="at">maxDistance</span> <span class="op">=</span> <span class="dv">20</span><span class="op">;</span></span>
<span id="cb153-1176"><a href="#cb153-1176" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb153-1177"><a href="#cb153-1177" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> redraw <span class="op">=</span> () <span class="kw">=&gt;</span> renderer<span class="op">.</span><span class="fu">render</span>(scene<span class="op">,</span> camera)<span class="op">;</span></span>
<span id="cb153-1178"><a href="#cb153-1178" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb153-1179"><a href="#cb153-1179" aria-hidden="true" tabindex="-1"></a>  controls<span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">"change"</span><span class="op">,</span> redraw)<span class="op">;</span></span>
<span id="cb153-1180"><a href="#cb153-1180" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb153-1181"><a href="#cb153-1181" aria-hidden="true" tabindex="-1"></a>  invalidation<span class="op">.</span><span class="fu">then</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb153-1182"><a href="#cb153-1182" aria-hidden="true" tabindex="-1"></a>    controls<span class="op">.</span><span class="fu">removeEventListener</span>(<span class="st">"change"</span><span class="op">,</span> redraw)<span class="op">;</span></span>
<span id="cb153-1183"><a href="#cb153-1183" aria-hidden="true" tabindex="-1"></a>    controls<span class="op">.</span><span class="fu">dispose</span>()<span class="op">;</span></span>
<span id="cb153-1184"><a href="#cb153-1184" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb153-1185"><a href="#cb153-1185" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb153-1186"><a href="#cb153-1186" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> controls<span class="op">;</span></span>
<span id="cb153-1187"><a href="#cb153-1187" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-153" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb154" data-startfrom="1191" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1190;"><span id="cb154-1191"><a href="#cb154-1191" aria-hidden="true" tabindex="-1"></a><span class="co">//light = new THREE.AmbientLight('#fff')</span></span>
<span id="cb154-1192"><a href="#cb154-1192" aria-hidden="true" tabindex="-1"></a>light <span class="op">=</span> {</span>
<span id="cb154-1193"><a href="#cb154-1193" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> light <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">Group</span>()<span class="op">;</span></span>
<span id="cb154-1194"><a href="#cb154-1194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-1195"><a href="#cb154-1195" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> ambient <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">AmbientLight</span>(<span class="st">"#888"</span>)</span>
<span id="cb154-1196"><a href="#cb154-1196" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> directional <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">DirectionalLight</span>(<span class="st">"#aaa"</span>)</span>
<span id="cb154-1197"><a href="#cb154-1197" aria-hidden="true" tabindex="-1"></a>  directional<span class="op">.</span><span class="at">position</span><span class="op">.</span><span class="at">x</span> <span class="op">=</span> <span class="op">-</span><span class="dv">180</span><span class="op">;</span></span>
<span id="cb154-1198"><a href="#cb154-1198" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb154-1199"><a href="#cb154-1199" aria-hidden="true" tabindex="-1"></a>  light<span class="op">.</span><span class="fu">add</span>(ambient<span class="op">,</span> directional)</span>
<span id="cb154-1200"><a href="#cb154-1200" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> light<span class="op">;</span></span>
<span id="cb154-1201"><a href="#cb154-1201" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-154" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb155" data-startfrom="1205" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1204;"><span id="cb155-1205"><a href="#cb155-1205" aria-hidden="true" tabindex="-1"></a>earth <span class="op">=</span> {</span>
<span id="cb155-1206"><a href="#cb155-1206" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> earth <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></span>
<span id="cb155-1207"><a href="#cb155-1207" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb155-1208"><a href="#cb155-1208" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>earth) {</span>
<span id="cb155-1209"><a href="#cb155-1209" aria-hidden="true" tabindex="-1"></a>    earth <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">Mesh</span>()<span class="op">;</span></span>
<span id="cb155-1210"><a href="#cb155-1210" aria-hidden="true" tabindex="-1"></a>    earth<span class="op">.</span><span class="at">geometry</span> <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">SphereBufferGeometry</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">40</span><span class="op">,</span> <span class="dv">40</span>)<span class="op">;</span></span>
<span id="cb155-1211"><a href="#cb155-1211" aria-hidden="true" tabindex="-1"></a>    earth<span class="op">.</span><span class="at">rotation</span><span class="op">.</span><span class="at">y</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">;</span></span>
<span id="cb155-1212"><a href="#cb155-1212" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb155-1213"><a href="#cb155-1213" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb155-1214"><a href="#cb155-1214" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> earth<span class="op">;</span></span>
<span id="cb155-1215"><a href="#cb155-1215" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-155" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb156" data-startfrom="1219" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1218;"><span id="cb156-1219"><a href="#cb156-1219" aria-hidden="true" tabindex="-1"></a>orbit <span class="op">=</span> {</span>
<span id="cb156-1220"><a href="#cb156-1220" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> orbit <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></span>
<span id="cb156-1221"><a href="#cb156-1221" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-1222"><a href="#cb156-1222" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>orbit) {</span>
<span id="cb156-1223"><a href="#cb156-1223" aria-hidden="true" tabindex="-1"></a>    orbit <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">Group</span>()<span class="op">;</span>    </span>
<span id="cb156-1224"><a href="#cb156-1224" aria-hidden="true" tabindex="-1"></a>    <span class="co">// orbit.add(track, satellite);</span></span>
<span id="cb156-1225"><a href="#cb156-1225" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb156-1226"><a href="#cb156-1226" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb156-1227"><a href="#cb156-1227" aria-hidden="true" tabindex="-1"></a>  <span class="co">// orbit.rotation.x = satelliteInclination * Math.PI / 180;</span></span>
<span id="cb156-1228"><a href="#cb156-1228" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb156-1229"><a href="#cb156-1229" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> orbit<span class="op">;</span></span>
<span id="cb156-1230"><a href="#cb156-1230" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-156" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb157" data-startfrom="1234" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1233;"><span id="cb157-1234"><a href="#cb157-1234" aria-hidden="true" tabindex="-1"></a>texture <span class="op">=</span> {</span>
<span id="cb157-1235"><a href="#cb157-1235" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> texture <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></span>
<span id="cb157-1236"><a href="#cb157-1236" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb157-1237"><a href="#cb157-1237" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>texture) {</span>
<span id="cb157-1238"><a href="#cb157-1238" aria-hidden="true" tabindex="-1"></a>    texture <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">CanvasTexture</span>(map)<span class="op">;</span></span>
<span id="cb157-1239"><a href="#cb157-1239" aria-hidden="true" tabindex="-1"></a>    earth<span class="op">.</span><span class="at">material</span> <span class="op">=</span> <span class="kw">new</span> THREE<span class="op">.</span><span class="fu">MeshLambertMaterial</span>({ <span class="dt">map</span><span class="op">:</span> texture })<span class="op">;</span></span>
<span id="cb157-1240"><a href="#cb157-1240" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb157-1241"><a href="#cb157-1241" aria-hidden="true" tabindex="-1"></a>    texture<span class="op">.</span><span class="at">needsUpdate</span> <span class="op">=</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb157-1242"><a href="#cb157-1242" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb157-1243"><a href="#cb157-1243" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb157-1244"><a href="#cb157-1244" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> texture<span class="op">;</span></span>
<span id="cb157-1245"><a href="#cb157-1245" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-157" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb158" data-startfrom="1249" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1248;"><span id="cb158-1249"><a href="#cb158-1249" aria-hidden="true" tabindex="-1"></a>THREE <span class="op">=</span> {</span>
<span id="cb158-1250"><a href="#cb158-1250" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> THREE <span class="op">=</span> <span class="bu">window</span><span class="op">.</span><span class="at">THREE</span> <span class="op">=</span> <span class="cf">await</span> <span class="pp">require</span>(<span class="st">"three@0.97/build/three.min.js"</span>)<span class="op">;</span></span>
<span id="cb158-1251"><a href="#cb158-1251" aria-hidden="true" tabindex="-1"></a>  <span class="cf">await</span> <span class="pp">require</span>(<span class="st">"three@0.97/examples/js/controls/OrbitControls.js"</span>)<span class="op">.</span><span class="fu">catch</span>(() <span class="kw">=&gt;</span> {})<span class="op">;</span></span>
<span id="cb158-1252"><a href="#cb158-1252" aria-hidden="true" tabindex="-1"></a>  <span class="cf">await</span> <span class="pp">require</span>(<span class="st">"three@0.97/examples/js/loaders/OBJLoader.js"</span>)<span class="op">.</span><span class="fu">catch</span>(() <span class="kw">=&gt;</span> {})<span class="op">;</span></span>
<span id="cb158-1253"><a href="#cb158-1253" aria-hidden="true" tabindex="-1"></a>  <span class="cf">await</span> <span class="pp">require</span>(<span class="st">"three@0.97/examples/js/loaders/MTLLoader.js"</span>)<span class="op">.</span><span class="fu">catch</span>(() <span class="kw">=&gt;</span> {})<span class="op">;</span></span>
<span id="cb158-1254"><a href="#cb158-1254" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> THREE<span class="op">;</span></span>
<span id="cb158-1255"><a href="#cb158-1255" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-158" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb159" data-startfrom="1259" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1258;"><span id="cb159-1259"><a href="#cb159-1259" aria-hidden="true" tabindex="-1"></a>map <span class="op">=</span> {</span>
<span id="cb159-1260"><a href="#cb159-1260" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> canvas <span class="op">=</span> <span class="kw">this</span><span class="op">;</span></span>
<span id="cb159-1261"><a href="#cb159-1261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-1262"><a href="#cb159-1262" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>canvas) {</span>
<span id="cb159-1263"><a href="#cb159-1263" aria-hidden="true" tabindex="-1"></a>    canvas <span class="op">=</span> DOM<span class="op">.</span><span class="fu">context2d</span>(width<span class="op">,</span> width<span class="op">/</span><span class="dv">2</span>)<span class="op">.</span><span class="at">canvas</span><span class="op">;</span></span>
<span id="cb159-1264"><a href="#cb159-1264" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb159-1265"><a href="#cb159-1265" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb159-1266"><a href="#cb159-1266" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> context <span class="op">=</span> canvas<span class="op">.</span><span class="fu">getContext</span>(<span class="st">"2d"</span>)<span class="op">;</span></span>
<span id="cb159-1267"><a href="#cb159-1267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-1268"><a href="#cb159-1268" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> path <span class="op">=</span> d3<span class="op">.</span><span class="fu">geoPath</span>()</span>
<span id="cb159-1269"><a href="#cb159-1269" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">projection</span>(projection)</span>
<span id="cb159-1270"><a href="#cb159-1270" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">context</span>(context)<span class="op">;</span></span>
<span id="cb159-1271"><a href="#cb159-1271" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb159-1272"><a href="#cb159-1272" aria-hidden="true" tabindex="-1"></a>  context<span class="op">.</span><span class="fu">drawImage</span>(naturalEarth<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> width<span class="op">/</span><span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb159-1273"><a href="#cb159-1273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb159-1274"><a href="#cb159-1274" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb159-1275"><a href="#cb159-1275" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> canvas<span class="op">;</span></span>
<span id="cb159-1276"><a href="#cb159-1276" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-159" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb160" data-startfrom="1280" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1279;"><span id="cb160-1280"><a href="#cb160-1280" aria-hidden="true" tabindex="-1"></a>projection <span class="op">=</span> d3<span class="op">.</span><span class="fu">geoEquirectangular</span>()</span>
<span id="cb160-1281"><a href="#cb160-1281" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">fitSize</span>([width<span class="op">,</span> width<span class="op">/</span><span class="dv">2</span>]<span class="op">,</span> { <span class="dt">type</span><span class="op">:</span> <span class="st">'Sphere'</span> })</span>
<span id="cb160-1282"><a href="#cb160-1282" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">precision</span>(<span class="fl">0.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-160" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb161" data-startfrom="1286" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1285;"><span id="cb161-1286"><a href="#cb161-1286" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { slider } <span class="im">from</span> <span class="st">"@jashkenas/inputs"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-161" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb162" data-startfrom="1290" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1289;"><span id="cb162-1290"><a href="#cb162-1290" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Toggle } <span class="im">from</span> <span class="st">"@observablehq/inputs"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-162" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb163" data-startfrom="1294" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1293;"><span id="cb163-1294"><a href="#cb163-1294" aria-hidden="true" tabindex="-1"></a>selected <span class="op">=</span> <span class="vs">`</span><span class="sc">${</span><span class="bu">String</span>(<span class="fu">unix2dote</span>(unix<span class="op">,</span> <span class="fu">long2zone</span>(coordinates[<span class="dv">0</span>]))[<span class="dv">0</span>] <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">10</span>)<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">6</span>)<span class="sc">}</span><span class="vs">-</span><span class="sc">${</span><span class="fu">long2zone</span>(coordinates[<span class="dv">0</span>])<span class="sc">}</span><span class="vs">`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-163" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb164" data-startfrom="1298" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1297;"><span id="cb164-1298"><a href="#cb164-1298" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">long2zone</span>(degrees <span class="op">=</span> <span class="op">-</span><span class="dv">180</span>) {</span>
<span id="cb164-1299"><a href="#cb164-1299" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(<span class="fu">long2turn</span>(degrees<span class="op">,</span> <span class="dv">1</span>))<span class="op">;</span></span>
<span id="cb164-1300"><a href="#cb164-1300" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-164" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb165" data-startfrom="1304" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1303;"><span id="cb165-1304"><a href="#cb165-1304" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">long2turn</span>(degrees <span class="op">=</span> <span class="op">-</span><span class="dv">180</span><span class="op">,</span> e <span class="op">=</span> <span class="dv">3</span>) {</span>
<span id="cb165-1305"><a href="#cb165-1305" aria-hidden="true" tabindex="-1"></a>  <span class="co">// turns: e=0, deciturns: e=1, etc.</span></span>
<span id="cb165-1306"><a href="#cb165-1306" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (((degrees <span class="op">%=</span> <span class="dv">360</span>) <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> degrees <span class="op">+</span> <span class="dv">360</span> <span class="op">:</span> degrees) <span class="op">+</span> <span class="dv">18</span>) <span class="op">/</span> (<span class="dv">360</span> <span class="op">/</span> <span class="dv">10</span><span class="op">**</span>e) <span class="op">%</span> <span class="dv">10</span><span class="op">**</span>e<span class="op">;</span></span>
<span id="cb165-1307"><a href="#cb165-1307" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-165" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb166" data-startfrom="1311" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1310;"><span id="cb166-1311"><a href="#cb166-1311" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">lati2turn</span>(degrees <span class="op">=</span> <span class="op">-</span><span class="dv">180</span><span class="op">,</span> e <span class="op">=</span> <span class="dv">3</span>) {</span>
<span id="cb166-1312"><a href="#cb166-1312" aria-hidden="true" tabindex="-1"></a>  <span class="co">// turns: e=0, deciturns: e=1, etc.</span></span>
<span id="cb166-1313"><a href="#cb166-1313" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> ((degrees <span class="op">%=</span> <span class="dv">360</span>) <span class="op">&lt;</span> <span class="dv">0</span> <span class="op">?</span> degrees <span class="op">+</span> <span class="dv">360</span> <span class="op">:</span> degrees) <span class="op">/</span> (<span class="dv">360</span> <span class="op">/</span> <span class="dv">10</span><span class="op">**</span>e) <span class="op">%</span> <span class="dv">10</span><span class="op">**</span>e<span class="op">;</span></span>
<span id="cb166-1314"><a href="#cb166-1314" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-166" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb167" data-startfrom="1318" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1317;"><span id="cb167-1318"><a href="#cb167-1318" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">lati2turn1</span>(degrees <span class="op">=</span> <span class="op">-</span><span class="dv">180</span><span class="op">,</span> e <span class="op">=</span> <span class="dv">3</span>) {</span>
<span id="cb167-1319"><a href="#cb167-1319" aria-hidden="true" tabindex="-1"></a>  <span class="co">// turns: e=0, deciturns: e=1, etc.</span></span>
<span id="cb167-1320"><a href="#cb167-1320" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (degrees <span class="op">%=</span> <span class="dv">360</span>) <span class="op">/</span> (<span class="dv">360</span> <span class="op">/</span> <span class="dv">10</span><span class="op">**</span>e) <span class="op">%</span> <span class="dv">10</span><span class="op">**</span>e<span class="op">;</span></span>
<span id="cb167-1321"><a href="#cb167-1321" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-167" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb168" data-startfrom="1325" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1324;"><span id="cb168-1325"><a href="#cb168-1325" aria-hidden="true" tabindex="-1"></a>solar1 <span class="op">=</span> (<span class="cf">await</span> <span class="pp">require</span>(<span class="st">"solar-calculator@0.2"</span>))(coordinates)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-168" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb169" data-startfrom="1329" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1328;"><span id="cb169-1329"><a href="#cb169-1329" aria-hidden="true" tabindex="-1"></a>borders <span class="op">=</span> topojson<span class="op">.</span><span class="fu">mesh</span>(countryBorders<span class="op">,</span> countryBorders<span class="op">.</span><span class="at">objects</span><span class="op">.</span><span class="at">countries</span><span class="op">,</span> (a<span class="op">,</span> b) <span class="kw">=&gt;</span> a <span class="op">!==</span> b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-169" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb170" data-startfrom="1333" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1332;"><span id="cb170-1333"><a href="#cb170-1333" aria-hidden="true" tabindex="-1"></a>countryBorders <span class="op">=</span> <span class="fu">fetch</span>(<span class="st">"https://cdn.jsdelivr.net/npm/world-atlas@2/countries-50m.json"</span>)<span class="op">.</span><span class="fu">then</span>(response <span class="kw">=&gt;</span> response<span class="op">.</span><span class="fu">json</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-170" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb171" data-startfrom="1337" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1336;"><span id="cb171-1337"><a href="#cb171-1337" aria-hidden="true" tabindex="-1"></a>boundaries <span class="op">=</span> topojson<span class="op">.</span><span class="fu">mesh</span>(world<span class="op">,</span>world<span class="op">.</span><span class="at">objects</span><span class="op">.</span><span class="at">countries</span><span class="op">,</span> (a<span class="op">,</span> b) <span class="kw">=&gt;</span> a <span class="op">!==</span> b)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-171" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb172" data-startfrom="1341" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1340;"><span id="cb172-1341"><a href="#cb172-1341" aria-hidden="true" tabindex="-1"></a>sun <span class="op">=</span> {</span>
<span id="cb172-1342"><a href="#cb172-1342" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> now <span class="op">=</span> <span class="kw">new</span> <span class="bu">Date</span><span class="op">;</span></span>
<span id="cb172-1343"><a href="#cb172-1343" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> day <span class="op">=</span> <span class="kw">new</span> <span class="bu">Date</span>(<span class="op">+</span>now)<span class="op">.</span><span class="fu">setUTCHours</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb172-1344"><a href="#cb172-1344" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> t <span class="op">=</span> solar<span class="op">.</span><span class="fu">century</span>(now)<span class="op">;</span></span>
<span id="cb172-1345"><a href="#cb172-1345" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> longitude <span class="op">=</span> (day <span class="op">-</span> now) <span class="op">/</span> <span class="fl">864e5</span> <span class="op">*</span> <span class="dv">360</span> <span class="op">-</span> <span class="dv">180</span><span class="op">;</span></span>
<span id="cb172-1346"><a href="#cb172-1346" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> [longitude <span class="op">-</span> solar<span class="op">.</span><span class="fu">equationOfTime</span>(t) <span class="op">/</span> <span class="dv">4</span><span class="op">,</span> solar<span class="op">.</span><span class="fu">declination</span>(t)]<span class="op">;</span></span>
<span id="cb172-1347"><a href="#cb172-1347" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-172" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb173" data-startfrom="1351" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1350;"><span id="cb173-1351"><a href="#cb173-1351" aria-hidden="true" tabindex="-1"></a>night <span class="op">=</span> d3<span class="op">.</span><span class="fu">geoCircle</span>()</span>
<span id="cb173-1352"><a href="#cb173-1352" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">radius</span>(<span class="dv">90</span>)</span>
<span id="cb173-1353"><a href="#cb173-1353" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">center</span>(<span class="fu">antipode</span>(sun))</span>
<span id="cb173-1354"><a href="#cb173-1354" aria-hidden="true" tabindex="-1"></a>  ()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-173" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb174" data-startfrom="1358" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1357;"><span id="cb174-1358"><a href="#cb174-1358" aria-hidden="true" tabindex="-1"></a>antipode <span class="op">=</span> ([longitude<span class="op">,</span> latitude]) <span class="kw">=&gt;</span> [longitude <span class="op">+</span> <span class="dv">180</span><span class="op">,</span> <span class="op">-</span>latitude]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-174" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb175" data-startfrom="1362" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1361;"><span id="cb175-1362"><a href="#cb175-1362" aria-hidden="true" tabindex="-1"></a>solar <span class="op">=</span> <span class="pp">require</span>(<span class="st">"solar-calculator@0.3/dist/solar-calculator.min.js"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-175" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb176" data-startfrom="1366" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1365;"><span id="cb176-1366"><a href="#cb176-1366" aria-hidden="true" tabindex="-1"></a>SunCalc <span class="op">=</span> <span class="pp">require</span>(<span class="st">"suncalc3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-176" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb177" data-startfrom="1370" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1369;"><span id="cb177-1370"><a href="#cb177-1370" aria-hidden="true" tabindex="-1"></a>pos <span class="op">=</span> SunCalc<span class="op">.</span><span class="fu">getPosition</span>(<span class="bu">Date</span><span class="op">.</span><span class="fu">now</span>()<span class="op">,</span> coordinates[<span class="dv">1</span>]<span class="op">,</span> coordinates[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-177" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb178" data-startfrom="1374" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1373;"><span id="cb178-1374"><a href="#cb178-1374" aria-hidden="true" tabindex="-1"></a>pos[<span class="st">"azimuth"</span>] <span class="op">*</span> <span class="dv">180</span> <span class="op">/</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-178" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb179" data-startfrom="1378" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1377;"><span id="cb179-1378"><a href="#cb179-1378" aria-hidden="true" tabindex="-1"></a>pos[<span class="st">"azimuth"</span>] <span class="op">/</span> (<span class="dv">2</span> <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-179" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb180" data-startfrom="1382" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1381;"><span id="cb180-1382"><a href="#cb180-1382" aria-hidden="true" tabindex="-1"></a>pos[<span class="st">"declination"</span>] <span class="op">*</span> <span class="dv">180</span> <span class="op">/</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-180" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb181" data-startfrom="1386" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1385;"><span id="cb181-1386"><a href="#cb181-1386" aria-hidden="true" tabindex="-1"></a>pos[<span class="st">"zenith"</span>] <span class="op">*</span> <span class="dv">180</span> <span class="op">/</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-181" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb182" data-startfrom="1390" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1389;"><span id="cb182-1390"><a href="#cb182-1390" aria-hidden="true" tabindex="-1"></a>style <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;style&gt;</span></span>
<span id="cb182-1391"><a href="#cb182-1391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-1392"><a href="#cb182-1392" aria-hidden="true" tabindex="-1"></a><span class="vs">#clock {</span></span>
<span id="cb182-1393"><a href="#cb182-1393" aria-hidden="true" tabindex="-1"></a><span class="vs">  stroke: #000;</span></span>
<span id="cb182-1394"><a href="#cb182-1394" aria-hidden="true" tabindex="-1"></a><span class="vs">  font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; </span></span>
<span id="cb182-1395"><a href="#cb182-1395" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb182-1396"><a href="#cb182-1396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-1397"><a href="#cb182-1397" aria-hidden="true" tabindex="-1"></a><span class="vs">#clock #rim {</span></span>
<span id="cb182-1398"><a href="#cb182-1398" aria-hidden="true" tabindex="-1"></a><span class="vs">  fill: none;</span></span>
<span id="cb182-1399"><a href="#cb182-1399" aria-hidden="true" tabindex="-1"></a><span class="vs">  stroke: #999;</span></span>
<span id="cb182-1400"><a href="#cb182-1400" aria-hidden="true" tabindex="-1"></a><span class="vs">  stroke-width: 3px;</span></span>
<span id="cb182-1401"><a href="#cb182-1401" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb182-1402"><a href="#cb182-1402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-1403"><a href="#cb182-1403" aria-hidden="true" tabindex="-1"></a><span class="vs">#clock .second-hand {</span></span>
<span id="cb182-1404"><a href="#cb182-1404" aria-hidden="true" tabindex="-1"></a><span class="vs">  stroke-width:3;</span></span>
<span id="cb182-1405"><a href="#cb182-1405" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb182-1406"><a href="#cb182-1406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-1407"><a href="#cb182-1407" aria-hidden="true" tabindex="-1"></a><span class="vs">#clock .minute-hand {</span></span>
<span id="cb182-1408"><a href="#cb182-1408" aria-hidden="true" tabindex="-1"></a><span class="vs">  stroke-width:8;</span></span>
<span id="cb182-1409"><a href="#cb182-1409" aria-hidden="true" tabindex="-1"></a><span class="vs">  stroke-linecap:round;</span></span>
<span id="cb182-1410"><a href="#cb182-1410" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb182-1411"><a href="#cb182-1411" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-1412"><a href="#cb182-1412" aria-hidden="true" tabindex="-1"></a><span class="vs">#clock .hour-hand {</span></span>
<span id="cb182-1413"><a href="#cb182-1413" aria-hidden="true" tabindex="-1"></a><span class="vs">  stroke-width:12;</span></span>
<span id="cb182-1414"><a href="#cb182-1414" aria-hidden="true" tabindex="-1"></a><span class="vs">  stroke-linecap:round;</span></span>
<span id="cb182-1415"><a href="#cb182-1415" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb182-1416"><a href="#cb182-1416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-1417"><a href="#cb182-1417" aria-hidden="true" tabindex="-1"></a><span class="vs">#clock .hands-cover {</span></span>
<span id="cb182-1418"><a href="#cb182-1418" aria-hidden="true" tabindex="-1"></a><span class="vs">  stroke-width:3;</span></span>
<span id="cb182-1419"><a href="#cb182-1419" aria-hidden="true" tabindex="-1"></a><span class="vs">  fill:#fff;</span></span>
<span id="cb182-1420"><a href="#cb182-1420" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb182-1421"><a href="#cb182-1421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-1422"><a href="#cb182-1422" aria-hidden="true" tabindex="-1"></a><span class="vs">#clock .second-tick {</span></span>
<span id="cb182-1423"><a href="#cb182-1423" aria-hidden="true" tabindex="-1"></a><span class="vs">  stroke-width:3;</span></span>
<span id="cb182-1424"><a href="#cb182-1424" aria-hidden="true" tabindex="-1"></a><span class="vs">  fill:#000;  </span></span>
<span id="cb182-1425"><a href="#cb182-1425" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb182-1426"><a href="#cb182-1426" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-1427"><a href="#cb182-1427" aria-hidden="true" tabindex="-1"></a><span class="vs">#clock .hour-tick {</span></span>
<span id="cb182-1428"><a href="#cb182-1428" aria-hidden="true" tabindex="-1"></a><span class="vs">  stroke-width:8; // same as the minute hand</span></span>
<span id="cb182-1429"><a href="#cb182-1429" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb182-1430"><a href="#cb182-1430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-1431"><a href="#cb182-1431" aria-hidden="true" tabindex="-1"></a><span class="vs">#clock .second-label {</span></span>
<span id="cb182-1432"><a href="#cb182-1432" aria-hidden="true" tabindex="-1"></a><span class="vs">  font-size: 12px;</span></span>
<span id="cb182-1433"><a href="#cb182-1433" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb182-1434"><a href="#cb182-1434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-1435"><a href="#cb182-1435" aria-hidden="true" tabindex="-1"></a><span class="vs">#clock .hour-label {</span></span>
<span id="cb182-1436"><a href="#cb182-1436" aria-hidden="true" tabindex="-1"></a><span class="vs">  font-size: 24px;</span></span>
<span id="cb182-1437"><a href="#cb182-1437" aria-hidden="true" tabindex="-1"></a><span class="vs">}</span></span>
<span id="cb182-1438"><a href="#cb182-1438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-1439"><a href="#cb182-1439" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/style&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-182" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb183" data-startfrom="1443" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1442;"><span id="cb183-1443"><a href="#cb183-1443" aria-hidden="true" tabindex="-1"></a>dateRange <span class="op">=</span> d3<span class="op">.</span><span class="at">utcDay</span><span class="op">.</span><span class="fu">range</span>(<span class="kw">new</span> <span class="bu">Date</span>(<span class="st">"2024-03-02"</span>)<span class="op">,</span> <span class="kw">new</span> <span class="bu">Date</span>(<span class="st">"2025-03-02"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-183" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb184" data-startfrom="1447" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1446;"><span id="cb184-1447"><a href="#cb184-1447" aria-hidden="true" tabindex="-1"></a>noons <span class="op">=</span> dateRange<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> SunCalc<span class="op">.</span><span class="fu">getSunTimes</span>(d<span class="op">,</span> coordinates[<span class="dv">1</span>]<span class="op">,</span> coordinates[<span class="dv">0</span>])[<span class="st">"solarNoon"</span>][<span class="st">"value"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-184" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb185" data-startfrom="1451" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1450;"><span id="cb185-1451"><a href="#cb185-1451" aria-hidden="true" tabindex="-1"></a>rises <span class="op">=</span> dateRange<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> SunCalc<span class="op">.</span><span class="fu">getSunTimes</span>(d<span class="op">,</span> coordinates[<span class="dv">1</span>]<span class="op">,</span> coordinates[<span class="dv">0</span>])[<span class="st">"sunriseStart"</span>][<span class="st">"value"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-185" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb186" data-startfrom="1455" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1454;"><span id="cb186-1455"><a href="#cb186-1455" aria-hidden="true" tabindex="-1"></a>sets <span class="op">=</span> dateRange<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> SunCalc<span class="op">.</span><span class="fu">getSunTimes</span>(d<span class="op">,</span> coordinates[<span class="dv">1</span>]<span class="op">,</span> coordinates[<span class="dv">0</span>])[<span class="st">"sunsetEnd"</span>][<span class="st">"value"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-186" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb187" data-startfrom="1459" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1458;"><span id="cb187-1459"><a href="#cb187-1459" aria-hidden="true" tabindex="-1"></a>zonalNoons <span class="op">=</span> noons<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getTime</span>() <span class="op">/</span> <span class="dv">86400000</span> <span class="op">-</span> <span class="op">.</span><span class="dv">4</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">round</span>((<span class="dv">144</span> <span class="op">+</span> coordinates[<span class="dv">0</span>]) <span class="op">/</span> <span class="dv">36</span>) <span class="op">/</span> <span class="dv">10</span>)<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">%</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-187" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb188" data-startfrom="1463" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1462;"><span id="cb188-1463"><a href="#cb188-1463" aria-hidden="true" tabindex="-1"></a>zonalRises <span class="op">=</span> rises<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getTime</span>() <span class="op">/</span> <span class="dv">86400000</span> <span class="op">-</span> <span class="op">.</span><span class="dv">4</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">round</span>((<span class="dv">144</span> <span class="op">+</span> coordinates[<span class="dv">0</span>]) <span class="op">/</span> <span class="dv">36</span>) <span class="op">/</span> <span class="dv">10</span>)<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">%</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">&gt;=</span> <span class="op">.</span><span class="dv">5</span> <span class="op">||</span> d <span class="op">&lt;=</span> <span class="op">.</span><span class="bn">05</span> <span class="op">?</span> <span class="kw">NaN</span> <span class="op">:</span> d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-188" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb189" data-startfrom="1467" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1466;"><span id="cb189-1467"><a href="#cb189-1467" aria-hidden="true" tabindex="-1"></a>zonalSets <span class="op">=</span> sets<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="fu">getTime</span>() <span class="op">/</span> <span class="dv">86400000</span> <span class="op">-</span> <span class="op">.</span><span class="dv">4</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">round</span>((<span class="dv">144</span> <span class="op">+</span> coordinates[<span class="dv">0</span>]) <span class="op">/</span> <span class="dv">36</span>) <span class="op">/</span> <span class="dv">10</span>)<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">%</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">&lt;=</span> <span class="op">.</span><span class="dv">5</span> <span class="op">||</span> d <span class="op">&gt;=</span> <span class="op">.</span><span class="dv">95</span> <span class="op">?</span> <span class="kw">NaN</span> <span class="op">:</span> d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-189" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb190" data-startfrom="1471" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1470;"><span id="cb190-1471"><a href="#cb190-1471" aria-hidden="true" tabindex="-1"></a>localNoons <span class="op">=</span> noons<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> ((d<span class="op">.</span><span class="fu">getTime</span>() <span class="op">/</span> <span class="dv">86400000</span> <span class="op">-</span> <span class="op">.</span><span class="dv">4</span> <span class="op">+</span> (<span class="dv">144</span> <span class="op">+</span> coordinates[<span class="dv">0</span>]) <span class="op">/</span> <span class="dv">360</span>)))<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">%</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-190" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb191" data-startfrom="1475" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1474;"><span id="cb191-1475"><a href="#cb191-1475" aria-hidden="true" tabindex="-1"></a>localRises <span class="op">=</span> rises<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> ((d<span class="op">.</span><span class="fu">getTime</span>() <span class="op">/</span> <span class="dv">86400000</span> <span class="op">-</span> <span class="op">.</span><span class="dv">4</span> <span class="op">+</span> (<span class="dv">144</span> <span class="op">+</span> coordinates[<span class="dv">0</span>]) <span class="op">/</span> <span class="dv">360</span>)))<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">%</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">&gt;=</span> <span class="op">.</span><span class="dv">5</span> <span class="op">||</span> d <span class="op">&lt;=</span> <span class="fl">0.05</span> <span class="op">?</span> <span class="kw">NaN</span> <span class="op">:</span> d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-191" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb192" data-startfrom="1479" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1478;"><span id="cb192-1479"><a href="#cb192-1479" aria-hidden="true" tabindex="-1"></a>localSets <span class="op">=</span> sets<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> ((d<span class="op">.</span><span class="fu">getTime</span>() <span class="op">/</span> <span class="dv">86400000</span> <span class="op">-</span> <span class="op">.</span><span class="dv">4</span> <span class="op">+</span> (<span class="dv">144</span> <span class="op">+</span> coordinates[<span class="dv">0</span>]) <span class="op">/</span> <span class="dv">360</span>)))<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">%</span> <span class="dv">1</span>)<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">&lt;=</span> <span class="op">.</span><span class="dv">5</span> <span class="op">||</span> d <span class="op">&gt;=</span> <span class="op">.</span><span class="dv">95</span> <span class="op">?</span> <span class="kw">NaN</span> <span class="op">:</span> d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-192" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb193" data-startfrom="1483" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1482;"><span id="cb193-1483"><a href="#cb193-1483" aria-hidden="true" tabindex="-1"></a>zonals <span class="op">=</span> zonalNoons<span class="op">.</span><span class="fu">map</span>((d<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">date</span><span class="op">:</span> i<span class="op">,</span> <span class="dt">rise</span><span class="op">:</span> zonalRises[i]<span class="op">,</span> <span class="dt">noon</span><span class="op">:</span> d<span class="op">,</span> <span class="kw">set</span><span class="op">:</span> zonalSets[i]}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-193" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb194" data-startfrom="1487" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1486;"><span id="cb194-1487"><a href="#cb194-1487" aria-hidden="true" tabindex="-1"></a>locals <span class="op">=</span> localNoons<span class="op">.</span><span class="fu">map</span>((d<span class="op">,</span> i) <span class="kw">=&gt;</span> ({<span class="dt">date</span><span class="op">:</span> i<span class="op">,</span> <span class="dt">rise</span><span class="op">:</span> localRises[i]<span class="op">,</span> <span class="dt">noon</span><span class="op">:</span> d<span class="op">,</span> <span class="kw">set</span><span class="op">:</span> localSets[i]}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-194" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb195" data-startfrom="1491" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1490;"><span id="cb195-1491"><a href="#cb195-1491" aria-hidden="true" tabindex="-1"></a>times <span class="op">=</span> [</span>
<span id="cb195-1492"><a href="#cb195-1492" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"zonal"</span><span class="op">,</span> locals]<span class="op">,</span></span>
<span id="cb195-1493"><a href="#cb195-1493" aria-hidden="true" tabindex="-1"></a>  [<span class="st">"local"</span><span class="op">,</span> zonals]<span class="op">,</span></span>
<span id="cb195-1494"><a href="#cb195-1494" aria-hidden="true" tabindex="-1"></a>]<span class="op">.</span><span class="fu">flatMap</span>(([symbol<span class="op">,</span> values]) <span class="kw">=&gt;</span> values<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> ({symbol<span class="op">,</span> <span class="op">...</span>d})))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-195" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb196" data-startfrom="1498" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1497;"><span id="cb196-1498"><a href="#cb196-1498" aria-hidden="true" tabindex="-1"></a>graticule <span class="op">=</span> d3<span class="op">.</span><span class="fu">geoGraticule</span>()<span class="op">.</span><span class="fu">stepMinor</span>([<span class="dv">36</span><span class="op">,</span><span class="dv">36</span>])<span class="op">.</span><span class="fu">stepMajor</span>([<span class="dv">36</span><span class="op">,</span><span class="dv">36</span>])()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-196" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb197" data-startfrom="1502" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1501;"><span id="cb197-1502"><a href="#cb197-1502" aria-hidden="true" tabindex="-1"></a>graticule<span class="op">.</span><span class="at">coordinates</span> <span class="op">=</span> graticule<span class="op">.</span><span class="at">coordinates</span><span class="op">.</span><span class="fu">map</span>(</span>
<span id="cb197-1503"><a href="#cb197-1503" aria-hidden="true" tabindex="-1"></a>  i <span class="kw">=&gt;</span> i<span class="op">.</span><span class="fu">map</span>(j <span class="kw">=&gt;</span> j<span class="op">.</span><span class="fu">map</span>((k<span class="op">,</span> index<span class="op">,</span> arr) <span class="kw">=&gt;</span> i<span class="op">.</span><span class="at">length</span> <span class="op">===</span> <span class="dv">3</span> <span class="op">&amp;&amp;</span> index <span class="op">===</span> <span class="dv">0</span> <span class="op">?</span> k <span class="op">-</span> <span class="dv">18</span> <span class="op">:</span> k))</span>
<span id="cb197-1504"><a href="#cb197-1504" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-197" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb198" data-startfrom="1508" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1507;"><span id="cb198-1508"><a href="#cb198-1508" aria-hidden="true" tabindex="-1"></a>land <span class="op">=</span> topojson<span class="op">.</span><span class="fu">feature</span>(world<span class="op">,</span> world<span class="op">.</span><span class="at">objects</span><span class="op">.</span><span class="at">land</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-198" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb199" data-startfrom="1512" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1511;"><span id="cb199-1512"><a href="#cb199-1512" aria-hidden="true" tabindex="-1"></a>world <span class="op">=</span> (<span class="cf">await</span> <span class="fu">fetch</span>(<span class="st">"https://cdn.jsdelivr.net/npm/world-atlas@1/world/110m.json"</span>))<span class="op">.</span><span class="fu">json</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-199" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb200" data-startfrom="1516" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1515;"><span id="cb200-1516"><a href="#cb200-1516" aria-hidden="true" tabindex="-1"></a>countries <span class="op">=</span> topojson<span class="op">.</span><span class="fu">feature</span>(world<span class="op">,</span> world<span class="op">.</span><span class="at">objects</span><span class="op">.</span><span class="at">countries</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-200" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb201" data-startfrom="1520" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1519;"><span id="cb201-1520"><a href="#cb201-1520" aria-hidden="true" tabindex="-1"></a>topojson <span class="op">=</span> <span class="pp">require</span>(<span class="st">"topojson-client@3"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-201" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb202" data-startfrom="1524" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1523;"><span id="cb202-1524"><a href="#cb202-1524" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> ({</span>
<span id="cb202-1525"><a href="#cb202-1525" aria-hidden="true" tabindex="-1"></a>  <span class="dt">night</span><span class="op">:</span> <span class="st">"#91afd6"</span><span class="op">,</span></span>
<span id="cb202-1526"><a href="#cb202-1526" aria-hidden="true" tabindex="-1"></a>  <span class="dt">day</span><span class="op">:</span> <span class="st">"#ffe438"</span><span class="op">,</span></span>
<span id="cb202-1527"><a href="#cb202-1527" aria-hidden="true" tabindex="-1"></a>  <span class="dt">grid</span><span class="op">:</span> <span class="st">"#4b6a79"</span><span class="op">,</span></span>
<span id="cb202-1528"><a href="#cb202-1528" aria-hidden="true" tabindex="-1"></a>  <span class="dt">ocean</span><span class="op">:</span> <span class="st">"#adeeff"</span><span class="op">,</span></span>
<span id="cb202-1529"><a href="#cb202-1529" aria-hidden="true" tabindex="-1"></a>  <span class="dt">land</span><span class="op">:</span> <span class="st">"#f5f1dc"</span><span class="op">,</span></span>
<span id="cb202-1530"><a href="#cb202-1530" aria-hidden="true" tabindex="-1"></a>  <span class="dt">sun</span><span class="op">:</span> <span class="st">"#ffe438"</span></span>
<span id="cb202-1531"><a href="#cb202-1531" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-202" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb203" data-startfrom="1535" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1534;"><span id="cb203-1535"><a href="#cb203-1535" aria-hidden="true" tabindex="-1"></a>label_style <span class="op">=</span> <span class="vs">`font: 13px/1.2 var(--sans-serif); width: 120px; font-size: </span><span class="sc">${</span>label_size<span class="sc">}</span><span class="vs">;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-203" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb204" data-startfrom="1539" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1538;"><span id="cb204-1539"><a href="#cb204-1539" aria-hidden="true" tabindex="-1"></a>label_size <span class="op">=</span> <span class="st">'80%'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-204" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb205" data-startfrom="1543" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1542;"><span id="cb205-1543"><a href="#cb205-1543" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">input</span>(config) {</span>
<span id="cb205-1544"><a href="#cb205-1544" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> {</span>
<span id="cb205-1545"><a href="#cb205-1545" aria-hidden="true" tabindex="-1"></a>    form<span class="op">,</span></span>
<span id="cb205-1546"><a href="#cb205-1546" aria-hidden="true" tabindex="-1"></a>    type <span class="op">=</span> <span class="st">"text"</span><span class="op">,</span></span>
<span id="cb205-1547"><a href="#cb205-1547" aria-hidden="true" tabindex="-1"></a>    attributes <span class="op">=</span> {}<span class="op">,</span></span>
<span id="cb205-1548"><a href="#cb205-1548" aria-hidden="true" tabindex="-1"></a>    action<span class="op">,</span></span>
<span id="cb205-1549"><a href="#cb205-1549" aria-hidden="true" tabindex="-1"></a>    getValue<span class="op">,</span></span>
<span id="cb205-1550"><a href="#cb205-1550" aria-hidden="true" tabindex="-1"></a>    title<span class="op">,</span></span>
<span id="cb205-1551"><a href="#cb205-1551" aria-hidden="true" tabindex="-1"></a>    description<span class="op">,</span></span>
<span id="cb205-1552"><a href="#cb205-1552" aria-hidden="true" tabindex="-1"></a>    format<span class="op">,</span></span>
<span id="cb205-1553"><a href="#cb205-1553" aria-hidden="true" tabindex="-1"></a>    display<span class="op">,</span></span>
<span id="cb205-1554"><a href="#cb205-1554" aria-hidden="true" tabindex="-1"></a>    submit<span class="op">,</span></span>
<span id="cb205-1555"><a href="#cb205-1555" aria-hidden="true" tabindex="-1"></a>    options</span>
<span id="cb205-1556"><a href="#cb205-1556" aria-hidden="true" tabindex="-1"></a>  } <span class="op">=</span> config<span class="op">;</span></span>
<span id="cb205-1557"><a href="#cb205-1557" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> wrapper <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;div&gt;&lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb205-1558"><a href="#cb205-1558" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="op">!</span>form)</span>
<span id="cb205-1559"><a href="#cb205-1559" aria-hidden="true" tabindex="-1"></a>    form <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;form&gt;</span></span>
<span id="cb205-1560"><a href="#cb205-1560" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;input name=input type=</span><span class="sc">${</span>type<span class="sc">}</span><span class="vs"> /&gt;</span></span>
<span id="cb205-1561"><a href="#cb205-1561" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;/form&gt;`</span><span class="op">;</span></span>
<span id="cb205-1562"><a href="#cb205-1562" aria-hidden="true" tabindex="-1"></a>  <span class="bu">Object</span><span class="op">.</span><span class="fu">keys</span>(attributes)<span class="op">.</span><span class="fu">forEach</span>(key <span class="kw">=&gt;</span> {</span>
<span id="cb205-1563"><a href="#cb205-1563" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> val <span class="op">=</span> attributes[key]<span class="op">;</span></span>
<span id="cb205-1564"><a href="#cb205-1564" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (val <span class="op">!=</span> <span class="kw">null</span>) form<span class="op">.</span><span class="at">input</span><span class="op">.</span><span class="fu">setAttribute</span>(key<span class="op">,</span> val)<span class="op">;</span></span>
<span id="cb205-1565"><a href="#cb205-1565" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb205-1566"><a href="#cb205-1566" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (submit)</span>
<span id="cb205-1567"><a href="#cb205-1567" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="fu">append</span>(</span>
<span id="cb205-1568"><a href="#cb205-1568" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html</span><span class="vs">`&lt;input name=submit type=submit style="margin: 0 0.75em" value="</span><span class="sc">${</span></span>
<span id="cb205-1569"><a href="#cb205-1569" aria-hidden="true" tabindex="-1"></a>        <span class="kw">typeof</span> submit <span class="op">==</span> <span class="st">"string"</span> <span class="op">?</span> submit <span class="op">:</span> <span class="st">"Submit"</span></span>
<span id="cb205-1570"><a href="#cb205-1570" aria-hidden="true" tabindex="-1"></a>      <span class="sc">}</span><span class="vs">" /&gt;`</span></span>
<span id="cb205-1571"><a href="#cb205-1571" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb205-1572"><a href="#cb205-1572" aria-hidden="true" tabindex="-1"></a>  form<span class="op">.</span><span class="fu">append</span>(</span>
<span id="cb205-1573"><a href="#cb205-1573" aria-hidden="true" tabindex="-1"></a>    <span class="fu">html</span><span class="vs">`&lt;output name=output style="font: 14px Menlo, Consolas, monospace; margin-left: 0.5em;"&gt;&lt;/output&gt;`</span></span>
<span id="cb205-1574"><a href="#cb205-1574" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb205-1575"><a href="#cb205-1575" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (title)</span>
<span id="cb205-1576"><a href="#cb205-1576" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="fu">prepend</span>(</span>
<span id="cb205-1577"><a href="#cb205-1577" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html</span><span class="vs">`&lt;div style="font: 700 0.9rem sans-serif; margin-bottom: 3px;"&gt;</span><span class="sc">${</span>title<span class="sc">}</span><span class="vs">&lt;/div&gt;`</span></span>
<span id="cb205-1578"><a href="#cb205-1578" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb205-1579"><a href="#cb205-1579" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (description)</span>
<span id="cb205-1580"><a href="#cb205-1580" aria-hidden="true" tabindex="-1"></a>    form<span class="op">.</span><span class="fu">append</span>(</span>
<span id="cb205-1581"><a href="#cb205-1581" aria-hidden="true" tabindex="-1"></a>      <span class="fu">html</span><span class="vs">`&lt;div style="font-size: 0.85rem; font-style: italic; margin-top: 3px;"&gt;</span><span class="sc">${</span>description<span class="sc">}</span><span class="vs">&lt;/div&gt;`</span></span>
<span id="cb205-1582"><a href="#cb205-1582" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb205-1583"><a href="#cb205-1583" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (format)</span>
<span id="cb205-1584"><a href="#cb205-1584" aria-hidden="true" tabindex="-1"></a>    format <span class="op">=</span> <span class="kw">typeof</span> format <span class="op">===</span> <span class="st">"function"</span> <span class="op">?</span> format <span class="op">:</span> d3format<span class="op">.</span><span class="fu">format</span>(format)<span class="op">;</span></span>
<span id="cb205-1585"><a href="#cb205-1585" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (action) {</span>
<span id="cb205-1586"><a href="#cb205-1586" aria-hidden="true" tabindex="-1"></a>    <span class="fu">action</span>(form)<span class="op">;</span></span>
<span id="cb205-1587"><a href="#cb205-1587" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb205-1588"><a href="#cb205-1588" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> verb <span class="op">=</span> submit</span>
<span id="cb205-1589"><a href="#cb205-1589" aria-hidden="true" tabindex="-1"></a>      <span class="op">?</span> <span class="st">"onsubmit"</span></span>
<span id="cb205-1590"><a href="#cb205-1590" aria-hidden="true" tabindex="-1"></a>      <span class="op">:</span> type <span class="op">==</span> <span class="st">"button"</span></span>
<span id="cb205-1591"><a href="#cb205-1591" aria-hidden="true" tabindex="-1"></a>      <span class="op">?</span> <span class="st">"onclick"</span></span>
<span id="cb205-1592"><a href="#cb205-1592" aria-hidden="true" tabindex="-1"></a>      <span class="op">:</span> type <span class="op">==</span> <span class="st">"checkbox"</span> <span class="op">||</span> type <span class="op">==</span> <span class="st">"radio"</span></span>
<span id="cb205-1593"><a href="#cb205-1593" aria-hidden="true" tabindex="-1"></a>      <span class="op">?</span> <span class="st">"onchange"</span></span>
<span id="cb205-1594"><a href="#cb205-1594" aria-hidden="true" tabindex="-1"></a>      <span class="op">:</span> <span class="st">"oninput"</span><span class="op">;</span></span>
<span id="cb205-1595"><a href="#cb205-1595" aria-hidden="true" tabindex="-1"></a>    form[verb] <span class="op">=</span> e <span class="kw">=&gt;</span> {</span>
<span id="cb205-1596"><a href="#cb205-1596" aria-hidden="true" tabindex="-1"></a>      e <span class="op">&amp;&amp;</span> e<span class="op">.</span><span class="fu">preventDefault</span>()<span class="op">;</span></span>
<span id="cb205-1597"><a href="#cb205-1597" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> value <span class="op">=</span> getValue <span class="op">?</span> <span class="fu">getValue</span>(form<span class="op">.</span><span class="at">input</span>) <span class="op">:</span> form<span class="op">.</span><span class="at">input</span><span class="op">.</span><span class="at">value</span><span class="op">;</span></span>
<span id="cb205-1598"><a href="#cb205-1598" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (form<span class="op">.</span><span class="at">output</span>) {</span>
<span id="cb205-1599"><a href="#cb205-1599" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> out <span class="op">=</span> display <span class="op">?</span> <span class="fu">display</span>(value) <span class="op">:</span> format <span class="op">?</span> <span class="fu">format</span>(value) <span class="op">:</span> value<span class="op">;</span></span>
<span id="cb205-1600"><a href="#cb205-1600" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (out <span class="kw">instanceof</span> <span class="bu">window</span><span class="op">.</span><span class="at">Element</span>) {</span>
<span id="cb205-1601"><a href="#cb205-1601" aria-hidden="true" tabindex="-1"></a>          <span class="cf">while</span> (form<span class="op">.</span><span class="at">output</span><span class="op">.</span><span class="fu">hasChildNodes</span>()) {</span>
<span id="cb205-1602"><a href="#cb205-1602" aria-hidden="true" tabindex="-1"></a>            form<span class="op">.</span><span class="at">output</span><span class="op">.</span><span class="fu">removeChild</span>(form<span class="op">.</span><span class="at">output</span><span class="op">.</span><span class="at">lastChild</span>)<span class="op">;</span></span>
<span id="cb205-1603"><a href="#cb205-1603" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb205-1604"><a href="#cb205-1604" aria-hidden="true" tabindex="-1"></a>          form<span class="op">.</span><span class="at">output</span><span class="op">.</span><span class="fu">append</span>(out)<span class="op">;</span></span>
<span id="cb205-1605"><a href="#cb205-1605" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">else</span> {</span>
<span id="cb205-1606"><a href="#cb205-1606" aria-hidden="true" tabindex="-1"></a>          form<span class="op">.</span><span class="at">output</span><span class="op">.</span><span class="at">value</span> <span class="op">=</span> out<span class="op">;</span></span>
<span id="cb205-1607"><a href="#cb205-1607" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb205-1608"><a href="#cb205-1608" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb205-1609"><a href="#cb205-1609" aria-hidden="true" tabindex="-1"></a>      form<span class="op">.</span><span class="at">value</span> <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb205-1610"><a href="#cb205-1610" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (verb <span class="op">!==</span> <span class="st">"oninput"</span>)</span>
<span id="cb205-1611"><a href="#cb205-1611" aria-hidden="true" tabindex="-1"></a>        form<span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="kw">new</span> <span class="bu">CustomEvent</span>(<span class="st">"input"</span><span class="op">,</span> { <span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span> }))<span class="op">;</span></span>
<span id="cb205-1612"><a href="#cb205-1612" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb205-1613"><a href="#cb205-1613" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (verb <span class="op">!==</span> <span class="st">"oninput"</span>)</span>
<span id="cb205-1614"><a href="#cb205-1614" aria-hidden="true" tabindex="-1"></a>      wrapper<span class="op">.</span><span class="at">oninput</span> <span class="op">=</span> e <span class="kw">=&gt;</span> e <span class="op">&amp;&amp;</span> e<span class="op">.</span><span class="fu">stopPropagation</span>() <span class="op">&amp;&amp;</span> e<span class="op">.</span><span class="fu">preventDefault</span>()<span class="op">;</span></span>
<span id="cb205-1615"><a href="#cb205-1615" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (verb <span class="op">!==</span> <span class="st">"onsubmit"</span>) form<span class="op">.</span><span class="at">onsubmit</span> <span class="op">=</span> e <span class="kw">=&gt;</span> e <span class="op">&amp;&amp;</span> e<span class="op">.</span><span class="fu">preventDefault</span>()<span class="op">;</span></span>
<span id="cb205-1616"><a href="#cb205-1616" aria-hidden="true" tabindex="-1"></a>    form[verb]()<span class="op">;</span></span>
<span id="cb205-1617"><a href="#cb205-1617" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb205-1618"><a href="#cb205-1618" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span> (form<span class="op">.</span><span class="at">childNodes</span><span class="op">.</span><span class="at">length</span>) {</span>
<span id="cb205-1619"><a href="#cb205-1619" aria-hidden="true" tabindex="-1"></a>    wrapper<span class="op">.</span><span class="fu">appendChild</span>(form<span class="op">.</span><span class="at">childNodes</span>[<span class="dv">0</span>])<span class="op">;</span></span>
<span id="cb205-1620"><a href="#cb205-1620" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb205-1621"><a href="#cb205-1621" aria-hidden="true" tabindex="-1"></a>  form<span class="op">.</span><span class="fu">append</span>(wrapper)<span class="op">;</span></span>
<span id="cb205-1622"><a href="#cb205-1622" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> form<span class="op">;</span></span>
<span id="cb205-1623"><a href="#cb205-1623" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-205" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb206" data-startfrom="1627" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1626;"><span id="cb206-1627"><a href="#cb206-1627" aria-hidden="true" tabindex="-1"></a>d3format <span class="op">=</span> <span class="pp">require</span>(<span class="st">"d3-format@1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-206" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb207" data-startfrom="1631" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1630;"><span id="cb207-1631"><a href="#cb207-1631" aria-hidden="true" tabindex="-1"></a><span class="co">// https://talk.observablehq.com/t/legend-placement-options/8407/3</span></span>
<span id="cb207-1632"><a href="#cb207-1632" aria-hidden="true" tabindex="-1"></a>move <span class="op">=</span> {</span>
<span id="cb207-1633"><a href="#cb207-1633" aria-hidden="true" tabindex="-1"></a>  d3<span class="op">.</span><span class="fu">select</span>(plot)</span>
<span id="cb207-1634"><a href="#cb207-1634" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">select</span>(<span class="st">"div"</span>)</span>
<span id="cb207-1635"><a href="#cb207-1635" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">raise</span>() <span class="co">// Places swatch below the plot</span></span>
<span id="cb207-1636"><a href="#cb207-1636" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">style</span>(<span class="st">"float"</span><span class="op">,</span> <span class="st">"right"</span>)<span class="op">;</span> <span class="co">// Floats the swatch on the right.</span></span>
<span id="cb207-1637"><a href="#cb207-1637" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-207" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb208" data-startfrom="1641" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1640;"><span id="cb208-1641"><a href="#cb208-1641" aria-hidden="true" tabindex="-1"></a><span class="co">// https://observablehq.com/@enjalot/draggable-world-map-coordinates-input</span></span>
<span id="cb208-1642"><a href="#cb208-1642" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">worldMapCoordinates</span>(config <span class="op">=</span> {}<span class="op">,</span> dimensions) {</span>
<span id="cb208-1643"><a href="#cb208-1643" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> {</span>
<span id="cb208-1644"><a href="#cb208-1644" aria-hidden="true" tabindex="-1"></a>    value <span class="op">=</span> []<span class="op">,</span> title<span class="op">,</span> description<span class="op">,</span> width <span class="op">=</span> dimensions[<span class="dv">0</span>]</span>
<span id="cb208-1645"><a href="#cb208-1645" aria-hidden="true" tabindex="-1"></a>  } <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">isArray</span>(config) <span class="op">?</span> {<span class="dt">value</span><span class="op">:</span> config} <span class="op">:</span> config<span class="op">;</span></span>
<span id="cb208-1646"><a href="#cb208-1646" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> height <span class="op">=</span> dimensions[<span class="dv">1</span>]<span class="op">;</span></span>
<span id="cb208-1647"><a href="#cb208-1647" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> [lon<span class="op">,</span> lat] <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb208-1648"><a href="#cb208-1648" aria-hidden="true" tabindex="-1"></a>  lon <span class="op">=</span> lon <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> lon <span class="op">:</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb208-1649"><a href="#cb208-1649" aria-hidden="true" tabindex="-1"></a>  lat <span class="op">=</span> lat <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> lat <span class="op">:</span> <span class="kw">null</span><span class="op">;</span></span>
<span id="cb208-1650"><a href="#cb208-1650" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> formEl <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;form style="width: </span><span class="sc">${</span>width<span class="sc">}</span><span class="vs">px;"&gt;&lt;/form&gt;`</span><span class="op">;</span></span>
<span id="cb208-1651"><a href="#cb208-1651" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> context <span class="op">=</span> DOM<span class="op">.</span><span class="fu">context2d</span>(width<span class="op">,</span> height<span class="op">-</span>width<span class="op">/</span><span class="fl">11.5</span>)<span class="op">;</span></span>
<span id="cb208-1652"><a href="#cb208-1652" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> canvas <span class="op">=</span> context<span class="op">.</span><span class="at">canvas</span><span class="op">;</span></span>
<span id="cb208-1653"><a href="#cb208-1653" aria-hidden="true" tabindex="-1"></a>  canvas<span class="op">.</span><span class="at">style</span><span class="op">.</span><span class="at">margin</span> <span class="op">=</span> <span class="vs">`-6px 0 </span><span class="sc">${</span>width <span class="op">&gt;</span> <span class="dv">400</span> <span class="op">?</span> <span class="op">-</span><span class="dv">86</span> <span class="op">:</span> <span class="op">-</span><span class="dv">24</span><span class="sc">}</span><span class="vs">px`</span><span class="op">;</span></span>
<span id="cb208-1654"><a href="#cb208-1654" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> projection <span class="op">=</span> d3</span>
<span id="cb208-1655"><a href="#cb208-1655" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">geoEquirectangular</span>()</span>
<span id="cb208-1656"><a href="#cb208-1656" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">precision</span>(<span class="fl">0.1</span>)</span>
<span id="cb208-1657"><a href="#cb208-1657" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">fitSize</span>([width<span class="op">,</span> height]<span class="op">,</span> { <span class="dt">type</span><span class="op">:</span> <span class="st">"Sphere"</span> })<span class="op">.</span><span class="fu">rotate</span>([<span class="op">-</span><span class="dv">153</span><span class="op">,</span> <span class="dv">0</span>])<span class="op">;</span></span>
<span id="cb208-1658"><a href="#cb208-1658" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> path <span class="op">=</span> d3<span class="op">.</span><span class="fu">geoPath</span>(projection<span class="op">,</span> context)<span class="op">.</span><span class="fu">pointRadius</span>(<span class="fl">2.5</span>)<span class="op">;</span></span>
<span id="cb208-1659"><a href="#cb208-1659" aria-hidden="true" tabindex="-1"></a>  formEl<span class="op">.</span><span class="fu">append</span>(canvas)<span class="op">;</span></span>
<span id="cb208-1660"><a href="#cb208-1660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-1661"><a href="#cb208-1661" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">draw</span>() {</span>
<span id="cb208-1662"><a href="#cb208-1662" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="at">fillStyle</span> <span class="op">=</span> <span class="st">"#fff"</span><span class="op">;</span></span>
<span id="cb208-1663"><a href="#cb208-1663" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">fillRect</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> width<span class="op">,</span> height)<span class="op">;</span></span>
<span id="cb208-1664"><a href="#cb208-1664" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">beginPath</span>()<span class="op">;</span> <span class="fu">path</span>({<span class="dt">type</span><span class="op">:</span> <span class="st">"Sphere"</span>})<span class="op">;</span></span>
<span id="cb208-1665"><a href="#cb208-1665" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="at">fillStyle</span> <span class="op">=</span> colors<span class="op">.</span><span class="at">ocean</span><span class="op">;</span> context<span class="op">.</span><span class="fu">fill</span>()<span class="op">;</span></span>
<span id="cb208-1666"><a href="#cb208-1666" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">beginPath</span>()<span class="op">;</span></span>
<span id="cb208-1667"><a href="#cb208-1667" aria-hidden="true" tabindex="-1"></a>    <span class="fu">path</span>(graticule)<span class="op">;</span></span>
<span id="cb208-1668"><a href="#cb208-1668" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="at">lineWidth</span> <span class="op">=</span> <span class="fl">0.95</span><span class="op">;</span></span>
<span id="cb208-1669"><a href="#cb208-1669" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="at">strokeStyle</span> <span class="op">=</span> <span class="vs">`#aaa`</span><span class="op">;</span></span>
<span id="cb208-1670"><a href="#cb208-1670" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">stroke</span>()<span class="op">;</span></span>
<span id="cb208-1671"><a href="#cb208-1671" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">beginPath</span>()<span class="op">;</span></span>
<span id="cb208-1672"><a href="#cb208-1672" aria-hidden="true" tabindex="-1"></a>    <span class="fu">path</span>(land)<span class="op">;</span></span>
<span id="cb208-1673"><a href="#cb208-1673" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="at">fillStyle</span> <span class="op">=</span> colors<span class="op">.</span><span class="at">land</span><span class="op">;</span></span>
<span id="cb208-1674"><a href="#cb208-1674" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">fill</span>()<span class="op">;</span></span>
<span id="cb208-1675"><a href="#cb208-1675" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">beginPath</span>()<span class="op">;</span></span>
<span id="cb208-1676"><a href="#cb208-1676" aria-hidden="true" tabindex="-1"></a>    <span class="fu">path</span>(countries)<span class="op">;</span></span>
<span id="cb208-1677"><a href="#cb208-1677" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="at">lineWidth</span> <span class="op">=</span> <span class="op">.</span><span class="dv">95</span><span class="op">;</span></span>
<span id="cb208-1678"><a href="#cb208-1678" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="at">strokeStyle</span> <span class="op">=</span> <span class="vs">`#000`</span><span class="op">;</span></span>
<span id="cb208-1679"><a href="#cb208-1679" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">stroke</span>()<span class="op">;</span></span>
<span id="cb208-1680"><a href="#cb208-1680" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="at">fillStyle</span> <span class="op">=</span> <span class="vs">`#000`</span><span class="op">;</span></span>
<span id="cb208-1681"><a href="#cb208-1681" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="at">font</span> <span class="op">=</span> width <span class="op">&lt;</span> <span class="dv">760</span> <span class="op">?</span> <span class="st">"12px serif"</span> <span class="op">:</span> width <span class="op">&lt;</span> <span class="dv">990</span> <span class="op">?</span> <span class="st">"11.6px serif"</span> <span class="op">:</span> <span class="st">"18px serif"</span><span class="op">;</span></span>
<span id="cb208-1682"><a href="#cb208-1682" aria-hidden="true" tabindex="-1"></a>    d3<span class="op">.</span><span class="fu">range</span>(<span class="op">-</span><span class="fl">1.5</span><span class="op">,</span> <span class="dv">342</span> <span class="op">+</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">36</span>)<span class="op">.</span><span class="fu">map</span>(x <span class="kw">=&gt;</span>  context<span class="op">.</span><span class="fu">fillText</span>(<span class="fu">long2zone</span>(x)<span class="op">,</span> <span class="op">...</span><span class="fu">projection</span>([x<span class="op">,</span> <span class="fl">84.5</span> <span class="op">-</span> (width <span class="op">&lt;</span> <span class="dv">400</span>) <span class="op">*</span> <span class="fl">3.6</span>])))<span class="op">;</span></span>
<span id="cb208-1683"><a href="#cb208-1683" aria-hidden="true" tabindex="-1"></a>    d3<span class="op">.</span><span class="fu">range</span>(<span class="op">-</span><span class="fl">1.5</span><span class="op">,</span> <span class="dv">342</span> <span class="op">+</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">36</span>)<span class="op">.</span><span class="fu">map</span>(x <span class="kw">=&gt;</span>  context<span class="op">.</span><span class="fu">fillText</span>(<span class="fu">long2zone</span>(x)<span class="op">,</span> <span class="op">...</span><span class="fu">projection</span>([x<span class="op">,</span> <span class="op">-</span><span class="dv">62</span>])))<span class="op">;</span></span>
<span id="cb208-1684"><a href="#cb208-1684" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">beginPath</span>()<span class="op">,</span> <span class="fu">path</span>(night)<span class="op">,</span> context<span class="op">.</span><span class="at">fillStyle</span> <span class="op">=</span> <span class="st">"rgba(0,0,255,0.1)"</span><span class="op">,</span> context<span class="op">.</span><span class="fu">fill</span>()<span class="op">;</span></span>
<span id="cb208-1685"><a href="#cb208-1685" aria-hidden="true" tabindex="-1"></a>    context<span class="op">.</span><span class="fu">beginPath</span>()<span class="op">;</span> path<span class="op">.</span><span class="fu">pointRadius</span>(<span class="dv">17</span>)<span class="op">;</span> <span class="fu">path</span>({<span class="dt">type</span><span class="op">:</span> <span class="st">"Point"</span><span class="op">,</span> <span class="dt">coordinates</span><span class="op">:</span> sun})<span class="op">;</span> context<span class="op">.</span><span class="at">strokeStyle</span> <span class="op">=</span> <span class="st">"#0008"</span><span class="op">;</span> context<span class="op">.</span><span class="at">fillStyle</span> <span class="op">=</span> <span class="st">"#ff0a"</span><span class="op">;</span> context<span class="op">.</span><span class="at">lineWidth</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> context<span class="op">.</span><span class="fu">stroke</span>()<span class="op">;</span> context<span class="op">.</span><span class="fu">fill</span>()<span class="op">;</span></span>
<span id="cb208-1686"><a href="#cb208-1686" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (lon <span class="op">!=</span> <span class="kw">null</span> <span class="op">&amp;&amp;</span> lat <span class="op">!=</span> <span class="kw">null</span>) {</span>
<span id="cb208-1687"><a href="#cb208-1687" aria-hidden="true" tabindex="-1"></a>      path<span class="op">.</span><span class="fu">pointRadius</span>(<span class="dv">17</span>)<span class="op">;</span> context<span class="op">.</span><span class="at">strokeStyle</span> <span class="op">=</span> <span class="st">"black"</span><span class="op">;</span></span>
<span id="cb208-1688"><a href="#cb208-1688" aria-hidden="true" tabindex="-1"></a>      context<span class="op">.</span><span class="fu">beginPath</span>()<span class="op">;</span> <span class="fu">path</span>({<span class="dt">type</span><span class="op">:</span> <span class="st">"Point"</span><span class="op">,</span> <span class="dt">coordinates</span><span class="op">:</span> [lon<span class="op">,</span> lat]})<span class="op">;</span> context<span class="op">.</span><span class="at">lineWidth</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span> context<span class="op">.</span><span class="fu">stroke</span>()<span class="op">;</span></span>
<span id="cb208-1689"><a href="#cb208-1689" aria-hidden="true" tabindex="-1"></a>      context<span class="op">.</span><span class="at">lineWidth</span> <span class="op">=</span> <span class="dv">6</span><span class="op">;</span> </span>
<span id="cb208-1690"><a href="#cb208-1690" aria-hidden="true" tabindex="-1"></a>      path<span class="op">.</span><span class="fu">pointRadius</span>(<span class="dv">14</span>)<span class="op">;</span> context<span class="op">.</span><span class="at">strokeStyle</span> <span class="op">=</span> <span class="st">"red"</span><span class="op">;</span></span>
<span id="cb208-1691"><a href="#cb208-1691" aria-hidden="true" tabindex="-1"></a>      context<span class="op">.</span><span class="fu">beginPath</span>()<span class="op">;</span> <span class="fu">path</span>({<span class="dt">type</span><span class="op">:</span> <span class="st">"Point"</span><span class="op">,</span> <span class="dt">coordinates</span><span class="op">:</span> [lon<span class="op">,</span> lat]})<span class="op">;</span> context<span class="op">.</span><span class="fu">stroke</span>()<span class="op">;</span></span>
<span id="cb208-1692"><a href="#cb208-1692" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb208-1693"><a href="#cb208-1693" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb208-1694"><a href="#cb208-1694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-1695"><a href="#cb208-1695" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> drag <span class="op">=</span> d3<span class="op">.</span><span class="fu">drag</span>()</span>
<span id="cb208-1696"><a href="#cb208-1696" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">on</span>(<span class="st">"drag"</span><span class="op">,</span> (<span class="bu">event</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb208-1697"><a href="#cb208-1697" aria-hidden="true" tabindex="-1"></a>      <span class="kw">let</span> coords <span class="op">=</span> projection<span class="op">.</span><span class="fu">invert</span>([<span class="bu">event</span><span class="op">.</span><span class="at">x</span><span class="op">,</span> <span class="bu">event</span><span class="op">.</span><span class="at">y</span>])<span class="op">;</span></span>
<span id="cb208-1698"><a href="#cb208-1698" aria-hidden="true" tabindex="-1"></a>      lon <span class="op">=</span> <span class="op">+</span>coords[<span class="dv">0</span>]<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb208-1699"><a href="#cb208-1699" aria-hidden="true" tabindex="-1"></a>      lat <span class="op">=</span> <span class="op">+</span>coords[<span class="dv">1</span>]<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb208-1700"><a href="#cb208-1700" aria-hidden="true" tabindex="-1"></a>      <span class="fu">draw</span>()<span class="op">;</span></span>
<span id="cb208-1701"><a href="#cb208-1701" aria-hidden="true" tabindex="-1"></a>      canvas<span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="kw">new</span> <span class="bu">CustomEvent</span>(<span class="st">"input"</span><span class="op">,</span> { <span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span> }))<span class="op">;</span></span>
<span id="cb208-1702"><a href="#cb208-1702" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb208-1703"><a href="#cb208-1703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-1704"><a href="#cb208-1704" aria-hidden="true" tabindex="-1"></a>  d3<span class="op">.</span><span class="fu">select</span>(canvas)<span class="op">.</span><span class="fu">call</span>(drag)</span>
<span id="cb208-1705"><a href="#cb208-1705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-1706"><a href="#cb208-1706" aria-hidden="true" tabindex="-1"></a>  canvas<span class="op">.</span><span class="at">onclick</span> <span class="op">=</span> <span class="kw">function</span>(ev) {</span>
<span id="cb208-1707"><a href="#cb208-1707" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { offsetX<span class="op">,</span> offsetY } <span class="op">=</span> ev<span class="op">;</span></span>
<span id="cb208-1708"><a href="#cb208-1708" aria-hidden="true" tabindex="-1"></a>    <span class="kw">let</span> coords <span class="op">=</span> projection<span class="op">.</span><span class="fu">invert</span>([offsetX<span class="op">,</span> offsetY])<span class="op">;</span></span>
<span id="cb208-1709"><a href="#cb208-1709" aria-hidden="true" tabindex="-1"></a>    lon <span class="op">=</span> <span class="op">+</span>coords[<span class="dv">0</span>]<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb208-1710"><a href="#cb208-1710" aria-hidden="true" tabindex="-1"></a>    lat <span class="op">=</span> <span class="op">+</span>coords[<span class="dv">1</span>]<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="op">;</span></span>
<span id="cb208-1711"><a href="#cb208-1711" aria-hidden="true" tabindex="-1"></a>    <span class="fu">draw</span>()<span class="op">;</span></span>
<span id="cb208-1712"><a href="#cb208-1712" aria-hidden="true" tabindex="-1"></a>    canvas<span class="op">.</span><span class="fu">dispatchEvent</span>(<span class="kw">new</span> <span class="bu">CustomEvent</span>(<span class="st">"input"</span><span class="op">,</span> { <span class="dt">bubbles</span><span class="op">:</span> <span class="kw">true</span> }))<span class="op">;</span></span>
<span id="cb208-1713"><a href="#cb208-1713" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb208-1714"><a href="#cb208-1714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-1715"><a href="#cb208-1715" aria-hidden="true" tabindex="-1"></a>  <span class="fu">draw</span>()<span class="op">;</span></span>
<span id="cb208-1716"><a href="#cb208-1716" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> form <span class="op">=</span> <span class="fu">input</span>({</span>
<span id="cb208-1717"><a href="#cb208-1717" aria-hidden="true" tabindex="-1"></a>    <span class="dt">type</span><span class="op">:</span> <span class="st">"worldMapCoordinates"</span><span class="op">,</span></span>
<span id="cb208-1718"><a href="#cb208-1718" aria-hidden="true" tabindex="-1"></a>    title<span class="op">,</span></span>
<span id="cb208-1719"><a href="#cb208-1719" aria-hidden="true" tabindex="-1"></a>    description<span class="op">,</span></span>
<span id="cb208-1720"><a href="#cb208-1720" aria-hidden="true" tabindex="-1"></a>    <span class="dt">display</span><span class="op">:</span> v <span class="kw">=&gt;</span> (width <span class="op">&gt;</span> <span class="dv">400</span>) <span class="op">?</span> <span class="fu">html</span><span class="vs">`&lt;div style="width: </span><span class="sc">${</span>width<span class="sc">}</span><span class="vs">px; white-space: nowrap; color: #444; text-align: center; font: 18px monospace; position: relative; top: 58px; margin-bottom: 48px;"&gt;</span></span>
<span id="cb208-1721"><a href="#cb208-1721" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;span style="color: #000;"&gt;Zone:&lt;/span&gt; </span><span class="sc">${</span>lon <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> <span class="fu">long2zone</span>(lon) <span class="op">:</span> <span class="st">""</span><span class="sc">}</span></span>
<span id="cb208-1722"><a href="#cb208-1722" aria-hidden="true" tabindex="-1"></a><span class="vs">        &amp;nbsp; &amp;nbsp; </span></span>
<span id="cb208-1723"><a href="#cb208-1723" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;span style="color: #000;"&gt;Longitude:&lt;/span&gt; </span><span class="sc">${</span>lon <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> (<span class="fu">long2turn</span>(lon))<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>) <span class="op">:</span> <span class="st">""</span><span class="sc">}</span></span>
<span id="cb208-1724"><a href="#cb208-1724" aria-hidden="true" tabindex="-1"></a><span class="vs">        &amp;nbsp; &amp;nbsp; </span></span>
<span id="cb208-1725"><a href="#cb208-1725" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;span style="color: #000;"&gt;Latitude:&lt;/span&gt; </span><span class="sc">${</span>lat <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> ((<span class="fu">lati2turn1</span>(lat)))<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">0</span>) <span class="op">:</span> <span class="st">""</span><span class="sc">}</span><span class="vs"> </span></span>
<span id="cb208-1726"><a href="#cb208-1726" aria-hidden="true" tabindex="-1"></a><span class="vs">      &lt;/div&gt;`</span> <span class="op">:</span> <span class="st">''</span><span class="op">,</span></span>
<span id="cb208-1727"><a href="#cb208-1727" aria-hidden="true" tabindex="-1"></a>    <span class="dt">getValue</span><span class="op">:</span> () <span class="kw">=&gt;</span> [lon <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> lon <span class="op">:</span> <span class="kw">null</span><span class="op">,</span> lat <span class="op">!=</span> <span class="kw">null</span> <span class="op">?</span> lat <span class="op">:</span> <span class="kw">null</span>]<span class="op">,</span></span>
<span id="cb208-1728"><a href="#cb208-1728" aria-hidden="true" tabindex="-1"></a>    <span class="dt">form</span><span class="op">:</span> formEl</span>
<span id="cb208-1729"><a href="#cb208-1729" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb208-1730"><a href="#cb208-1730" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> form<span class="op">;</span></span>
<span id="cb208-1731"><a href="#cb208-1731" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-208" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb209" data-startfrom="1735" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1734;"><span id="cb209-1735"><a href="#cb209-1735" aria-hidden="true" tabindex="-1"></a><span class="fu">html</span><span class="vs">`&lt;style&gt;</span></span>
<span id="cb209-1736"><a href="#cb209-1736" aria-hidden="true" tabindex="-1"></a><span class="vs">  div.observablehq:has(&gt; svg#barClock) {</span></span>
<span id="cb209-1737"><a href="#cb209-1737" aria-hidden="true" tabindex="-1"></a><span class="vs">    text-align: center;</span></span>
<span id="cb209-1738"><a href="#cb209-1738" aria-hidden="true" tabindex="-1"></a><span class="vs">    margin-top: -12px;</span></span>
<span id="cb209-1739"><a href="#cb209-1739" aria-hidden="true" tabindex="-1"></a><span class="vs">  }</span></span>
<span id="cb209-1740"><a href="#cb209-1740" aria-hidden="true" tabindex="-1"></a><span class="vs">  div.observablehq:has(&gt; svg#clock) {</span></span>
<span id="cb209-1741"><a href="#cb209-1741" aria-hidden="true" tabindex="-1"></a><span class="vs">    text-align: center;</span></span>
<span id="cb209-1742"><a href="#cb209-1742" aria-hidden="true" tabindex="-1"></a><span class="vs">    margin-top: -46px;</span></span>
<span id="cb209-1743"><a href="#cb209-1743" aria-hidden="true" tabindex="-1"></a><span class="vs">  }</span></span>
<span id="cb209-1744"><a href="#cb209-1744" aria-hidden="true" tabindex="-1"></a><span class="vs">  body &gt; div &gt; div:nth-child(6) &gt; form {</span></span>
<span id="cb209-1745"><a href="#cb209-1745" aria-hidden="true" tabindex="-1"></a><span class="vs">    margin-top: -60px;</span></span>
<span id="cb209-1746"><a href="#cb209-1746" aria-hidden="true" tabindex="-1"></a><span class="vs">  }</span></span>
<span id="cb209-1747"><a href="#cb209-1747" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/style&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-209" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb210" data-startfrom="1751" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1750;"><span id="cb210-1751"><a href="#cb210-1751" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">dote</span>({ year <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> day <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> month <span class="op">=</span> <span class="dv">3</span><span class="op">,</span> dotm <span class="op">=</span> <span class="dv">1</span><span class="op">,</span> week <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> dotw <span class="op">=</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb210-1752"><a href="#cb210-1752" aria-hidden="true" tabindex="-1"></a>                hour <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> minute <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> second <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> millisecond <span class="op">=</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb210-1753"><a href="#cb210-1753" aria-hidden="true" tabindex="-1"></a>                zone <span class="op">=</span> <span class="dv">0</span><span class="op">,</span> utc <span class="op">=</span> <span class="op">-</span><span class="dv">9</span><span class="op">,</span> degree <span class="op">=</span> <span class="op">-</span><span class="dv">162</span> } <span class="op">=</span> {}) {</span>
<span id="cb210-1754"><a href="#cb210-1754" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> cycle <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((year <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">?</span> year <span class="op">:</span> year <span class="op">-</span> <span class="dv">399</span>) <span class="op">/</span> <span class="dv">400</span>)<span class="op">,</span></span>
<span id="cb210-1755"><a href="#cb210-1755" aria-hidden="true" tabindex="-1"></a>    yote <span class="op">=</span> year <span class="op">-</span> cycle <span class="op">*</span> <span class="dv">400</span><span class="op">;</span></span>
<span id="cb210-1756"><a href="#cb210-1756" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> (</span>
<span id="cb210-1757"><a href="#cb210-1757" aria-hidden="true" tabindex="-1"></a>    yote <span class="op">*</span> <span class="dv">365</span> <span class="op">+</span> cycle <span class="op">*</span> <span class="dv">146097</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yote <span class="op">/</span> <span class="dv">4</span>) <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yote <span class="op">/</span> <span class="dv">100</span>)</span>
<span id="cb210-1758"><a href="#cb210-1758" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> day <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((<span class="dv">153</span> <span class="op">*</span> (month <span class="op">&gt;</span> <span class="dv">2</span> <span class="op">?</span> month <span class="op">-</span> <span class="dv">3</span> <span class="op">:</span> month <span class="op">+</span> <span class="dv">9</span>) <span class="op">+</span> <span class="dv">2</span>) <span class="op">/</span> <span class="dv">5</span>) <span class="op">+</span> dotm <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb210-1759"><a href="#cb210-1759" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> week <span class="op">*</span> <span class="dv">7</span> <span class="op">+</span> dotw <span class="op">-</span> <span class="dv">3</span> <span class="op">+</span> (hour <span class="op">+</span> minute <span class="op">/</span> <span class="dv">60</span> <span class="op">+</span> second <span class="op">/</span> <span class="dv">3600</span> <span class="op">+</span> millisecond <span class="op">/</span> <span class="dv">3600000</span>)</span>
<span id="cb210-1760"><a href="#cb210-1760" aria-hidden="true" tabindex="-1"></a>    <span class="op">/</span> <span class="dv">24</span> <span class="op">-</span> (zone <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(utc <span class="op">/</span> <span class="fl">2.4</span>) <span class="op">+</span> <span class="dv">4</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((degree <span class="op">+</span> <span class="dv">162</span>) <span class="op">/</span> <span class="dv">36</span>)) <span class="op">/</span> <span class="dv">10</span></span>
<span id="cb210-1761"><a href="#cb210-1761" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb210-1762"><a href="#cb210-1762" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-210" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb211" data-startfrom="1766" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1765;"><span id="cb211-1766"><a href="#cb211-1766" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">doty</span>(args) {</span>
<span id="cb211-1767"><a href="#cb211-1767" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> days <span class="op">=</span> <span class="fu">dote</span>(args)<span class="op">,</span></span>
<span id="cb211-1768"><a href="#cb211-1768" aria-hidden="true" tabindex="-1"></a>      cycle <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((days <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">?</span> days <span class="op">:</span> days <span class="op">-</span> <span class="dv">146096</span>) <span class="op">/</span> <span class="dv">146097</span>)<span class="op">,</span></span>
<span id="cb211-1769"><a href="#cb211-1769" aria-hidden="true" tabindex="-1"></a>      dotc <span class="op">=</span> days <span class="op">-</span> cycle <span class="op">*</span> <span class="dv">146097</span><span class="op">,</span></span>
<span id="cb211-1770"><a href="#cb211-1770" aria-hidden="true" tabindex="-1"></a>      yotc <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((dotc <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">1460</span>)</span>
<span id="cb211-1771"><a href="#cb211-1771" aria-hidden="true" tabindex="-1"></a>        <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">36524</span>) <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">146096</span>)) <span class="op">/</span> <span class="dv">365</span>)<span class="op">;</span></span>
<span id="cb211-1772"><a href="#cb211-1772" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> [yotc <span class="op">+</span> cycle <span class="op">*</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb211-1773"><a href="#cb211-1773" aria-hidden="true" tabindex="-1"></a>            dotc <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yotc <span class="op">/</span> <span class="dv">100</span>) <span class="op">-</span> yotc <span class="op">*</span> <span class="dv">365</span> <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(yotc <span class="op">/</span> <span class="dv">4</span>)]<span class="op">;</span></span>
<span id="cb211-1774"><a href="#cb211-1774" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-211" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb212" data-startfrom="1778" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1777;"><span id="cb212-1778"><a href="#cb212-1778" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">year</span>(args) {</span>
<span id="cb212-1779"><a href="#cb212-1779" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> days <span class="op">=</span> <span class="fu">dote</span>(args)<span class="op">,</span></span>
<span id="cb212-1780"><a href="#cb212-1780" aria-hidden="true" tabindex="-1"></a>      cycle <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((days <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">?</span> days <span class="op">:</span> days <span class="op">-</span> <span class="dv">146096</span>) <span class="op">/</span> <span class="dv">146097</span>)<span class="op">,</span></span>
<span id="cb212-1781"><a href="#cb212-1781" aria-hidden="true" tabindex="-1"></a>      dotc <span class="op">=</span> days <span class="op">-</span> cycle <span class="op">*</span> <span class="dv">146097</span><span class="op">;</span></span>
<span id="cb212-1782"><a href="#cb212-1782" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb212-1783"><a href="#cb212-1783" aria-hidden="true" tabindex="-1"></a>        dotc <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">1460</span>) <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">36524</span>)</span>
<span id="cb212-1784"><a href="#cb212-1784" aria-hidden="true" tabindex="-1"></a>        <span class="op">-</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(dotc <span class="op">/</span> <span class="dv">146096</span>)) <span class="op">/</span> <span class="dv">365</span> <span class="op">+</span> cycle <span class="op">*</span> <span class="dv">400</span><span class="op">;</span></span>
<span id="cb212-1785"><a href="#cb212-1785" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-212" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb213" data-startfrom="1789" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1788;"><span id="cb213-1789"><a href="#cb213-1789" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">leap</span>(year <span class="op">=</span> <span class="dv">1970</span>) {</span>
<span id="cb213-1790"><a href="#cb213-1790" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> year <span class="op">%</span> <span class="dv">4</span> <span class="op">==</span> <span class="dv">0</span> <span class="op">&amp;&amp;</span> year <span class="op">%</span> <span class="dv">100</span> <span class="op">!=</span> <span class="dv">0</span> <span class="op">||</span> year <span class="op">%</span> <span class="dv">400</span> <span class="op">==</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb213-1791"><a href="#cb213-1791" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-213" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb214" data-startfrom="1795" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1794;"><span id="cb214-1795"><a href="#cb214-1795" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">deco</span>(args<span class="op">,</span> {lead <span class="op">=</span> <span class="st">"0"</span><span class="op">,</span> minus <span class="op">=</span> <span class="kw">false</span><span class="op">,</span> emoji <span class="op">=</span> <span class="kw">false</span>} <span class="op">=</span> {}) {</span>
<span id="cb214-1796"><a href="#cb214-1796" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> zone <span class="op">=</span> args<span class="op">.</span><span class="at">zone</span><span class="op">,</span> utc <span class="op">=</span> args<span class="op">.</span><span class="at">utc</span><span class="op">,</span> degree <span class="op">=</span> args<span class="op">.</span><span class="at">degree</span><span class="op">;</span></span>
<span id="cb214-1797"><a href="#cb214-1797" aria-hidden="true" tabindex="-1"></a>  args<span class="op">.</span><span class="at">zone</span> <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> args<span class="op">.</span><span class="at">utc</span> <span class="op">=</span> <span class="op">-</span><span class="dv">9</span><span class="op">;</span> args<span class="op">.</span><span class="at">degree</span> <span class="op">=</span> <span class="op">-</span><span class="dv">162</span><span class="op">;</span></span>
<span id="cb214-1798"><a href="#cb214-1798" aria-hidden="true" tabindex="-1"></a>  zone <span class="op">=</span> zone <span class="op">??</span> <span class="dv">0</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>((utc <span class="op">??</span> <span class="op">-</span><span class="dv">9</span>) <span class="op">/</span> <span class="fl">2.4</span>) <span class="op">+</span> <span class="dv">4</span> <span class="op">+</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(</span>
<span id="cb214-1799"><a href="#cb214-1799" aria-hidden="true" tabindex="-1"></a>    ((degree <span class="op">??</span> <span class="op">-</span><span class="dv">162</span>) <span class="op">+</span> <span class="dv">162</span>) <span class="op">/</span> <span class="dv">36</span>)<span class="op">;</span></span>
<span id="cb214-1800"><a href="#cb214-1800" aria-hidden="true" tabindex="-1"></a>  <span class="kw">let</span> [year<span class="op">,</span> days] <span class="op">=</span> <span class="fu">doty</span>(args)<span class="op">;</span></span>
<span id="cb214-1801"><a href="#cb214-1801" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="vs">`</span><span class="sc">${</span>emoji <span class="op">?</span> <span class="st">"🗓️"</span> <span class="op">:</span> <span class="st">""</span><span class="sc">}${</span></span>
<span id="cb214-1802"><a href="#cb214-1802" aria-hidden="true" tabindex="-1"></a>  (year <span class="op">+</span> minus)<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">4</span><span class="op">,</span> lead)<span class="sc">}${</span>minus <span class="op">?</span> <span class="st">"-"</span> <span class="op">:</span> <span class="st">"+"</span><span class="sc">}${</span></span>
<span id="cb214-1803"><a href="#cb214-1803" aria-hidden="true" tabindex="-1"></a>  <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(<span class="bu">Math</span><span class="op">.</span><span class="fu">floor</span>(days <span class="op">=</span> days <span class="op">-</span> (<span class="dv">365</span> <span class="op">+</span> <span class="fu">leap</span>(year <span class="op">+</span> <span class="dv">1</span>)) <span class="op">*</span> minus)</span>
<span id="cb214-1804"><a href="#cb214-1804" aria-hidden="true" tabindex="-1"></a>  )<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">padStart</span>(<span class="dv">3</span><span class="op">,</span> lead)<span class="sc">}${</span>emoji <span class="op">?</span> <span class="st">"🕰️"</span> <span class="op">:</span> <span class="st">""</span><span class="sc">}</span><span class="vs">️</span><span class="sc">${</span></span>
<span id="cb214-1805"><a href="#cb214-1805" aria-hidden="true" tabindex="-1"></a>  <span class="bu">Math</span><span class="op">.</span><span class="fu">abs</span>(days <span class="op">%</span> <span class="dv">1</span> <span class="op">*</span> <span class="dv">10</span>)<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">4</span>)<span class="sc">}${</span>zone <span class="op">?</span> (minus <span class="op">?</span> <span class="st">"+"</span> <span class="op">:</span> <span class="st">"-"</span>) <span class="op">+</span> <span class="bu">String</span>(zone) <span class="op">:</span> <span class="st">""</span><span class="sc">}</span><span class="vs">`</span></span>
<span id="cb214-1806"><a href="#cb214-1806" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-214" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb215" data-startfrom="1810" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1809;"><span id="cb215-1810"><a href="#cb215-1810" aria-hidden="true" tabindex="-1"></a>currentDeco <span class="op">=</span> <span class="fu">deco</span>({<span class="dt">day</span><span class="op">:</span> <span class="dv">719468</span><span class="op">,</span> <span class="dt">millisecond</span><span class="op">:</span> unix<span class="op">,</span> <span class="dt">zone</span><span class="op">:</span> <span class="fu">long2zone</span>(coordinates[<span class="dv">0</span>])})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-215" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb216" data-startfrom="1814" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1813;"><span id="cb216-1814"><a href="#cb216-1814" aria-hidden="true" tabindex="-1"></a>currentDoty <span class="op">=</span> currentDeco<span class="op">.</span><span class="fu">slice</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-216" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb217" data-startfrom="1818" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1817;"><span id="cb217-1818"><a href="#cb217-1818" aria-hidden="true" tabindex="-1"></a>dotyDate <span class="op">=</span> currentDoty<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-217" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb218" data-startfrom="1822" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1821;"><span id="cb218-1822"><a href="#cb218-1822" aria-hidden="true" tabindex="-1"></a>dotyDek <span class="op">=</span> currentDoty<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-218" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb219" data-startfrom="1826" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1825;"><span id="cb219-1826"><a href="#cb219-1826" aria-hidden="true" tabindex="-1"></a>dotyDotd <span class="op">=</span> currentDoty[<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-219" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb220" data-startfrom="1830" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1829;"><span id="cb220-1830"><a href="#cb220-1830" aria-hidden="true" tabindex="-1"></a>barTime <span class="op">=</span> (<span class="fu">unix2dote</span>(unix<span class="op">,</span> <span class="fu">long2zone</span>(coordinates[<span class="dv">0</span>]))[<span class="dv">0</span>])<span class="op">.</span><span class="fu">toString</span>()<span class="op">.</span><span class="fu">split</span>(<span class="st">"."</span>)[<span class="dv">1</span>]<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-220" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb221" data-startfrom="1834" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1833;"><span id="cb221-1834"><a href="#cb221-1834" aria-hidden="true" tabindex="-1"></a>barCents <span class="op">=</span> barTime<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-221" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb222" data-startfrom="1838" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1837;"><span id="cb222-1838"><a href="#cb222-1838" aria-hidden="true" tabindex="-1"></a>barDD <span class="op">=</span> barTime[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-222" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb223" data-startfrom="1842" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1841;"><span id="cb223-1842"><a href="#cb223-1842" aria-hidden="true" tabindex="-1"></a>barMils <span class="op">=</span> barTime<span class="op">.</span><span class="fu">slice</span>(<span class="dv">1</span><span class="op">,</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-223" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb224" data-startfrom="1846" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1845;"><span id="cb224-1846"><a href="#cb224-1846" aria-hidden="true" tabindex="-1"></a>barBeats <span class="op">=</span> barTime<span class="op">.</span><span class="fu">slice</span>(<span class="dv">3</span><span class="op">,</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-224" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb225" data-startfrom="1850" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1849;"><span id="cb225-1850"><a href="#cb225-1850" aria-hidden="true" tabindex="-1"></a>barMb <span class="op">=</span> barTime<span class="op">.</span><span class="fu">slice</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-225" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<details class="code-fold hidden">
<summary>Code</summary>
<div class="sourceCode cell-code hidden" id="cb226" data-startfrom="1854" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 1853;"><span id="cb226-1854"><a href="#cb226-1854" aria-hidden="true" tabindex="-1"></a><span class="fu">html</span><span class="vs">`&lt;style&gt;</span></span>
<span id="cb226-1855"><a href="#cb226-1855" aria-hidden="true" tabindex="-1"></a><span class="vs">  .tickLabel, .tickLabel1, .tickLabel2, .timeLabel {</span></span>
<span id="cb226-1856"><a href="#cb226-1856" aria-hidden="true" tabindex="-1"></a><span class="vs">    fill: #000;</span></span>
<span id="cb226-1857"><a href="#cb226-1857" aria-hidden="true" tabindex="-1"></a><span class="vs">    font-family: sans-serif;</span></span>
<span id="cb226-1858"><a href="#cb226-1858" aria-hidden="true" tabindex="-1"></a><span class="vs">    font-size: 20px;</span></span>
<span id="cb226-1859"><a href="#cb226-1859" aria-hidden="true" tabindex="-1"></a><span class="vs">    text-anchor: middle;</span></span>
<span id="cb226-1860"><a href="#cb226-1860" aria-hidden="true" tabindex="-1"></a><span class="vs">  }</span></span>
<span id="cb226-1861"><a href="#cb226-1861" aria-hidden="true" tabindex="-1"></a><span class="vs">  .timeLabel {</span></span>
<span id="cb226-1862"><a href="#cb226-1862" aria-hidden="true" tabindex="-1"></a><span class="vs">    text-anchor: start;</span></span>
<span id="cb226-1863"><a href="#cb226-1863" aria-hidden="true" tabindex="-1"></a><span class="vs">  }</span></span>
<span id="cb226-1864"><a href="#cb226-1864" aria-hidden="true" tabindex="-1"></a><span class="vs">  .timeBar, .timeBarFull {</span></span>
<span id="cb226-1865"><a href="#cb226-1865" aria-hidden="true" tabindex="-1"></a><span class="vs">    x: 1px;</span></span>
<span id="cb226-1866"><a href="#cb226-1866" aria-hidden="true" tabindex="-1"></a><span class="vs">    height: 25px;</span></span>
<span id="cb226-1867"><a href="#cb226-1867" aria-hidden="true" tabindex="-1"></a><span class="vs">    rx: 5px;</span></span>
<span id="cb226-1868"><a href="#cb226-1868" aria-hidden="true" tabindex="-1"></a><span class="vs">    stroke: #aaa;</span></span>
<span id="cb226-1869"><a href="#cb226-1869" aria-hidden="true" tabindex="-1"></a><span class="vs">  }</span></span>
<span id="cb226-1870"><a href="#cb226-1870" aria-hidden="true" tabindex="-1"></a><span class="vs">  .timeBar {</span></span>
<span id="cb226-1871"><a href="#cb226-1871" aria-hidden="true" tabindex="-1"></a><span class="vs">    fill: #e8e8e8;</span></span>
<span id="cb226-1872"><a href="#cb226-1872" aria-hidden="true" tabindex="-1"></a><span class="vs">  }</span></span>
<span id="cb226-1873"><a href="#cb226-1873" aria-hidden="true" tabindex="-1"></a><span class="vs">  .timeBarFull {</span></span>
<span id="cb226-1874"><a href="#cb226-1874" aria-hidden="true" tabindex="-1"></a><span class="vs">    fill: #ccffff;</span></span>
<span id="cb226-1875"><a href="#cb226-1875" aria-hidden="true" tabindex="-1"></a><span class="vs">  }</span></span>
<span id="cb226-1876"><a href="#cb226-1876" aria-hidden="true" tabindex="-1"></a><span class="vs">  .background {</span></span>
<span id="cb226-1877"><a href="#cb226-1877" aria-hidden="true" tabindex="-1"></a><span class="vs">    fill: white;</span></span>
<span id="cb226-1878"><a href="#cb226-1878" aria-hidden="true" tabindex="-1"></a><span class="vs">  }</span></span>
<span id="cb226-1879"><a href="#cb226-1879" aria-hidden="true" tabindex="-1"></a><span class="vs">  .tickDek, .tickDotd, .tickDotd1, .tickC, .tickC1, .tickM, .tickM1, .tickB, .tickB1 {</span></span>
<span id="cb226-1880"><a href="#cb226-1880" aria-hidden="true" tabindex="-1"></a><span class="vs">    stroke: none;</span></span>
<span id="cb226-1881"><a href="#cb226-1881" aria-hidden="true" tabindex="-1"></a><span class="vs">    fill: #666;</span></span>
<span id="cb226-1882"><a href="#cb226-1882" aria-hidden="true" tabindex="-1"></a><span class="vs">    width: 1px;</span></span>
<span id="cb226-1883"><a href="#cb226-1883" aria-hidden="true" tabindex="-1"></a><span class="vs">  }</span></span>
<span id="cb226-1884"><a href="#cb226-1884" aria-hidden="true" tabindex="-1"></a><span class="vs">&lt;/style&gt;`</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="ojs-cell-226" data-nodetype="expression">

</div>
</div>
</div>


<!-- -->


<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMgRGVjbG9ja2BcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYFRoaXMgbm90ZWJvb2sgZGlzY3Vzc2VzIERlY2xvY2ssIGEgZGVjaW1hbCB0aW1la2VlcGluZyBzeXN0ZW0gdGhhdCByZWNvcmRzIHRpbWUgYXMgdGhlJm5ic3A7W2ZyYWN0aW9uYWwgZGF5c10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGVjaW1hbF90aW1lI0ZyYWN0aW9uYWxfZGF5czp+OnRleHQ9VGhlJTIwdGltZSUyMG9mJTIwZGF5JTIwaXMlMjBzb21ldGltZXMlMjByZXByZXNlbnRlZCUyMGFzJTIwYSUyMGRlY2ltYWwlMjBmcmFjdGlvbiUyMG9mJTIwYSUyMGRheSUyMGluJTIwc2NpZW5jZSUyMGFuZCUyMGNvbXB1dGVycy4pJm5ic3A7c2luY2UgbWlkbmlnaHQuIERlY2xvY2sgaXMgcGFydCBvZiBEZWMsIGEgW21lYXN1cmVtZW50IHN5c3RlbV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3lzdGVtX29mX3VuaXRzX29mX21lYXN1cmVtZW50Izp+OnRleHQ9YSUyMGNvbGxlY3Rpb24lMjBvZiUyMHVuaXRzJTIwb2YlMjBtZWFzdXJlbWVudCUyMGFuZCUyMHJ1bGVzJTIwcmVsYXRpbmclMjB0aGVtJTIwdG8lMjBlYWNoJTIwb3RoZXIpIHRoYXQgW0ldKGh0dHBzOi8vbWFwdHYuZ2l0aHViLmlvKSBjcmVhdGVkIHRvIG1lYXN1cmXij7N0aW1lLPCfk41wb3NpdGlvbizwn6etb3JpZW50YXRpb24s8J+TkGFuZ2xlcywgYW5k8J+UhGN5Y2xlcyBpbiBbdHVybnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1R1cm5fJTI4YW5nbGUlMjkjOn46dGV4dD1hJTIwdW5pdCUyMG9mJTIwcGxhbmUlMjBhbmdsZSUyMG1lYXN1cmVtZW50JTIwZXF1YWwlMjB0byUyMDIlQ0YlODAlQzIlQTByYWRpYW5zJTJDJTIwMzYwJUMyJUEwZGVncmVlcykgKFske3RleGBcXHRhdWB9XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9UdXJuXyUyOGFuZ2xlJTI5Izp+OnRleHQ9dGhlJTIwR3JlZWslMjBsZXR0ZXIsdG8lMjBvbmUlMjB0dXJuKSkgaW5zdGVhZCBvZiBtb250aHMsIHdlZWtzLCBob3VycywgbWludXRlcywgc2Vjb25kcywgYW5kIGRlZ3JlZXMuIEZvciB0aW1lIG1lYXN1cmVtZW50LCBEZWMgdXNlcyBkYXlzIGFuZCB5ZWFycywgd2hpY2ggYXJlIHR1cm5zIG9mIGEgW2NlbGVzdGlhbCBib2R5XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Bc3Ryb25vbWljYWxfb2JqZWN0Izp+OnRleHQ9YSUyMHNpbmdsZSUyQyUyMHRpZ2h0bHklMjBib3VuZCUyQyUyMGNvbnRpZ3VvdXMlMjBlbnRpdHkpIG9uIFtpdHMgYXhpc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQXhpYWxfdGlsdCM6fjp0ZXh0PXRoZSUyMGltYWdpbmFyeSUyMGxpbmUlMjB0aGF0JTIwcGFzc2VzJTIwdGhyb3VnaCUyMGJvdGglMjB0aGUlMjBub3J0aCUyMHBvbGUlMjBhbmQlMjBzb3V0aCUyMHBvbGUpIGFuZCBhcm91bmQgW3RoZSBwb2ludCBpdCBvcmJpdHNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0JhcnljZW50ZXJfJTI4YXN0cm9ub215JTI5Izp+OnRleHQ9dGhlJTIwcG9pbnQlMjBhYm91dCUyMHdoaWNoJTIwdGhlJTIwYm9kaWVzJTIwb3JiaXQpLCByZXNwZWN0aXZlbHkuYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgRGVjIHVzZXMgW21ldHJpYyBwcmVmaXhlc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWV0cmljX3ByZWZpeCM6fjp0ZXh0PWElMjB1bml0JTIwcHJlZml4JTIwdGhhdCUyMHByZWNlZGVzJTIwYSUyMGJhc2ljJTIwdW5pdCUyMG9mJTIwbWVhc3VyZSUyMHRvJTIwaW5kaWNhdGUlMjBhJTIwbXVsdGlwbGUlMjBvciUyMHN1Ym11bHRpcGxlJTIwb2YlMjB0aGUlMjB1bml0KSB0byBjcmVhdGUgW3N1Ym11bHRpcGxlc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTXVsdGlwbGVfJTI4bWF0aGVtYXRpY3MlMjkjU3VibXVsdGlwbGU6fjp0ZXh0PW9mJTIwJTIyYSUyMGJlaW5nLSxhJTIwdW5pdCUyMGZyYWN0aW9uLC1vZiUyMGIlMjIlMjApIG9mIHR1cm5zLiBUaGUgY2xvY2sgYW5kIGJhciBjaGFydCBiZWxvdyBzaG93IHRoZSBbZGVjaWRheXNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RlY2ltYWxfdGltZSM6fjp0ZXh0PWRpdmlkaW5nJTIwdGhlJTIwZGF5JTIwaW50byUyMDEwJTIwZGVjaWRheXMpICh0b3AgYmFyIGFuZCBzaG9ydGVzdCBjbG9jayBoYW5kKSwgbWlsbGlkYXlzIChtaWRkbGUgYmFyIGFuZCBsb25nZXN0IGNsb2NrIGhhbmQpLCBhbmQgY2VudGltaWxsaWRheXMgKGJvdHRvbSBiYXIgYW5kIHRoaW5uZXN0IGNsb2NrIGhhbmQpIG9mIHRoZSBjdXJyZW50IHRpbWUgYXQgdGhlIGxvbmdpdHVkZSBvZiB0aGUgcmVkIGNpcmNsZSBvbiB0aGUgW3NvbGFyIHRlcm1pbmF0b3JdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1Rlcm1pbmF0b3JfJTI4c29sYXIlMjkjOn46dGV4dD1hJTIwbW92aW5nJTIwbGluZSUyMHRoYXQlMjBkaXZpZGVzJTIwdGhlJTIwZGF5bGl0JTIwc2lkZSUyMGFuZCUyMHRoZSUyMGRhcmslMjBuaWdodCUyMHNpZGUlMjBvZiUyMGElMjBwbGFuZXRhcnklMjBib2R5KSBtYXAgYmVuZWF0aCB0aGUgY2xvY2suIERyYWcgdGhlIHJlZCBjaXJjbGUgYWNyb3NzIHRoZSB0aW1lIHpvbmUgYm9yZGVycyAodmVydGljYWwgZ3JheSBsaW5lcykgb24gdGhlIG1hcCB0byBzZWUgaG93IGNoYW5naW5nIHRpbWUgem9uZXMgYWZmZWN0cyB0aGUgdGltZS5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiIvLyBodHRwczovL29ic2VydmFibGVocS5jb20vQGZoZXllbi9iYXJjaGFydC1jbG9ja1xuYmFyQ2hhcnQgPSB7XG5jb25zdCBXID0gd2lkdGggPiAxMjUwID8gd2lkdGggKiAyIC8gMyA6IHdpZHRoID4gMTE1MCA/IHdpZHRoICogMyAvIDQgOiB3aWR0aCA+IDEwNTAgPyB3aWR0aCAqIDQgLyA1IDogd2lkdGggPiA5NTAgPyB3aWR0aCAqIDUgLyA2IDogd2lkdGggPiA4NTAgPyB3aWR0aCA6IHdpZHRoID4gNzUwID8gd2lkdGggKiAxLjAyIDogd2lkdGggPiA2NTAgPyB3aWR0aCAqIDEuMDYgOiB3aWR0aCA+IDU1MCA/IHdpZHRoICogMS4xIDogd2lkdGggPiA0NTAgPyB3aWR0aCAqIDEuMTQgOiB3aWR0aCAqIDEuMTg7XG4gIGNvbnN0IEggPSA4ODtcbiAgY29uc3QgYmFyWCA9IDE7XG4gIGNvbnN0IGZpcnN0QmFyWSA9IDE7XG4gIGNvbnN0IHN2ZyA9IGQzXG4gICAgLmNyZWF0ZShcInN2Z1wiKVxuICAgIC5hdHRyKFwid2lkdGhcIiwgVylcbiAgICAuYXR0cihcInZpZXdCb3hcIiwgWzAsIDAsIFcsIEhdKTtcbiAgY29uc3QgeFJhbmdlID0gWzAsIFcgLSAxMDBdO1xuICBjb25zdCBzY2FsZUREID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgIC5kb21haW4oWzAsIDEwXSlcbiAgICAucmFuZ2UoeFJhbmdlKTtcbiAgY29uc3Qgc2NhbGVNYW5kQiA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAuZG9tYWluKFswLCAxMDBdKVxuICAgIC5yYW5nZSh4UmFuZ2UpO1xuICAvLyBjb25zdCBzY2FsZURlayA9IGQzLnNjYWxlTGluZWFyKClcbiAgLy8gIC5kb21haW4oWzAsIDM3XSlcbiAgLy8gIC5yYW5nZSh4UmFuZ2UpO1xuICAvLyBCYWNrZ3JvdW5kIGJhcnMgdG8gc2hvdyB3aGVyZSAxMDAlIGxpZXNcbiAgc3ZnLnNlbGVjdEFsbCgnLmJhY2tncm91bmQnKVxuICAgIC5kYXRhKFtcbiAgICAgIC8vICdkZWsnLCAnZG90ZCcsXG4gICAgICAnZGQnLCBcIm1pbHNcIiwgJ2JlYXRzJ10pXG4gICAgLmVudGVyKClcbiAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cignY2xhc3MnLCAnYmFja2dyb3VuZCB0aW1lQmFyJylcbiAgICAuYXR0cignd2lkdGgnLCBXLTEwMClcbiAgICAuYXR0cigneScsIChkLGkpPT5pKjMwK2ZpcnN0QmFyWSlcbiAgLy8gLy8gRGVrL0RvdGRcbiAgLy8gc3ZnXG4gIC8vICAgLmFwcGVuZCgncmVjdCcpXG4gIC8vICAgLmF0dHIoJ2NsYXNzJywgJ3RpbWVCYXInKVxuICAvLyAgIC5hdHRyKCd5JywgZmlyc3RCYXJZKVxuICAvLyAgIC5hdHRyKCd3aWR0aCcsIGQgPT4gc2NhbGVEZWsoTnVtYmVyKGRvdHlEZWspK051bWJlcihkb3R5RG90ZCkvMTArTnVtYmVyKGJhckNlbnRzKS8xMDAwKSlcbiAgLy8gc3ZnXG4gIC8vICAgLmFwcGVuZCgncmVjdCcpXG4gIC8vICAgLmF0dHIoJ2NsYXNzJywgJ3RpbWVCYXJGdWxsJylcbiAgLy8gICAuYXR0cigneScsIGZpcnN0QmFyWSlcbiAgLy8gICAuYXR0cignd2lkdGgnLCBkID0+IHNjYWxlRGVrKGRvdHlEZWspKVxuICAvLyBzdmdcbiAgLy8gICAuYXBwZW5kKCdyZWN0JylcbiAgLy8gICAuYXR0cignY2xhc3MnLCAndGltZUJhcicpXG4gIC8vICAgLmF0dHIoJ3knLCBmaXJzdEJhclkrMzApXG4gIC8vICAgLmF0dHIoJ3dpZHRoJywgZCA9PiBzY2FsZU0oTnVtYmVyKGRvdHlEb3RkKStOdW1iZXIoYmFyQ2VudHMpLzEwMCtOdW1iZXIoYmFyTWlscykvMTAwMCkpXG4gIC8vIHN2Z1xuICAvLyAgIC5hcHBlbmQoJ3JlY3QnKVxuICAvLyAgIC5hdHRyKCdjbGFzcycsICd0aW1lQmFyRnVsbCcpXG4gIC8vICAgLmF0dHIoJ3knLCBmaXJzdEJhclkrMzApXG4gIC8vICAgLmF0dHIoJ3dpZHRoJywgZCA9PiBzY2FsZU0oZG90eURvdGQpKVxuICAvLyBzdmcuc2VsZWN0QWxsKCcudGlja0RlaycpXG4gIC8vICAgLmRhdGEoZDMucmFuZ2Uod2lkdGggPiA1MDAgPyA0OiA2LCAzNykpXG4gIC8vICAgLmVudGVyKClcbiAgLy8gICAuYXBwZW5kKCdyZWN0JylcbiAgLy8gICAuYXR0cignY2xhc3MnLCAndGlja0RlaycpXG4gIC8vICAgLmF0dHIoJ3gnLCBkPT5zY2FsZURlayhkKStiYXJYKVxuICAvLyAgIC5hdHRyKCd5JywgZmlyc3RCYXJZKVxuICAvLyAgIC5hdHRyKCdoZWlnaHQnLCBkPT5kJSh3aWR0aCA+IDUwMCA/IDIgOiAzKT09PTA/IDY6NClcbiAgLy8gQ2VudCB0aWNrc1xuICAvLyBzdmcuc2VsZWN0QWxsKCcudGlja0RvdGQnKVxuICAvLyAgIC5kYXRhKGQzLnJhbmdlKHdpZHRoID4gNTAwID8gMTogMiwgMTApKVxuICAvLyAgIC5lbnRlcigpXG4gIC8vICAgLmFwcGVuZCgncmVjdCcpXG4gIC8vICAgLmF0dHIoJ2NsYXNzJywgJ3RpY2tEb3RkJylcbiAgLy8gICAuYXR0cigneCcsIGQ9PnNjYWxlTShkKStiYXJYKVxuICAvLyAgIC5hdHRyKCd5JywgZmlyc3RCYXJZKzQ5KVxuICAvLyAgIC5hdHRyKCdoZWlnaHQnLCA2KVxuICAvLyBzdmcuc2VsZWN0QWxsKCcudGlja0xhYmVsJylcbiAgLy8gICAuZGF0YShkMy5yYW5nZSh3aWR0aCA+IDUwMCA/IDQ6IDYsIHdpZHRoID4gNTAwID8gMzc6IDM1LCB3aWR0aCA+IDUwMCA/IDI6IDMpKVxuICAvLyAgIC5lbnRlcigpXG4gIC8vICAgLmFwcGVuZCgndGV4dCcpXG4gIC8vICAgLmF0dHIoJ2NsYXNzJywgJ3RpY2tMYWJlbCcpXG4gIC8vICAgLmF0dHIoJ3gnLCBkPT5zY2FsZURlayhkKStiYXJYKy41KVxuICAvLyAgIC5hdHRyKCd5JywgZmlyc3RCYXJZKzIyKVxuICAvLyAgIC50ZXh0KGQ9PmQpXG4gIC8vIEJlYXRzXG4gIHN2Z1xuICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aW1lQmFyJylcbiAgICAuYXR0cigneScsIGZpcnN0QmFyWSs2MClcbiAgICAuYXR0cignd2lkdGgnLCBkID0+IHNjYWxlTWFuZEIoTnVtYmVyKGJhckJlYXRzKStOdW1iZXIoYmFyTWIpLzEwMDApKVxuICBzdmdcbiAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cignY2xhc3MnLCAndGltZUJhckZ1bGwnKVxuICAgIC5hdHRyKCd5JywgZmlyc3RCYXJZKzYwKVxuICAgIC5hdHRyKCd3aWR0aCcsIGQgPT4gc2NhbGVNYW5kQihiYXJCZWF0cykpXG4gIC8vIENlbnRzL01pbHNcbiAgc3ZnXG4gICAgLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpbWVCYXInKVxuICAgIC5hdHRyKCd5JywgZmlyc3RCYXJZKVxuICAgIC5hdHRyKCd3aWR0aCcsIGQgPT4gc2NhbGVERChOdW1iZXIoYmFyREQpK051bWJlcihiYXJNaWxzKS8xMDArTnVtYmVyKGJhckJlYXRzKS8xMDAwMCtOdW1iZXIoYmFyTWIpLzEwMDAwMDAwKSlcbiAgc3ZnXG4gICAgLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpbWVCYXJGdWxsJylcbiAgICAuYXR0cigneScsIGZpcnN0QmFyWSlcbiAgICAuYXR0cignd2lkdGgnLCBkID0+IHNjYWxlREQoYmFyREQpKVxuICBzdmdcbiAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cignY2xhc3MnLCAndGltZUJhcicpXG4gICAgLmF0dHIoJ3knLCBmaXJzdEJhclkrMzApXG4gICAgLmF0dHIoJ3dpZHRoJywgZCA9PiBzY2FsZU1hbmRCKE51bWJlcihiYXJNaWxzKS8xMCtOdW1iZXIoYmFyQmVhdHMpLzEwMDApKVxuICBzdmdcbiAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cignY2xhc3MnLCAndGltZUJhckZ1bGwnKVxuICAgIC5hdHRyKCd5JywgZmlyc3RCYXJZKzMwKVxuICAgIC5hdHRyKCd3aWR0aCcsIGQgPT4gc2NhbGVNYW5kQihiYXJNaWxzKSlcbiAgLy8gQ2VudCB0aWNrc1xuICBzdmcuc2VsZWN0QWxsKCcudGlja0MnKVxuICAgIC5kYXRhKGQzLnJhbmdlKHdpZHRoID4gNTAwID8gMTAgOiAxMCwgMTAwKSlcbiAgICAuZW50ZXIoKVxuICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aWNrQycpXG4gICAgLmF0dHIoJ3gnLCBkPT5zY2FsZUREKGQvMTApK2JhclgpXG4gICAgLmF0dHIoJ3knLCBmaXJzdEJhclkrMzApXG4gICAgLmF0dHIoJ2hlaWdodCcsIGQ9PmQlMj09PTA/IDg6NSlcbiAgc3ZnLnNlbGVjdEFsbCgnLnRpY2tCMScpXG4gICAgLmRhdGEoZDMucmFuZ2Uod2lkdGggPiA1MDAgPyAxMCA6IDEwLCAxMDApKVxuICAgIC5lbnRlcigpXG4gICAgLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpY2tCMScpXG4gICAgLmF0dHIoJ3gnLCBkPT5zY2FsZUREKGQvMTApK2JhclgpXG4gICAgLmF0dHIoJ3knLCBkPT5kJTI9PT0wPyBmaXJzdEJhclkrNzc6Zmlyc3RCYXJZKzgwKVxuICAgIC5hdHRyKCdoZWlnaHQnLCBkPT5kJTI9PT0wPyA4OjUpXG4gIHN2Zy5zZWxlY3RBbGwoJy50aWNrQzEnKVxuICAgIC5kYXRhKGQzLnJhbmdlKHdpZHRoID4gNTAwID8gMTAgOiAxMCwgMTAwKSlcbiAgICAuZW50ZXIoKVxuICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aWNrQzEnKVxuICAgIC5hdHRyKCd4JywgZD0+c2NhbGVERChkLzEwKStiYXJYKVxuICAgIC5hdHRyKCd5JywgZD0+ZCUyPT09MD8gZmlyc3RCYXJZKzQ3OmZpcnN0QmFyWSs1MClcbiAgICAuYXR0cignaGVpZ2h0JywgZD0+ZCUyPT09MD8gODo1KVxuICAvLyBNaWwgdGlja3NcbiAgc3ZnLnNlbGVjdEFsbCgnLnRpY2tNJylcbiAgICAuZGF0YShkMy5yYW5nZSh3aWR0aCA+IDUwMCA/IDEgOiAxLCAxMCkpXG4gICAgLmVudGVyKClcbiAgICAuYXBwZW5kKCdyZWN0JylcbiAgICAuYXR0cignY2xhc3MnLCAndGlja00nKVxuICAgIC5hdHRyKCd4JywgZD0+c2NhbGVERChkKStiYXJYKVxuICAgIC5hdHRyKCd5JywgZmlyc3RCYXJZKzIwKVxuICAgIC5hdHRyKCdoZWlnaHQnLCA2KVxuICAvLyBzdmcuc2VsZWN0QWxsKCcudGlja00xJylcbiAgLy8gICAuZGF0YShkMy5yYW5nZSh3aWR0aCA+IDUwMCA/IDEgOiAyLCAxMCkpXG4gIC8vICAgLmVudGVyKClcbiAgLy8gICAuYXBwZW5kKCdyZWN0JylcbiAgLy8gICAuYXR0cignY2xhc3MnLCAndGlja00xJylcbiAgLy8gICAuYXR0cigneCcsIGQ9PnNjYWxlTShkKStiYXJYKVxuICAvLyAgIC5hdHRyKCd5JywgZmlyc3RCYXJZKzMyLjUpXG4gIC8vICAgLmF0dHIoJ2hlaWdodCcsIDIuNSlcbiAgc3ZnLnNlbGVjdEFsbCgnLnRpY2tMYWJlbDEnKVxuICAgIC5kYXRhKGQzLnJhbmdlKHdpZHRoID4gNTAwID8gMSA6IDEsIDEwKSlcbiAgICAuZW50ZXIoKVxuICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aWNrTGFiZWwxJylcbiAgICAuYXR0cigneCcsIGQ9PnNjYWxlREQoZCkrYmFyWCsuNSlcbiAgICAuYXR0cigneScsIGZpcnN0QmFyWSsxOClcbiAgICAudGV4dChkPT5kKVxuICAvLyBzdmcuc2VsZWN0QWxsKCcudGlja0xhYmVsMicpXG4gIC8vICAgLmRhdGEoZDMucmFuZ2Uod2lkdGggPiA1MDAgPyAxIDogMiwgMTApKVxuICAvLyAgIC5lbnRlcigpXG4gIC8vICAgLmFwcGVuZCgndGV4dCcpXG4gIC8vICAgLmF0dHIoJ2NsYXNzJywgJ3RpY2tMYWJlbDInKVxuICAvLyAgIC5hdHRyKCd4JywgZD0+c2NhbGVNKGQpK2JhclgrLjUpXG4gIC8vICAgLmF0dHIoJ3knLCBmaXJzdEJhclkrMTEyKVxuICAvLyAgIC50ZXh0KGQ9PmQpXG4gIC8vIENlbnQgdGlja3NcbiAgc3ZnLnNlbGVjdEFsbCgnLnRpY2tDMicpXG4gICAgLmRhdGEoZDMucmFuZ2Uod2lkdGggPiA1MDAgPyAxMCA6IDEwLCAxMDApKVxuICAgIC5lbnRlcigpXG4gICAgLmFwcGVuZCgncmVjdCcpXG4gICAgLmF0dHIoJ2NsYXNzJywgJ3RpY2tDMicpXG4gICAgLmF0dHIoJ3gnLCBkPT5zY2FsZUREKGQvMTApK2JhclgpXG4gICAgLmF0dHIoJ3knLCBmaXJzdEJhclkrMTApXG4gICAgLmF0dHIoJ2hlaWdodCcsIGQ9PmQlMj09PTA/IDk6NilcbiAgLy8gQmVhdCB0aWNrc1xuICBzdmcuc2VsZWN0QWxsKCcudGlja0InKVxuICAgIC5kYXRhKGQzLnJhbmdlKHdpZHRoID4gNTAwID8gMTAgOiAxMCwgMTAwKSlcbiAgICAuZW50ZXIoKVxuICAgIC5hcHBlbmQoJ3JlY3QnKVxuICAgIC5hdHRyKCdjbGFzcycsICd0aWNrQicpXG4gICAgLmF0dHIoJ3gnLCBkPT5zY2FsZUREKGQvMTApK2JhclgpXG4gICAgLmF0dHIoJ3knLCBmaXJzdEJhclkrNjApXG4gICAgLmF0dHIoJ2hlaWdodCcsIGQ9PmQlMj09PTA/IDk6NilcbiAgLy8gTGFiZWxzXG4gIHN2Zy5zZWxlY3RBbGwoJy50aW1lTGFiZWwnKVxuICAgIC5kYXRhKFtcbiAgICAgIC8vIGAke2RvdHlEZWt95pesYCwgYCR7ZG90eURvdGR95pelYCxcbiAgICAgIGAke2JhckREfWAsIGAke2Jhck1pbHN9YCwgYCR7YmFyQmVhdHN9YF0pXG4gICAgLmVudGVyKClcbiAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAuYXR0cignY2xhc3MnLCAndGltZUxhYmVsJylcbiAgICAuYXR0cigneCcsIGJhclgrMilcbiAgICAuYXR0cigneScsIChkLGkpPT5pKjMwK2ZpcnN0QmFyWSsyMClcbiAgICAudGV4dChkPT5kKTtcbiAgc3ZnLmF0dHIoXCJpZFwiLCBcImJhckNsb2NrXCIpO1xuICByZXR1cm4gc3ZnLm5vZGUoKTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIGh0dHBzOi8vb2JzZXJ2YWJsZWhxLmNvbS9AZDMvc2ltcGxlLWNsb2NrXG4vLyBodHRwczovL29ic2VydmFibGVocS5jb20vQGRyaW8vbGV0cy1idWlsZC1hbi1hbmFsb2ctY2xvY2tcbmNsb2NrID0ge1xuICBjb25zdCBjbG9ja1JhZGl1cyA9IDIwMCxcbiAgICBtYXJnaW4gPSA1MCxcbiAgICB3ID0gKGNsb2NrUmFkaXVzICsgbWFyZ2luKSAqIDIsXG4gICAgaCA9IChjbG9ja1JhZGl1cyArIG1hcmdpbikgKiAyLFxuICAgIGhvdXJIYW5kTGVuZ3RoID0gKDIgKiBjbG9ja1JhZGl1cykgLyAzLFxuICAgIG1pbnV0ZUhhbmRMZW5ndGggPSBjbG9ja1JhZGl1cyxcbiAgICBzZWNvbmRIYW5kTGVuZ3RoID0gY2xvY2tSYWRpdXMgLSAxMixcbiAgICBzZWNvbmRIYW5kQmFsYW5jZSA9IDMwLFxuICAgIHNlY29uZFRpY2tTdGFydCA9IGNsb2NrUmFkaXVzLFxuICAgIHNlY29uZFRpY2tMZW5ndGggPSAtMTAsXG4gICAgaG91clRpY2tTdGFydCA9IGNsb2NrUmFkaXVzLFxuICAgIGhvdXJUaWNrTGVuZ3RoID0gLTE4LFxuICAgIHNlY29uZExhYmVsUmFkaXVzID0gY2xvY2tSYWRpdXMgKyAxNixcbiAgICBzZWNvbmRMYWJlbFlPZmZzZXQgPSA1LFxuICAgIGhvdXJMYWJlbFJhZGl1cyA9IGNsb2NrUmFkaXVzIC0gNDAsXG4gICAgaG91ckxhYmVsWU9mZnNldCA9IDcsXG4gICAgcmFkaWFucyA9IE1hdGguUEkgLyAxODA7XG5cbiAgY29uc3QgdGVuID0gZDNcbiAgICAuc2NhbGVMaW5lYXIoKVxuICAgIC5yYW5nZShbMCwgMzYwXSlcbiAgICAuZG9tYWluKFswLCAxMF0pO1xuXG4gIGNvbnN0IHN0byA9IGQzXG4gICAgLnNjYWxlTGluZWFyKClcbiAgICAucmFuZ2UoWzAsIDM2MF0pXG4gICAgLmRvbWFpbihbMCwgMTAwXSk7XG5cbiAgY29uc3QgaGFuZERhdGEgPSBbXG4gICAge1xuICAgICAgdHlwZTogXCJob3VyXCIsXG4gICAgICB2YWx1ZTogMCxcbiAgICAgIGxlbmd0aDogLWhvdXJIYW5kTGVuZ3RoLFxuICAgICAgc2NhbGU6IHRlblxuICAgIH0sXG4gICAge1xuICAgICAgdHlwZTogXCJtaW51dGVcIixcbiAgICAgIHZhbHVlOiAwLFxuICAgICAgbGVuZ3RoOiAtbWludXRlSGFuZExlbmd0aCxcbiAgICAgIHNjYWxlOiBzdG9cbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGU6IFwic2Vjb25kXCIsXG4gICAgICB2YWx1ZTogMCxcbiAgICAgIGxlbmd0aDogLXNlY29uZEhhbmRMZW5ndGgsXG4gICAgICBzY2FsZTogc3RvLFxuICAgICAgYmFsYW5jZTogc2Vjb25kSGFuZEJhbGFuY2VcbiAgICB9XG4gIF07XG5cbiAgZnVuY3Rpb24gZHJhd0Nsb2NrKCkge1xuICAgIC8vIGNyZWF0ZSBhbGwgdGhlIGNsb2NrIGVsZW1lbnRzXG4gICAgdXBkYXRlRGF0YSgpOyAvL2RyYXcgdGhlbSBpbiB0aGUgY29ycmVjdCBzdGFydGluZyBwb3NpdGlvblxuICAgIGNvbnN0IGZhY2UgPSBzdmdcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcImlkXCIsIFwiY2xvY2stZmFjZVwiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgYHRyYW5zbGF0ZSgke1t3IC8gMiwgaCAvIDJdfSlgKTtcblxuICAgIC8vIGFkZCBtYXJrcyBmb3Igc2Vjb25kc1xuICAgIGZhY2VcbiAgICAgIC5zZWxlY3RBbGwoXCIuc2Vjb25kLXRpY2tcIilcbiAgICAgIC5kYXRhKGQzLnJhbmdlKDAsIDEwMCkpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZChcImxpbmVcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJzZWNvbmQtdGlja1wiKVxuICAgICAgLmF0dHIoXCJ4MVwiLCAwKVxuICAgICAgLmF0dHIoXCJ4MlwiLCAwKVxuICAgICAgLmF0dHIoXCJ5MVwiLCBzZWNvbmRUaWNrU3RhcnQpXG4gICAgICAuYXR0cihcInkyXCIsIHNlY29uZFRpY2tTdGFydCArIHNlY29uZFRpY2tMZW5ndGgpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBkID0+IGByb3RhdGUoJHtzdG8oZCl9KWApO1xuXG4gICAgLy8gYW5kIGxhYmVscy4uLlxuICAgIGZhY2VcbiAgICAgIC5zZWxlY3RBbGwoXCIuc2Vjb25kLWxhYmVsXCIpXG4gICAgICAuZGF0YShkMy5yYW5nZSgwLCAxMDAsIDUpKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwic2Vjb25kLWxhYmVsXCIpXG4gICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAuYXR0cihcInhcIiwgZCA9PiBzZWNvbmRMYWJlbFJhZGl1cyAqIE1hdGguc2luKHN0byhkKSAqIHJhZGlhbnMpKVxuICAgICAgLmF0dHIoXG4gICAgICAgIFwieVwiLFxuICAgICAgICBkID0+XG4gICAgICAgICAgLXNlY29uZExhYmVsUmFkaXVzICogTWF0aC5jb3Moc3RvKGQpICogcmFkaWFucykgKyBzZWNvbmRMYWJlbFlPZmZzZXRcbiAgICAgIClcbiAgICAgIC50ZXh0KGQgPT4gZCk7XG5cbiAgICAvLyAuLi4gYW5kIGhvdXJzXG4gICAgZmFjZVxuICAgICAgLnNlbGVjdEFsbChcIi5ob3VyLXRpY2tcIilcbiAgICAgIC5kYXRhKGQzLnJhbmdlKDAsIDEwLCAxKSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKFwibGluZVwiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImhvdXItdGlja1wiKVxuICAgICAgLmF0dHIoXCJ4MVwiLCAwKVxuICAgICAgLmF0dHIoXCJ4MlwiLCAwKVxuICAgICAgLmF0dHIoXCJ5MVwiLCBob3VyVGlja1N0YXJ0KVxuICAgICAgLmF0dHIoXCJ5MlwiLCBob3VyVGlja1N0YXJ0ICsgaG91clRpY2tMZW5ndGgpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBkID0+IGByb3RhdGUoJHt0ZW4oZCl9KWApO1xuXG4gICAgZmFjZVxuICAgICAgLnNlbGVjdEFsbChcIi5ob3VyLWxhYmVsXCIpXG4gICAgICAuZGF0YShkMy5yYW5nZSgwLCAxMCwgMSkpXG4gICAgICAuZW50ZXIoKVxuICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJob3VyLWxhYmVsXCIpXG4gICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAuYXR0cihcInhcIiwgZCA9PiBob3VyTGFiZWxSYWRpdXMgKiBNYXRoLnNpbih0ZW4oZCkgKiByYWRpYW5zKSlcbiAgICAgIC5hdHRyKFxuICAgICAgICBcInlcIixcbiAgICAgICAgZCA9PiAtaG91ckxhYmVsUmFkaXVzICogTWF0aC5jb3ModGVuKGQpICogcmFkaWFucykgKyBob3VyTGFiZWxZT2Zmc2V0XG4gICAgICApXG4gICAgICAudGV4dChkID0+IGQpO1xuXG4gICAgY29uc3QgaGFuZHMgPSBmYWNlLmFwcGVuZChcImdcIikuYXR0cihcImlkXCIsIFwiY2xvY2staGFuZHNcIik7XG5cbiAgICBoYW5kc1xuICAgICAgLnNlbGVjdEFsbChcImxpbmVcIilcbiAgICAgIC5kYXRhKGhhbmREYXRhKVxuICAgICAgLmVudGVyKClcbiAgICAgIC5hcHBlbmQoXCJsaW5lXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIGQgPT4gZC50eXBlICsgXCItaGFuZFwiKVxuICAgICAgLmF0dHIoXCJ4MVwiLCAwKVxuICAgICAgLmF0dHIoXCJ5MVwiLCBkID0+IGQuYmFsYW5jZSB8fCAwKVxuICAgICAgLmF0dHIoXCJ4MlwiLCAwKVxuICAgICAgLmF0dHIoXCJ5MlwiLCBkID0+IGQubGVuZ3RoKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZCA9PiBgcm90YXRlKCR7ZC5zY2FsZShkLnZhbHVlKX0pYCk7XG5cbiAgICBmYWNlXG4gICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJpZFwiLCBcImZhY2Utb3ZlcmxheVwiKVxuICAgICAgLmFwcGVuZChcImNpcmNsZVwiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImhhbmRzLWNvdmVyXCIpXG4gICAgICAuYXR0cihcInhcIiwgMClcbiAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgLmF0dHIoXCJyXCIsIGNsb2NrUmFkaXVzIC8gMjApO1xuICB9XG5cbiAgZnVuY3Rpb24gbW92ZUhhbmRzKCkge1xuICAgIGNvbnN0IHNlbCA9IGQzXG4gICAgICAuc2VsZWN0KFwiI2Nsb2NrLWhhbmRzLWZpbmFsXCIpXG4gICAgICAuc2VsZWN0QWxsKFwibGluZVwiKVxuICAgICAgLmRhdGEoaGFuZERhdGEpXG4gICAgICAudHJhbnNpdGlvbigpO1xuXG4gICAgaWYgKGZhbmN5U2Vjb25kc09GRikgc2VsLmVhc2UoZDMuZWFzZUVsYXN0aWMucGVyaW9kKDAuNSkpO1xuICAgIHNlbC5hdHRyKFwidHJhbnNmb3JtXCIsIGQgPT4gYHJvdGF0ZSgke2Quc2NhbGUoZC52YWx1ZSl9KWApO1xuICB9XG4gIFxuZnVuY3Rpb24gdW5peDJkb3RlKHVuaXgsIHpvbmUsIG9mZnNldCA9IDcxOTQ2OCkge1xuICByZXR1cm4gW1xuICAgICh1bml4ID8/IERhdGUubm93KCkpIC8gODY0MDAwMDBcbiAgICArICh6b25lID0gem9uZSA/PyAoMTAgLSBNYXRoLnJvdW5kKFxuICAgICAgICAobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCkgLyAxNDQpKSAlIDEwXG4gICAgICApIC8gMTAgKyBvZmZzZXQsIHpvbmVdXG59XG4gIFxuXG4gIGZ1bmN0aW9uIHVwZGF0ZURhdGEoKSB7XG4gICAgY29uc3QgdW5peCA9IERhdGUubm93KCk7XG4gICAgY29uc3QgZGVjbG9jayA9IHVuaXgyZG90ZSh1bml4LCBsb25nMnpvbmUoY29vcmRpbmF0ZXNbMF0pKVswXSAlIDFcbiAgICBoYW5kRGF0YVswXS52YWx1ZSA9IE1hdGguZmxvb3IoZGVjbG9jayAqIDEwKTtcbiAgICBoYW5kRGF0YVsxXS52YWx1ZSA9IE1hdGguZmxvb3IoZGVjbG9jayAqIDEwICUgMSAqIDEwMCk7XG4gICAgaGFuZERhdGFbMl0udmFsdWUgPSAhZmFuY3lTZWNvbmRzT0ZGID8gZGVjbG9jayAqIDEwICUgMSAqIDEwMCAlIDEgKiAxMDAgOiBNYXRoLmZsb29yKGRlY2xvY2sgKiAxMCAlIDEgKiAxMDAgJSAxICogMTAwKTtcbiAgfVxuXG4gIGNvbnN0IHN2ZyA9IGQzXG4gICAgLmNyZWF0ZShcInN2Z1wiKVxuICAgIC5hdHRyKFwidmlld0JveFwiLCBbMCwgMCwgdywgaF0pXG4gICAgLnN0eWxlKFwibWF4LXdpZHRoXCIsIFwiNTAwcHhcIilcbiAgICAuYXR0cihcImlkXCIsIFwiY2xvY2tcIik7XG5cblxuICBzdmdcbiAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgIC50ZXh0KHNlbGVjdGVkKVxuICAgIC5hdHRyKFwieFwiLCBjbG9ja1JhZGl1cyArIG1hcmdpbilcbiAgICAuYXR0cihcInlcIiwgY2xvY2tSYWRpdXMgKiAyICsgbWFyZ2luICogMS45NzUpXG4gICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgIC5hdHRyKFwiZm9udC1zaXplXCIsIDMyKVxuICAgIC5hdHRyKFwiZm9udC1mYW1pbHlcIiwgXCJtb25vc3BhY2VcIik7XG4gIFxuICBkcmF3Q2xvY2soKTtcblxuICAvLyBBbmltYXRpb25cbiAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChcbiAgICAoKSA9PiB7XG4gICAgICB1cGRhdGVEYXRhKCk7XG4gICAgICBtb3ZlSGFuZHMoKTtcbiAgICB9LFxuICAgICFmYW5jeVNlY29uZHNPRkYgPyAxMCA6IDg2NFxuICApO1xuICBpbnZhbGlkYXRpb24udGhlbigoKSA9PiBjbGVhckludGVydmFsKGludGVydmFsKSk7XG4gIFxuICByZXR1cm4gc3ZnLm5vZGUoKTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiBmYW5jeVNlY29uZHNPRkYgPSBUb2dnbGUoe1xuICBsYWJlbDogXCJUaWNraW5nIGNsb2NrXCIsXG4gIHZhbHVlOiBmYWxzZVxufSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiBjb29yZGluYXRlcyA9IHdvcmxkTWFwQ29vcmRpbmF0ZXMoWzE2MiwgMF0sIFt3aWR0aCwgTWF0aC5yb3VuZCgoMjEwIC8gNDAwKSAqIHdpZHRoKV0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJwbG90ID0gUGxvdC5wbG90KHtcbiAgc3R5bGU6IGBvdmVyZmxvdzogdmlzaWJsZTtmb250LXNpemU6MTJweDttYXJnaW4tdG9wOiR7LTMgKyAod2lkdGggPCA0MDApICogM31weGAsXG4gIHdpZHRoOiB3aWR0aCAqIC45NixcbiAgeToge2RvbWFpbjogWzAsIC45Ml0sIGdyaWQ6IGZhbHNlfSxcbiAgY29sb3I6IHtsZWdlbmQ6IHRydWUsIHJhbmdlOiBbXCIjZmY2YzAwXCIsIFwiIzAwOWNmZlwiXX0sXG4gIG1hcmtzOiBbXG4gICAgUGxvdC5ydWxlWShbMF0pLFxuICAgIFBsb3QubGluZVkodGltZXMsIHt4OiBcImRhdGVcIiwgeTogXCJyaXNlXCIsIHN0cm9rZTogXCJzeW1ib2xcIiwgc3Ryb2tlV2lkdGg6IDE2LCBzdHJva2VPcGFjaXR5OiAuNn0pLFxuICAgIFBsb3QubGluZVkodGltZXMsIHt4OiBcImRhdGVcIiwgeTogXCJub29uXCIsIHN0cm9rZTogXCJzeW1ib2xcIiwgc3Ryb2tlV2lkdGg6IDE2LCBzdHJva2VPcGFjaXR5OiAuNn0pLFxuICAgIFBsb3QubGluZVkodGltZXMsIHt4OiBcImRhdGVcIiwgeTogXCJzZXRcIiwgc3Ryb2tlOiBcInN5bWJvbFwiLCBzdHJva2VXaWR0aDogMTYsIHN0cm9rZU9wYWNpdHk6IC42fSksXG4gICAgUGxvdC50ZXh0KHRpbWVzLCBQbG90LnNlbGVjdExhc3Qoe3g6IFwiZGF0ZVwiLCB5OiBcInJpc2VcIiwgejogXCJzeW1ib2xcIiwgdGV4dDogZCA9PiBgc3VucmlzZWAsIHRleHRBbmNob3I6IFwic3RhcnRcIiwgZHg6IDl9KSksXG4gICAgUGxvdC50ZXh0KHRpbWVzLCBQbG90LnNlbGVjdExhc3Qoe3g6IFwiZGF0ZVwiLCB5OiBcIm5vb25cIiwgejogXCJzeW1ib2xcIiwgdGV4dDogZCA9PiBgbm9vbmAsIHRleHRBbmNob3I6IFwic3RhcnRcIiwgZHg6IDl9KSksXG4gICAgUGxvdC50ZXh0KHRpbWVzLCBQbG90LnNlbGVjdExhc3Qoe3g6IFwiZGF0ZVwiLCB5OiBcInNldFwiLCB6OiBcInN5bWJvbFwiLCB0ZXh0OiBkID0+IGBzdW5zZXRgLCB0ZXh0QW5jaG9yOiBcInN0YXJ0XCIsIGR4OiA5fSkpLFxuICBdXG59KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC05IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgVGhlIGJhciBjaGFydCBhbmQgY2xvY2sgc2hvdyB6b25hbCB0aW1lLCAgd2hpY2ggdmFyaWVzIGJ5IHRpbWUgem9uZS4gQmVsb3cgdGhlIG1hcCB0aGVyZSBpcyBhIGxpbmUgcGxvdCB0aGF0IHNob3dzIHRoZSB6b25hbCAoYmx1ZSkgYW5kIGxvY2FsIChvcmFuZ2UpIHRpbWUgd2hlbiB0aGUgc3VuIHNldHMgKHRvcCBsaW5lKSwgcmVhY2hlcyBpdHMgcGVhayAobWlkZGxlIGxpbmUpLCBhbmQgcmlzZXMgKGJvdHRvbSBsaW5lKSB0aHJvdWdob3V0IHRoZSB5ZWFyIGluIHRoZSBsb2NhdGlvbiBzZWxlY3RlZCBvbiB0aGUgbWFwIGFib3ZlIHRoZSBwbG90LiBMb2NhbCB0aW1lIGFwcHJveGltYXRlcyBbc29sYXIgdGltZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU29sYXJfdGltZSM6fjp0ZXh0PXRoZSUyMGhvdXIlMjBhbmdsZSUyMG9mJTIwdGhlJTIwbWVhbiUyMFN1biUyMHBsdXMlMjAxMiUyMGhvdXJzKSBieSBjaGFuZ2luZyB3aXRoIGxvbmdpdHVkZSwgZXZlbiB3aXRoaW4gdGhlIHNhbWUgdGltZSB6b25lLmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBGb3IgZGFpbHkgdXNlLCB3ZSBvbmx5IG5lZWQgem9uYWwgdGltZSwgd2hpY2ggcHJvdmlkZXMgYSBzaW5nbGUgY29uc2lzdGVudCB0aW1lIGZvciBlYWNoIHRpbWUgem9uZSwgYnV0IGxvY2FsIGFuZCBzb2xhciB0aW1lIGNhbiBiZSB1c2VmdWwgdG8gdW5kZXJzdGFuZCBob3cgY2xvY2sgdGltZSBjb21wYXJlcyB0byB0aGUgcG9zaXRpb24gb2YgdGhlIHN1bi4gVG8gbG9vayBhdCBob3cgc29sYXIgdGltZSBjaGFuZ2VzIGJ5IGxvY2F0aW9uIHRocm91Z2hvdXQgdGhlIHllYXIsIGNoZWNrIG91dCB0aGUgdG9wIG9mIHRoZSBbRGVjIGNhbGN1bGF0aW9uIG5vdGVib29rXSgvQGRlYy9hbGMpLmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBUaGUgbWFwIGFib3ZlIHNob3dzIGhvdyBbTWVyaWRpYW4gMF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvMTI2dGhfbWVyaWRpYW5fd2VzdCM6fjp0ZXh0PWElMjBsaW5lJTIwb2YlMjBsb25naXR1ZGUlMjB0aGF0JTIwZXh0ZW5kcyUyMGZyb20lMjB0aGUlMjBOb3J0aCUyMFBvbGUlMjBhY3Jvc3MlMjB0aGUlMjBBcmN0aWMlMjBPY2VhbiUyQyUyME5vcnRoJTIwQW1lcmljYSUyQyUyMHRoZSUyMFBhY2lmaWMlMjBPY2VhbiUyQyUyMHRoZSUyMFNvdXRoZXJuJTIwT2NlYW4lMkMlMjBhbmQlMjBBbnRhcmN0aWNhJTIwdG8lMjB0aGUlMjBTb3V0aCUyMFBvbGUpLCB0aGUgRGVjIFtJbnRlcm5hdGlvbmFsIERhdGUgTGluZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSW50ZXJuYXRpb25hbF9EYXRlX0xpbmUjOn46dGV4dD10aGUlMjBsaW5lJTIwYmV0d2VlbiUyMHRoZSUyMFNvdXRoJTIwYW5kJTIwTm9ydGglMjBQb2xlcyUyMHRoYXQlMjBpcyUyMHRoZSUyMGJvdW5kYXJ5JTIwYmV0d2VlbiUyMG9uZSUyMGNhbGVuZGFyJTIwZGF5JTIwYW5kJTIwdGhlJTIwbmV4dCkgYW5kIFtwcmltZSBtZXJpZGlhbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUHJpbWVfbWVyaWRpYW4jOn46dGV4dD1hbiUyMGFyYml0cmFyaWx5JTJEY2hvc2VuJTIwbWVyaWRpYW4lMjAlMjhhJTIwbGluZSUyMG9mJTIwbG9uZ2l0dWRlJTI5JTIwaW4lMjBhJTIwZ2VvZ3JhcGhpYyUyMGNvb3JkaW5hdGUlMjBzeXN0ZW0lMjBhdCUyMHdoaWNoJTIwbG9uZ2l0dWRlJTIwaXMlMjBkZWZpbmVkJTIwdG8lMjBiZSUyMDAlQzIlQjApLCBjdXRzIGFjcm9zcyB0aGUgQXRsYW50aWMgT2NlYW4ganVzdCBXZXN0IG9mIEFmcmljYSBhbmQgbWFya3MgdGhlIHN0YXJ0IG9mIFpvbmUgMCwgdGhlIGxlZnRtb3N0IERlYyB0aW1lIHpvbmUgb24gdGhlIG1hcC4gRGVjIGhhcyAxMCB0aW1lIHpvbmVzIHdoaWNoIGFyZSBlYWNoIDEgZGVjaXR1cm4gKDEwJSBvZiBhIHR1cm4pIHdpZGUgYW5kIGFyZSBudW1iZXJlZCAwIHRocm91Z2ggOSwgbGlrZSB0aGUgW21lcmlkaWFuc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWVyaWRpYW5fJTI4Z2VvZ3JhcGh5JTI5Izp+OnRleHQ9d29yZHMlMkMlMjBpdCUyMGlzLSxhJTIwbGluZSUyMG9mJTIwbG9uZ2l0dWRlLC0uJTIwVGhlJTIwcG9zaXRpb24lMjBvZikgdGhhdCBzZXBhcmF0ZSB0aGVtLiBGb3IgbW9yZSBEZWMgbWFwcywgY2hlY2sgb3V0IHRoZXNlIG5vdGVib29rczpcbi0gW0RlY2FsY10oL0BkZWMvYWxjKVxuLSBbRGVjYWxlbmRhcl0oL0BkZWMvYWwpXG4tIFtEZWNhbGlwZXJdKC9AZGVjL2FsaSlcbi0gW0RlY2lyY10oL0BkZWMvaXJjKVxuLSBbU29sYXIgdGVybWluYXRvcl0oL0BkZWMvc29sYXItdGVybWluYXRvcilcbi0gW1RoZSBTdW4ncyB2aWV3IG9mIHRoZSBFYXJ0aF0oL0BkZWMvdGhlLXN1bnMtdmlldy1vZi10aGUtZWFydGgpYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYFtBbmFsb2cgY2xvY2tdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Nsb2NrIzp+OnRleHQ9dXNlJTIwYSUyMGNsb2NrJTIwZmFjZSUyMHdoaWNoJTIwaW5kaWNhdGVzJTIwdGltZSUyMHVzaW5nJTIwcm90YXRpbmclMjBwb2ludGVycyUyMGNhbGxlZCUyMCUyMmhhbmRzJTIyJTIwb24lMjBhJTIwZml4ZWQlMjBudW1iZXJlZCUyMGRpYWwlMjBvciUyMGRpYWxzKSBkaXNwbGF5cyBhcmUgbm90IG5lY2Vzc2FyeSBpbiBEZWMsIGJlY2F1c2UgdGhlIHRpbWUgY2FuIHNpbXBseSBiZSBkaXNwbGF5ZWQgYXMgYSBzaW5nbGUgbnVtYmVyLiBOZXZlcnRoZWxlc3MsIGEgd2F0Y2ggd2l0aCBhbiBhbmFsb2cgZGlzcGxheSBjYW4gc2VydmUgYXMgYW4gYXBwcm94aW1hdGUgY29tcGFzcyBkdXJpbmcgdGhlIGRheXRpbWUuIEFsaWduaW5nIHRoZSB3YXRjaCdzIGRlY2lkYXkgaGFuZCB3aXRoIHRoZSBzcG90IG9uIHRoZSBob3Jpem9uIGJlbG93IHRoZSBTdW4gKHRoZSBbc29sYXIgYXppbXV0aF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU29sYXJfYXppbXV0aF9hbmdsZSM6fjp0ZXh0PWhvcml6b250YWwlMjBhbmdsZSUyMHdpdGglMjByZXNwZWN0JTIwdG8lMjBub3J0aCkpIGFuZCBvdXIgc2hhZG93LCBtYWtlcyBtaWRuaWdodCBhbmQgbWlkZGF5ICgwIGFuZCA1KSBvbiB0aGUgd2F0Y2ggYWxpZ24gd2l0aCBOb3J0aCBhbmQgU291dGguYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYFdoZW4gZmFjaW5nIE5vcnRoLCB0aGUgU3VuIHdpbGwgYmUgb24gb3VyIHJpZ2h0IChbY2xvY2sgcG9zaXRpb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Nsb2NrX3Bvc2l0aW9uIzp+OnRleHQ9YSUyMHN5c3RlbSUyMG9mJTIwZGVub3RpbmclMjBpbXByb21wdHUlMjByZWxhdGl2ZSUyMGJlYXJpbmclMjB3aWRlbHklMjB1c2VkJTIwaW4lMjBwcmFjdGljYWwlMjBuYXZpZ2F0aW9uJTIwdG8lMjBnaXZlJTIwdGhlJTIwcG9zaXRpb24lMjBvZiUyMGFuJTIwb2JzZXJ2ZWQlMjBvYmplY3QpIDwgLjUgdHVybnMpIGFuZCBpbiB0aGUgRWFzdCAoc29sYXIgYXppbXV0aCA8IC41IHR1cm5zKSBiZWZvcmUgW3NvbGFyIG5vb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL05vb24jU29sYXJfbm9vbjp+OnRleHQ9dGhlJTIwbW9tZW50JTIwd2hlbiUyMHRoZSUyMFN1biUyMGNvbnRhY3RzJTIwdGhlJTIwb2JzZXJ2ZXIlMjdzJTIwbWVyaWRpYW4lMjAlMjhjdWxtaW5hdGlvbiUyMG9yJTIwbWVyaWRpYW4lMjB0cmFuc2l0JTI5JTJDJTIwcmVhY2hpbmclMjBpdHMlMjBoaWdoZXN0JTIwcG9zaXRpb24lMjBhYm92ZSUyMHRoZSUyMGhvcml6b24lMjBvbiUyMHRoYXQlMjBkYXkpIChzb2xhciB0aW1lIDwgLjUgdHVybnMpLCBhbmQgb24gb3VyIGxlZnQgKGNsb2NrIHBvc2l0aW9uID4gLjUgdHVybnMpIGFuZCBpbiB0aGUgV2VzdCAoc29sYXIgYXppbXV0aCA+IC41IHR1cm5zKSBhZnRlciBzb2xhciBub29uIChzb2xhciB0aW1lID4gLjUgdHVybnMpLiBUaGlzIG1ldGhvZCB3b3JrcyBldmVyeXdoZXJlIGV2ZW4gdGhvdWdoIHRoZSBzb2xhciBhemltdXRoIGF0IHNvbGFyIG5vb24gaXMgLjUgdHVybnMgKFNvdXRoKSBpbiB0aGUgTm9ydGhlcm4gSGVtaXNwaGVyZSAobGF0aXR1ZGUgPiAwIHR1cm5zKSBhbmQgMCB0dXJucyAoTm9ydGgpIGluIHRoZSBTb3V0aGVybiBIZW1pc3BoZXJlIChsYXRpdHVkZSA8IDAgdHVybnMpLmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAjIyBab25hbCwgTG9jYWwsIFNvbGFyIHRpbWUgY29tcGFyaXNvbmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBJbiBEZWNsb2NrLCB0aW1lcyB0aGF0IGFyZSBvZmZzZXQgYnkgaW50ZWdlciBkZWNpdHVybnMgKHRlbnRocyBvZiBhIHR1cm4pIGFyZSBjYWxsZWQgem9uYWwgdGltZXMuIEluIHRoZSBwbG90IGFib3ZlLCB0aGUgem9uYWwgdGltZXMgKG9yYW5nZSBsaW5lcykgZm9yIHN1bnJpc2UgKGJvdHRvbSBvcmFuZ2UgbGluZSksIFtzb2xhciBub29uXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Ob29uIzp+OnRleHQ9U29sYXIlMjBub29uJTIwaXMlMjB0aGUlMjB0aW1lLGJlJTIwb2JzZXJ2ZWQlMjB1c2luZyUyMGElMjBzdW5kaWFsLikgKG1pZGRsZSBvcmFuZ2UgbGluZSksIGFuZCBzdW5zZXQgKHRvcCBvcmFuZ2UgbGluZSkgY2hhbmdlIHNpZ25pZmljYW50bHkgd2hlbiB0aGUgcmVkIGNpcmNsZSBpcyBtb3ZlZCBsZWZ0IG9yIHJpZ2h0IHRvIGNoYW5nZSB0aGUgbG9uZ2l0dWRlLiBJbiBjb250cmFzdCwgbG9jYWwgdGltZXMgKGJsdWUgbGluZXMpIGFuZCBzb2xhciB0aW1lcyAob3JhbmdlIGxpbmVzKSBmb3Igc3VucmlzZSAoYm90dG9tKSwgc29sYXIgbm9vbiAobWlkZGxlKSwgYW5kIHN1bnNldCAodG9wKSBkaWZmZXIgYnkgbGF0aXR1ZGUgYnkgbm90IGxvbmdpdHVkZS4gYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYFpvbmFsIHRpbWVzIGNhbiBiZSBkaXNwbGF5ZWQgaW4gZGVjaWRheXMgd2l0aCBhIHRpbWUgem9uZSAoJHtzZWxlY3RlZH0pIG9yIHdpdGhvdXQgYSB0aW1lIHpvbmUgaW4gb3RoZXIgdW5pdHMgc3VjaCBhcyBtaWxsaWRheXMgKCR7TWF0aC5mbG9vcihzZWxlY3RlZC5zbGljZSgwLCA2KSoxMDApfSkgb3IgY2VudGltaWxsaWRheXMgKCR7TWF0aC5mbG9vcihzZWxlY3RlZC5zbGljZSgwLCA2KSoxMDAwMCl9KS4gQ2VudGltaWxsaWRheXMgYXJlIHNpbWlsYXIgaW4gZHVyYXRpb24gdG8gaGVhcnRiZWF0cyBvciBtdXNpY2FsIGJlYXRzIGFuZCB0aHVzIGFyZSBhbHNvIGtub3duIGFzIGJlYXRzLiBUaGUgbG9jYWwgYW5kIHNvbGFyIHRpbWUgZXF1aXZhbGVudCBvZiBhIHRpbWUgem9uZSBpcyB0aGUgbG9uZ2l0dWRlIGluIHRoZSBzYW1lIHVuaXRzIGFuZCBhdCB0aGUgc2FtZSBsZXZlbCBvZiBwcmVjaXNpb24gYXMgdGhlIHRpbWUgKCR7U3RyaW5nKHVuaXgyZG90ZSh1bml4LCBsb25nMnpvbmUoY29vcmRpbmF0ZXNbMF0pKVswXSAlIDEgKiAxMCkuc2xpY2UoMCwgNil9LSR7bG9uZzJ0dXJuKGNvb3JkaW5hdGVzWzBdLCAxKS50b0ZpeGVkKDQpfSkuIEEgY2VudGltaWxsaXR1cm4gb2YgbG9uZ2l0dWRlIFthdCB0aGUgZXF1YXRvcl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTG9uZ2l0dWRlI0xlbmd0aF9vZl9hX2RlZ3JlZV9vZl9sb25naXR1ZGUpIGlzIDQwMC43NTAxNyBtZXRlcnMsIHdoaWNoIGlzIGEgaHVuZHJlZCB0aG91c2FuZHRoICgwLjAwMSUpIG9mIHRoZSBbRWFydGgncyBlcXVhdG9yaWFsIGNpcmN1bWZlcmVuY2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VhcnRoJTI3c19jaXJjdW1mZXJlbmNlIzp+OnRleHQ9TWVhc3VyZWQlMjBhcm91bmQlMjB0aGUlMjBlcXVhdG9yJTJDJTIwaXQlMjBpcyUyMDQwJTJDMDc1LjAxNyVDMiVBMGttKS5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE3IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgWm9uYWwgdGltZSBiZWhhdmVzIGRpZmZlcmVudGx5IHRoYW4gbG9jYWwgYW5kIHNvbGFyIHRpbWUgYmVjYXVzZSBpdCBrZWVwcyBvbmUgdGltZSBwZXIgdGltZSB6b25lLiBJbiBjb250cmFzdCwgbG9jYWwgYW5kIHNvbGFyIHRpbWVzIHZhcnkgYnkgbG9uZ2l0dWRlLCBldmVuIHdpdGhpbiB0aGUgc2FtZSB0aW1lIHpvbmUuIEZvciBkYWlseSB1c2UsIHdlIG9ubHkgbmVlZCB6b25hbCB0aW1lcywgYnV0IGxvY2FsIGFuZCBzb2xhciB0aW1lcyBjYW4gYmUgdXNlZnVsIHRvIHVuZGVyc3RhbmQgaG93IGNsb2NrIHRpbWUgY29tcGFyZXMgdG8gdGhlIHBvc2l0aW9uIG9mIHRoZSBzdW4uYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xOCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYFpvbmFsIGFuZCBsb2NhbCB0aW1lcyBhcmUgaWRlbnRpY2FsIGluIHRoZSBtaWRkbGUgb2YgdGltZSB6b25lcyBhbmQgd2lsbCBkaWZmZXIgYnkgNSBjZW50aWRheXMgYXQgdGltZSB6b25lIGJvcmRlcnMuIExvY2FsIHRpbWVzIHVzZSBleGFjdCBmbG9hdGluZyBkZWNpbWFsIGRlY2lkYXkgdmFsdWVzIHRvIG9idGFpbiBhIGNsb3NlciBtYXRjaCBiZXR3ZWVuIERlY2xvY2sgbm9vbiAoLjUpIGFuZCBzb2xhciBub29uLCB0aGUgdGltZSBvZiBkYXkgd2hlbiB0aGUgc3VuIGlzIGluIGl0cyBoaWdoZXN0IHBvc2l0aW9uIGluIHRoZSBza3kuIEluIGNvbnRyYXN0IHRvIHpvbmFsIHRpbWUgYW5kIGxvY2FsIHRpbWUsIHNvbGFyIHRpbWUgaXMgYmFzZWQgb24gdGhlIHN1bidzIFthemltdXRoXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Tb2xhcl9hemltdXRoX2FuZ2xlIzp+OnRleHQ9aG9yaXpvbnRhbCUyMGFuZ2xlJTIwd2l0aCUyMHJlc3BlY3QlMjB0byUyMG5vcnRoKSBvciBbaG91ciBhbmdsZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSG91cl9hbmdsZSM6fjp0ZXh0PWFuJTIwZXhwcmVzc2lvbiUyMG9mJTIwdGltZSUyQyUyMGV4cHJlc3NlZCUyMGluJTIwYW5ndWxhciUyMG1lYXN1cmVtZW50JTJDJTIwdXN1YWxseSUyMGRlZ3JlZXMlMkMlMjBmcm9tJTIwc29sYXIlMjBub29uKSBhbmQgdGh1cyBzaG91bGQgYWx3YXlzIGJlIGV4YWN0bHkgLjUgYXQgc29sYXIgbm9vbi4gU2luY2Ugc29sYXIgbm9vbiBpbiBzb2xhciB0aW1lIGlzIGV4cGVjdGVkIHRvIGJlIC41IGFsbC15ZWFyLXJvdW5kLCBpdCBpcyBub3Qgc2hvd24gaW4gdGhlIHBsb3QgYWJvdmUuYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xOSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYFBlb3BsZSBsaXZpbmcgY2xvc2VyIHRvIHRpbWUgem9uZSBtaWRwb2ludHMgZW5qb3kgYSBjbG9zZXIgbWF0Y2ggYmV0d2VlbiBjbG9jayBub29uIGFuZCBzb2xhciBub29uLiBUaGlzIGNhbiBoZWxwIHRoZW0gYW50aWNpcGF0ZSB0aGUgYW1vdW50IG9mIHN1bmxpZ2h0IHRoZXkgd2lsbCByZWNlaXZlIGluIHRoZWlyIGxvY2F0aW9uLiBBZGRpdGlvbmFsbHksIHdlIGNhbiBvYnRhaW4gc29sYXIgdGltZSB3aXRoIGEgY29tcGFzcywgYSBob3Jpem9udGFsIHN1bmRpYWwsIG9yIGFueSBvdGhlciBtZWFucyBvZiBkZXRlcm1pbmluZyB0aGUgc3VuJ3MgYXppbXV0aC4gVGhlc2UgZGlyZWN0IG1lYXN1cmVzIG9mIHNvbGFyIGF6aW11dGggY2FuIGJlIHVzZWQgdG8gY29uZmlybSBbc29sYXIgYXppbXV0aCBjYWxjdWxhdGlvbnNdKGh0dHBzOi8vb2JzZXJ2YWJsZWhxLmNvbS9AbW91cm5lci9zdW4tcG9zaXRpb24taW4tOTAwLWJ5dGVzKS5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgVG8gb2J0YWluIHNvbGFyIHRpbWUgKCR7dGV4YFNUYH0pLCB3ZSBleHByZXNzIHRoZSBTdW4ncyBhemltdXRoICgke3RleGBcXHBoaWB9KSBvciBob3VyIGFuZ2xlICgke3RleGBoYH0pIGluIHR1cm5zIG9yIGRheXMgaW5zdGVhZCBvZiBkZWdyZWVzIGFuZCBpZiBuZWNlc3Nhcnkgc2hpZnQgYnkgaGFsZiBhIGRheSBzbyB0aGF0IHRoZSBEZWNsb2NrIHNvbGFyIHRpbWUgaXMgLjUgZGF5cyAoMTIgaG91cnMpIGF0IHNvbGFyIG5vb24uIFNvbGFyIGF6aW11dGggbWVhc3VyZWQgaW4gdGhlIE5vcnRoZXJuIGhlbWlzcGhlcmUgKCR7dGV4YFxccGhpX05gfSkgZG9lcyBub3QgcmVxdWlyZSBhbnkgYWRqdXN0bWVudCwgYmVjYXVzZSBpdCBpcyBuYXR1cmFsbHkgLjUgdHVybnMgKDE4MMKwKSBmcm9tIE5vcnRoLCBvciBpbiBvdGhlciB3b3JkcyBleGFjdGx5IFNvdXRoLCBhdCBzb2xhciBub29uLiBJbiBjb250cmFzdCwgJHt0ZXhgaGB9IGFuZCBTb3V0aGVybiBoZW1pc3BoZXJlIHNvbGFyIGF6aW11dGggKCR7dGV4YFxccGhpX1NgfSkgYXJlIDAgYXQgc29sYXIgbm9vbi4gXG5cblRvIG1ha2UgJHt0ZXhgaGB9IG1hdGNoICR7dGV4YFNUYH0sIHdlIG9ubHkgbmVlZCB0byBbYWRkIGEgaGFsZi1kYXldKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NvbGFyX3RpbWUjOn46dGV4dD10aGUlMjBob3VyJTIwYW5nbGUlMjBvZiUyMHRoZSUyMG1lYW4lMjBzdW4lMjBwbHVzJTIwMTIlMjBob3VycykgdG8gJHt0ZXhgaGB9ICgke3RleGBoKy41YH0pLiBUbyBvYnRhaW4gJHt0ZXhgU1RgfSBmcm9tIHRoZSBTb3V0aGVybiBoZW1pc3BoZXJlIHNvbGFyIGF6aW11dGggKCR7dGV4YFxccGhpX1NgfSksIHdlIG5lZWQgdG8gc3VidHJhY3QgKCR7dGV4YFxccGhpX1NgfSkgZnJvbSAxLjUgKCR7dGV4YDEuNS1cXHBoaV9TYH0pIGFuZCB0aGVuIFtrZWVwIHRoZSByZW1haW5kZXJdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vZHVsbyM6fjp0ZXh0PXJldHVybnMlMjB0aGUlMjByZW1haW5kZXIlMjBvciUyMHNpZ25lZCUyMHJlbWFpbmRlciUyMG9mJTIwYSUyMGRpdmlzaW9uKSAoWyVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vZHVsbyM6fjp0ZXh0PXVzZSUyMCUyMiUyNSUyMiUyQyUyMCUyMm1vZCUyMiUyQyUyMG9yJTIwJTIybW9kJTIyJTIwYXMlMjBhJTIwbW9kdWxvJTIwb3IlMjByZW1haW5kZXIlMjBvcGVyYXRvcikpIGFmdGVyIGRpdmlkaW5nIGJ5IDEgKCR7dGV4YCgxLjUtXFxwaGlfUylcXHRleHR7IFxcJSB9MWB9KSwgYmVjYXVzZSB0aGUgU3VuIG1vdmVzIGNsb2Nrd2lzZSBpbiB0aGUgTm9ydGhlcm4gaGVtaXNwaGVyZSBhbmQgW2NvdW50ZXJjbG9ja3dpc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NvbGFyX2F6aW11dGhfYW5nbGUjOn46dGV4dD10YWtlJTIwY291bnRlcmNsb2Nrd2lzZSUyMGFuZ2xlcyUyMGFzJTIwbmVnYXRpdmUpIGluIHRoZSBTb3V0aGVybiBoZW1pc3BoZXJlLjxicj5cbiR7dGV4YFNUPVxccGhpX049aCsuNT0oMS41LVxccGhpX1MpXFx0ZXh0eyBcXCUgfTFgfWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAjIyBEZWNsb2NrIGFuZCBVVEMgdGltZSB6b25lIGNvbXBhcmlzb25gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIyIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgVGhlcmUgYXJlIG1vcmUgdGhhbiAyNCBVVEMgdGltZSB6b25lIG9mZnNldHMsIGJ1dCBvbmx5IDEwIERlY2xvY2sgdGltZSB6b25lcy4gVGhpcyBub3RlYm9vayBhbmQgdGhlIFtEZWNhbGMgbm90ZWJvb2tdKC9AZGVjL2FsYykgaGF2ZSBpbnRlcmFjdGl2ZSBtYXBzIHRoYXQgdmlzdWFsaXplIERlY2xvY2sgdGltZSB6b25lcy4gWW91IGNhbiBhbHNvIHNlZSB0aGUgRGVjbG9jayB0aW1lIHpvbmVzIG9uIHRoZSB3b3JsZCBtYXBzIGF0IHRoZSB0b3Agb2YgdGhlIFtEZWNpcmNsZSBsYWJlbHNdKC9AZGVjL2lyYyksIFtzb2xhciB0ZXJtaW5hdG9yXSgvQGRlYy9zb2xhci10ZXJtaW5hdG9yKSBub3RlYm9vaywgYW5kIHRoZSBbU3VuJ3MgdmlldyBvZiB0aGUgRWFydGhdKC9AZGVjL3RoZS1zdW5zLXZpZXctb2YtdGhlLWVhcnRoKSBub3RlYm9vay4gT24gYWxsIG9mIHRoZXNlIG1hcHMsIHRoZSB2ZXJ0aWNhbCBncmF0aWN1bGVzIChsaW5lcyBvbiBhIG1hcCkgc2VwYXJhdGUgRGVjbG9jayB0aW1lIHpvbmVzLiBJZiB5b3Uga25vdyB5b3VyIGxvbmdpdHVkZSBpbiBkZWdyZWVzICjCsCkgb3IgY2VudGlkYXlzIChjZCksIHlvdSBjYW4gbG9vayB1cCB5b3VyIERlY2xvY2sgdGltZSB6b25lIGluIHRoZSB0YWJsZSBiZWxvdy5cblxufCBUWisgfCBUWi0gfCBTdGFydCAowrApIHwgTWlkICjCsCkgfCBFbmQgKMKwKSB8IFN0YXJ0IChjZCkgfCBNaWQgKGNkKSB8IEVuZCAoY2QpIHxcbnwgLS0tIHwgLS0tIHwgLS0tICAgICAgIHwgLS0tICAgICB8IC0tLSAgICAgfCAgIC0tLSAgICAgIHwgLS0tICAgICAgfCAtLS0gICAgICB8XG58IDkgICB8IC0xICB8ICAtNTQgICAgICB8IC0zNiAgICAgfCAtMTggICAgIHwgICA5MCAgICAgICB8IDk1ICAgICAgIHwgMTAwICAgICAgfFxufCA4ICAgfCAtMiAgfCAgLTkwICAgICAgfCAtNzIgICAgIHwgLTU0ICAgICB8ICAgODAgICAgICAgfCA4NSAgICAgICB8IDkwICAgICAgIHxcbnwgNyAgIHwgLTMgIHwgIC0xMjYgICAgIHwgLTEwOCAgICB8IC05MCAgICAgfCAgIDcwICAgICAgIHwgNzUgICAgICAgfCA4MCAgICAgICB8XG58IDYgICB8IC00ICB8ICAtMTYyICAgICB8IC0xNDQgICAgfCAtMTI2ICAgIHwgICA2MCAgICAgICB8IDY1ICAgICAgIHwgNzAgICAgICAgfFxufCA1ICAgfCAtNSAgfCAgMTYyICAgICAgfCAxODAgICAgIHwgLTE2MiAgICB8ICAgNTAgICAgICAgfCA1NSAgICAgICB8IDYwICAgICAgIHxcbnwgNCAgIHwgLTYgIHwgIDEyNiAgICAgIHwgMTQ0ICAgICB8IDE2MiAgICAgfCAgIDQwICAgICAgIHwgNDUgICAgICAgfCA1MCAgICAgICB8XG58IDMgICB8IC03ICB8ICA5MCAgICAgICB8IDEwOCAgICAgfCAxMjYgICAgIHwgICAzMCAgICAgICB8IDM1ICAgICAgIHwgNDAgICAgICAgfFxufCAyICAgfCAtOCAgfCAgNTQgICAgICAgfCA3MiAgICAgIHwgOTAgICAgICB8ICAgMjAgICAgICAgfCAyNSAgICAgICB8IDMwICAgICAgIHxcbnwgMSAgIHwgLTkgIHwgIDE4ICAgICAgIHwgMzYgICAgICB8IDU0ICAgICAgfCAgIDEwICAgICAgIHwgMTUgICAgICAgfCAyMCAgICAgICB8XG58IDAgICB8IC0xMCB8IC0xOCAgICAgICB8IDAgICAgICAgfCAxOCAgICAgIHwgICAwICAgICAgICB8IDUgICAgICAgIHwgMTAgICAgICAgfGBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBFc3NlbnRpYWxseSwgRGVjbG9jayBjb21iaW5lcyBzZXZlcmFsIFVUQyB0aW1lIHpvbmVzIHRvIGZvcm0gZWFjaCBvZiBpdHMgdGltZSB6b25lcy4gVGhpcyBpcyBvbmx5IGEgcm91Z2ggYXBwcm94aW1hdGlvbiwgYmVjYXVzZSBVVEMgdGltZSB6b25lcyBhcmUgW2EgaG90IG1lc3NdKGh0dHBzOi8vb2JzZXJ2YWJsZWhxLmNvbS9AbWJvc3RvY2svdGltZS16b25lcykgYW5kIERlY2xvY2sgdGltZSB6b25lcyBhcmUgZGV0ZXJtaW5lZCBzb2xlbHkgYnkgbG9uZ2l0dWRlIChhcyBzaG93biBpbiB0aGUgdGFibGUgYWJvdmUpLCBub3QgZ2VvZ3JhcGhpYyBvciBwb2xpdGljYWwgYm91bmRhcmllcy4gTmV2ZXJ0aGVsZXNzLCBhIG1hcHBpbmcgb2YgRGVjIHRpbWUgem9uZXMgdG8gVVRDIHRpbWUgem9uZXMgY2FuIGJlIHVzZWZ1bDpcblxufCBUWisgfCBUWi0gfCBVVEMgfCBOQVRPIHwgQWJicmV2aWF0aW9ucyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbnwgLS0tIHwgLS0gIHwgLS0tIHwgLS0tLSB8IC0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG58IDAgICB8IC0xMCB8IC0xICB8IE4gICAgfCBBWk9ULCBDVlQsIEVHVCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxufCAwICAgfCAtMTAgfCAwICAgfCBaICAgIHwgQVpPU1QsIEVHU1QsIEdNVCwgVVRDLCBXRVQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbnwgMCAgIHwgLTEwIHwgMSAgIHwgQSAgICB8IEJTVCwgQ0VULCBERlQsIElTVCwgTUVULCBXQVQsIFdFU1QgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG58IDEgICB8IC05ICB8IDIgICB8IEIgICAgfCBDQVQsIENFU1QsIEVFVCwgSEFFQywgSVNULCBLQUxULCBNRVNULCBTQVNULCBXQVNUICAgICAgICAgICAgICAgICAgICAgICAgfFxufCAxICAgfCAtOSAgfCAzICAgfCBDICAgIHwgQVNULCBFQVQsIEVFU1QsIEZFVCwgSURULCBJT1QsIE1TSywgU1lPVCwgVFJULCBWT0xUICAgICAgICAgICAgICAgICAgICAgIHxcbnwgMiAgIHwgLTggIHwgNCAgIHwgRCAgICB8IEFNVCwgQVpULCBHRVQsIEdTVCwgTVVULCBSRVQsIFNBTVQsIFNDVCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG58IDIgICB8IC04ICB8IDUgICB8IEUgICAgfCBBUVRULCBITVQsIE1BV1QsIE1WVCwgT1JBVCwgUEtULCBURlQsIFRKVCwgVE1ULCBVWlQsIFlFS1QgICAgICAgICAgICAgICAgfFxufCAyICAgfCAtOCAgfCA2ICAgfCBGICAgIHwgQUxNVCwgQklPVCwgQlNULCBCVFQsIEtHVCwgT01TVCwgVk9TVCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbnwgMyAgIHwgLTcgIHwgNyAgIHwgRyAgICB8IENYVCwgREFWVCwgSE9WVCwgSUNULCBLUkFULCBOT1ZULCBUSEEsIFdJQiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG58IDMgICB8IC03ICB8IDggICB8IEggICAgfCBBQ1QsIEFXU1QsIEJOVCwgQ0hPVCwgQ1NULCBIS1QsIEhPVlNULCBJUktULCBNU1QsIE1ZVCwgUEhTVCwgUEhULCBTR1QsIFNTVCwgVUxBVCwgV0lUQSwgV1NUIHxcbnwgNCAgIHwgLTYgIHwgOSAgIHwgSSAgICB8IENIT1NULCBKU1QsIEtTVCwgUFdULCBUTFQsIFVMQVNULCBXSVQsIFlBS1QgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG58IDQgICB8IC02ICB8IDEwICB8IEsgICAgfCBBRVNULCBDSFNULCBDSFVULCBERFVULCBQR1QsIFZMQVQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxufCA1ICAgfCAtNSAgfCAxMSAgfCBMICAgIHwgQUVEVCwgQlNULCBLT1NULCBMSFNULCBNSVNULCBOQ1QsIE5GVCwgUE9OVCwgU0FLVCwgU0JULCBTUkVULCBWVVQgICAgICAgIHxcbnwgNSAgIHwgLTUgIHwgMTIgIHwgTSAgICB8IEFOQVQsIEZKVCwgR0lMVCwgTUFHVCwgTUhULCBOWlNULCBQRVRULCBUVlQsIFdBS1QgICAgICAgICAgICAgICAgICAgICAgICB8XG58IDUgICB8IC01ICB8IC0xMiB8IFkgICAgfCBCSVQsIElETFcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxufCA1ICAgfCAtNSAgfCAtMTEgfCBYICAgIHwgTlVULCBTU1QgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbnwgNiAgIHwgLTQgIHwgLTEwIHwgVyAgICB8IENLVCwgSFNULCBTRFQsIFRBSFQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG58IDYgICB8IC00ICB8IC05ICB8IFYgICAgfCBBS1NULCBIRFQsIEdBTVQsIEdJVCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxufCA3ICAgfCAtMyAgfCAtOCAgfCBVICAgIHwgQUtEVCwgQ0lTVCwgUFNUICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbnwgNyAgIHwgLTMgIHwgLTcgIHwgVCAgICB8IE1TVCwgUERUICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG58IDcgICB8IC0zICB8IC02ICB8IFMgICAgfCBDU1QsIEVBU1QsIEdBTFQsIE1EVCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxufCA4ICAgfCAtMiAgfCAtNSAgfCBSICAgIHwgQUNULCBDRFQsIENPVCwgQ1NULCBFQVNTVCwgRUNULCBFU1QsIFBFVCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbnwgOCAgIHwgLTIgIHwgLTQgIHwgUSAgICB8IEFNVCwgQVNULCBCT1QsIENEVCwgQ0xULCBDT1NULCBFQ1QsIEVEVCwgRktULCBHWVQsIFBZVCwgVkVUICAgICAgICAgICAgICB8XG58IDkgICB8IC0xICB8IC0zICB8IFAgICAgfCBBRFQsIEFNU1QsIEFSVCwgQlJULCBDTFNULCBGS1NULCBHRlQsIFBNU1QsIFBZU1QsIFJPVFQsIFNSVCwgVVlULCBXR1QgICAgfFxufCA5ICAgfCAtMSAgfCAtMiAgfCBPICAgIHwgQlJTVCwgRk5ULCBHU1QsIFBNRFQsIFVZU1QsIFdHU1QgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcblxuVGhlIHRhYmxlIG9ubHkgaW5jbHVkZXMgVVRDIG9mZnNldHMgdGhhdCBoYXZlIFtOQVRPIGxldHRlciBjb2Rlc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTWlsaXRhcnlfdGltZV96b25lIzp+OnRleHQ9YSUyMHN0YW5kYXJkaXplZCUyQyUyMHVuaWZvcm0lMjBzZXQlMjBvZiUyMHRpbWUlMjB6b25lcyUyMGZvciUyMGV4cHJlc3NpbmclMjB0aW1lJTIwYWNyb3NzJTIwZGlmZmVyZW50JTIwcmVnaW9ucyUyMG9mJTIwdGhlJTIwd29ybGQlMkMlMjBuYW1lZCUyMGFmdGVyJTIwdGhlJTIwTkFUTyUyMHBob25ldGljJTIwYWxwaGFiZXQpLiBEZWNsb2NrIGNvbnNpZGVycyB0aGUgTSBhbmQgWSB0aW1lIHpvbmVzIHRvIGJlIGlkZW50aWNhbCBhbmQgcHV0cyB0aGVtIGJvdGggaW4gWm9uZSA1IGFsb25nIHdpdGggdGhlIEwgYW5kIFggdGltZSB6b25lcy4gQWNjb3JkaW5nIHRvIFVUQywgdGhlIE0gYW5kIFkgdGltZSB6b25lcyBoYXZlIHRoZSBzYW1lIHRpbWUgb2YgZGF5LCBidXQgdGhlaXIgZGF0ZXMgZGlmZmVyIGJ5IDEgZGF5LvCfmLFcblNldmVyYWwgY291bnRyaWVzIGhhdmUgZmxvYXRpbmcgZGVjaW1hbCBvZmZzZXRzLCBzdWNoIGFzIElyYW4gYW5kIEluZGlhLCBhbmQgYXJlIHRodXMgbm90IHJlcHJlc2VudGVkIGluIHRoaXMgdGFibGUuIEJhc2VkIG9uIGxvbmdpdHVkZSwgSXJhbiBpcyBpbiBab25lIDEgYW5kIEluZGlhIGlzIGluIFpvbmUgMiwgYnV0IHRoZWlyIFVUQyBvZmZzZXRzIGFyZSBib3RoIGluIFpvbmUgMiBkdXJpbmcgRGF5bGlnaHQgU2F2aW5ncyBUaW1lIChEU1QpIGFuZCBpbiBab25lIDEgb3RoZXJ3aXNlLiBJIHRoaW5rIHRoaXMgaXMgYW5vdGhlciBncmVhdCBleGFtcGxlIG9mIGhvdyBEZWMgaXMgc3VwZXJpb3IgdG8gb3VyIGN1cnJlbnQgdGltZSBzeXN0ZW0uIERlYyBoYXMgb25seSAxMCB3aG9sZSBudW1iZXIgdGltZSB6b25lcyB0aGF0IG5ldmVyIHNoaWZ0IGJ1dCBsb2NhbCBhbmQgc29sYXIgdGltZSBlc3NlbnRpYWxseSBvZmZlciBpbmZpbml0ZSB0aW1lIHpvbmVzIGJ5IHByb3ZpZGluZyBhIGRpZmZlcmVudCB0aW1lIHpvbmUgYXQgZXZlcnkgbG9uZ2l0dWRlLmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAjIyBEZWMgYW5kIFVUQyB0aW1lIHpvbmUgZGlmZmVyZW5jZXNcblxuVGhlIGdyZWF0ZXN0IGRpZmZlcmVuY2UgYmV0d2VlbiBhIERlY2xvY2sgdGltZSB6b25lIGFuZCB0aGUgY29ycmVzcG9uZGluZyBVVEMgdGltZSB6b25lIGlzIDUgY2VudGlkYXkgKDEuMiBob3VycyBvciA3MiBtaW51dGVzKS4gXG5UaGVyZSBpcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gWm9uZSAwIGFuZCBVVEPCsTAwOjAwIG9yIGJldHdlZW4gWm9uZSA1IGFuZCBVVEPCsTEyOjAwLmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAjIyMgWm9uZSA3IGFuZCBDZW50cmFsIFRpbWVcbkRpZmZlcmVuY2U6IDUgY2VudGlkYXkgKDcyIG1pbnV0ZXMpYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im5vdy50b0xvY2FsZVRpbWVTdHJpbmcoXCJlbi1VU1wiLCB7dGltZVpvbmU6IFwiRXRjL0dNVCs2XCIsIGhvdXIxMjogZmFsc2V9KTtcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJgJHtNYXRoLmZsb29yKHpvbmU3aG91cikudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7TWF0aC5mbG9vcih6b25lN21pbikudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7TWF0aC5mbG9vcih6b25lN3NlYykudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yOCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gQ2VudHJhbCBUaW1lIGFuZCBab25lIDcgaXMgdGhlIGhpZ2hlc3QgcG9zc2libGU6IDUgY2VudGlkYXkgKDcyIG1pbnV0ZXMpLiBJbiBEZWMsIGxvbmdpdHVkZXMgYXJlIG1lYXN1cmVkIHN0YXJ0aW5nIGZyb20gW01lcmlkaWFuIDBdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpLzE4dGhfbWVyaWRpYW5fd2VzdCM6fjp0ZXh0PWElMjBsaW5lJTIwb2YlMjBsb25naXR1ZGUlMjB0aGF0JTIwZXh0ZW5kcyUyMGZyb20lMjB0aGUlMjBOb3J0aCUyMFBvbGUlMjBhY3Jvc3MlMjB0aGUlMjBBcmN0aWMlMjBPY2VhbiUyQyUyMEdyZWVubGFuZCUyQyUyMEljZWxhbmQlMkMlMjB0aGUlMjBBdGxhbnRpYyUyME9jZWFuJTJDJTIwdGhlJTIwQ2FuYXJ5JTIwSXNsYW5kcyUyQyUyMHRoZSUyMFNvdXRoZXJuJTIwT2NlYW4lMkMlMjBhbmQlMjBBbnRhcmN0aWNhJTIwdG8lMjB0aGUlMjBTb3V0aCUyMFBvbGUpLCB0aGUgc3RhcnQgb2YgWm9uZSAwICgtMTjCsCkuICBNZXJpZGlhbiAwIGlzIGJvdGggdGhlIFtQcmltZSBNZXJpZGlhbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUHJpbWVfbWVyaWRpYW4pIGFuZCB0aGUgW0ludGVybmF0aW9uYWwgRGF0ZSBMaW5lXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JbnRlcm5hdGlvbmFsX0RhdGVfTGluZSM6fjp0ZXh0PXRoZSUyMGxpbmUlMjBiZXR3ZWVuJTIwdGhlJTIwU291dGglMjBhbmQlMjBOb3J0aCUyMFBvbGVzJTIwdGhhdCUyMGlzJTIwdGhlJTIwYm91bmRhcnklMjBiZXR3ZWVuJTIwb25lJTIwY2FsZW5kYXIlMjBkYXklMjBhbmQlMjB0aGUlMjBuZXh0KSBpbiBEZWMuIElmIHdlIGNyZWF0ZWQgYSBuZXcgRGVjbG9jayB0aW1lIHpvbmUgY2FsbGVkIFpvbmUgNzUgdGhhdCBzdGFydGVkIGluIGJldHdlZW4gWm9uZSA3IGFuZCBab25lIDggb24gW01lcmlkaWFuIDc1XShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS8xMDh0aF9tZXJpZGlhbl93ZXN0Izp+OnRleHQ9YSUyMGxpbmUlMjBvZiUyMGxvbmdpdHVkZSUyMHRoYXQlMjBleHRlbmRzJTIwZnJvbSUyMHRoZSUyME5vcnRoJTIwUG9sZSUyMGFjcm9zcyUyMHRoZSUyMEFyY3RpYyUyME9jZWFuJTJDJTIwTm9ydGglMjBBbWVyaWNhJTJDJTIwdGhlJTIwUGFjaWZpYyUyME9jZWFuJTJDJTIwdGhlJTIwU291dGhlcm4lMjBPY2VhbiUyQyUyMGFuZCUyMEFudGFyY3RpY2ElMjB0byUyMHRoZSUyMFNvdXRoJTIwUG9sZSkgKC0xMDjCsCksIGl0IHdvdWxkIG1hdGNoIENlbnRyYWwgVGltZSBleGFjdGx5LmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNzVob3VyID0gKHpvbmUwICsgLjc1KSAlIDEgKiAyNFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zMCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InpvbmU3NW1pbiA9IHpvbmU3NWhvdXIgJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMzEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNzVzZWMgPSB6b25lNzVtaW4gJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMzIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJgJHtNYXRoLmZsb29yKHpvbmU3NWhvdXIpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgXCIwXCIpfToke01hdGguZmxvb3Ioem9uZTc1bWluKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIFwiMFwiKX06JHtNYXRoLmZsb29yKHpvbmU3NXNlYykudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im5vdy50b0xvY2FsZVRpbWVTdHJpbmcoXCJlbi1VU1wiLCB7dGltZVpvbmU6IFwiQW1lcmljYS9NZXhpY29fQ2l0eVwiLCBob3VyMTI6IGZhbHNlfSk7XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTM0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMjIFpvbmUgOCBhbmQgRWFzdGVybiBUaW1lXG5EaWZmZXJlbmNlOiAke3RleGAuOFxcb3ZlcmxpbmUzYH0gY2VudGlkYXkgKDEyIG1pbnV0ZXMpYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zNSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im5vdy50b0xvY2FsZVRpbWVTdHJpbmcoXCJlbi1VU1wiLCB7dGltZVpvbmU6IFwiRVNUXCIsIGhvdXIxMjogZmFsc2V9KTtcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMzYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJgJHtNYXRoLmZsb29yKHpvbmU4aG91cikudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7TWF0aC5mbG9vcih6b25lOG1pbikudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7TWF0aC5mbG9vcih6b25lOHNlYykudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0zNyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyBab25lIDAgYW5kIFVUQyswMDowMFxuRGlmZmVyZW5jZTogTm9uZSFgXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTM4IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibm93LnRvTG9jYWxlVGltZVN0cmluZyhcImVuLVVTXCIsIHt0aW1lWm9uZTogXCJFdGMvVVRDXCIsIGhvdXIxMjogZmFsc2V9KTtcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMzkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJgJHtNYXRoLmZsb29yKHpvbmUwaG91cikudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7TWF0aC5mbG9vcih6b25lMG1pbikudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7TWF0aC5mbG9vcih6b25lMHNlYykudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC00MCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyBab25lIDUgYW5kIFVUQ8KxMTI6MDBcbkRpZmZlcmVuY2U6IE5vbmUhYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC00MSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im5vdy50b0xvY2FsZVRpbWVTdHJpbmcoXCJlbi1VU1wiLCB7dGltZVpvbmU6IFwiRXRjL0dNVCsxMlwiLCBob3VyMTI6IGZhbHNlfSk7XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTQyIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibm93LnRvTG9jYWxlVGltZVN0cmluZyhcImVuLVVTXCIsIHt0aW1lWm9uZTogXCJFdGMvR01ULTEyXCIsIGhvdXIxMjogZmFsc2V9KTtcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNDMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJgJHtNYXRoLmZsb29yKHpvbmU1aG91cikudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7TWF0aC5mbG9vcih6b25lNW1pbikudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9OiR7TWF0aC5mbG9vcih6b25lNXNlYykudG9TdHJpbmcoKS5wYWRTdGFydCgyLCBcIjBcIil9YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC00NCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYERlY2xvY2sgdGltZSB6b25lcyBnbyBpbiBpbmNyZW1lbnRzIG9mXG4tIDEgZGVjaWRheVxuLSAzNiBkZWdyZWVzXG4tIDEuMiAoNi81KSBob3Vyc1xuLSA3MiBtaW51dGVzXG4tIDQzMjAgc2Vjb25kc1xuXG5JZiB3ZSBzcGxpdCBlYWNoIG9mIHRoZXNlIHRpbWUgem9uZXMgaW4gaGFsZiwgd2Ugd291bGQgaGF2ZSAyMSB0aW1lIHpvbmVzIChab25lIDAwIHRvIFpvbmUgOTUpIHRoYXQgd2VudCBpbiBpbmNyZW1lbnRzIG9mXG4tIDUgY2VudGlkYXlcbi0gMTggZGVncmVlc1xuLSAuNiAoMy81KSBob3Vyc1xuLSAzNiBtaW51dGVzXG4tIDIxNjAgc2Vjb25kc1xuXG5UaGlzIHdvdWxkIGJlIGNsb3NlIHRvIHRoZSBudW1iZXIgb2YgVVRDIG9mZnNldHMsIGJ1dCBwcm9iYWJseSBub3Qgd29ydGggdGhlIHRyb3VibGUuIFRoYXQgYmVpbmcgc2FpZCwgaWYgc29tZW9uZSByZXBvcnRzIHRoZWlyIHRpbWUgYXMgMjUuMDAtMjUsIHF1YXJ0ZXJkYXkgKDZBTSkgaW4gWm9uZSAyNSwgd2Ugd2lsbCBrbm93IHRoYXQgdGhpcyBpcyB0aGUgc2FtZSBhcyA1LjAwLTUsIG5vb24gKDEyUE0pIGluIFpvbmUgNS5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTQ1IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgQXBhcnQgZnJvbSBkaWZmZXJlbnQgdGltZSB6b25lcywgRGVjbG9jayB0aW1lcyBjYW4gZGlmZmVyIGZyb20gVVRDIHRpbWVzIGJlY2F1c2Ugb2YgRFNULiBEZWNsb2NrIHRpbWVzIG5ldmVyIHNoaWZ0ISBUaGUgc3RhbmRhcmQgRFNUIHByYWN0aWNlIG9mIHN3aXRjaGluZyB0byBhIGRpZmZlcmVudCB0aW1lIHpvbmUgKGUuZy4gRVNUIHRvIEVEVCkgZm9yIGNlcnRhaW4gcGFydHMgb2YgdGhlIHllYXIgKGUuZyBEYXkgOSB0byBEYXkgMjc3KSBjb3VsZCB3b3JrIGZvciBEZWNsb2NrLCBidXQgdGhhdCBnb2VzIGFnYWluc3QgdGhlIHNpbXBsaWNpdHkgb2YgZGV0ZXJtaW5pbmcgdGltZSB6b25lcyBzb2xlbHkgYnkgbG9uZ2l0dWRlLlxuXG5PZiBjb3Vyc2UsIGEgY291bnRyeSBjYW4gZGVjaWRlIHRvIG9ubHkgaGF2ZSAxIHRpbWUgem9uZSB3aXRoaW4gaXRzIGJvcmRlcnMgKENoaW5hIGRvZXMgdGhpcyB3aXRoIFVUQyB0aW1lIHpvbmVzKS4gSW4gZmFjdCwgaXQgd291bGQgYmUgT0sgdG8gaGF2ZSBhbnlvbmUgdXNlIHdoYXRldmVyIHRpbWUgem9uZSB0aGV5IHdhbnQgYXMgbG9uZyBhcyB0aW1lcyBhcmUgYWx3YXlzIHByb3ZpZGVkIHdpdGggdGltZSB6b25lcywgYmVjYXVzZSBpdCBpcyBlYXN5IHRvIGNvbnZlcnQgdGltZXMgYWNyb3NzIHRpbWUgem9uZXM6IGp1c3QgaW5jcmVtZW50IG9yIGRlY3JlbWVudCB0aGUgb25lLWRpZ2l0IHRpbWUgem9uZSBhbG9uZyB3aXRoIHRoZSBmaXJzdCBkaWdpdCBvZiB0aGUgdGltZS4gXG5cbldoZW4gaXQgaXMgbWlkZGF5ICguNSBvciAxMnBtKSBpbiBBbGFza2EgYW5kIEhhd2FpaSwgaXQgaXMgbWlkbmlnaHQgKC4wIG9yIDEyQU0pIGluICBVa3JhaW5lIGFuZCBUdXJrZXk6IC41LjAgPSAuMC41XG5cbldoZW4gaXQgaXMgcXVhZHJhbnMgKC4yNSBvciA2QU0pIGluIEVuZ2xhbmQsIGl0IGlzIGRvZHJhbnMgKC43NSBvciA2UE0pIGluIE5ldyBaZWFsYW5kOiAuMjUuNCA9IC43NS45YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC00NiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIERlY2xvY2sgVGltZSBab25lIENvbnZlcnNpb25gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTQ4IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibG9jYWwgPSB1bml4MmRvdGUodW5peClcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNDkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJmdW5jdGlvbiB1bml4MmRvdGUodW5peCwgem9uZSwgb2Zmc2V0ID0gNzE5NDY4KSB7XG4gIHJldHVybiBbXG4gICAgKHVuaXggPz8gRGF0ZS5ub3coKSkgLyA4NjQwMDAwMFxuICAgICsgKHpvbmUgPSB6b25lID8/ICgxMCAtIE1hdGgucm91bmQoXG4gICAgICAgIChuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSAvIDE0NCkpICUgMTBcbiAgICAgICkgLyAxMCArIG9mZnNldCwgem9uZV1cbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNTAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBUbyBjb252ZXJ0IHRvIG90aGVyIGEgdGltZSB0byBhbm90aGVyIHRpbWUgem9uZSwgYWRkIG9yIHN1YnRyYWN0IG11bHRpcGxlcyBvZiBhIGRlY2lkYXkgKGEgdGVudGggb2YgYSBkYXkpLiBUaGlzIGFkZGl0aW9uIG9yIHN1YnRyYWN0aW9uIGlzIHRoZSBzYW1lIGFzIHVzaW5nIGEgdGltZSB6b25lIG9mZnNldC4gRGVjIHRpbWUgem9uZSBudW1iZXJzIHdvcmsgbGlrZSBbYXJyYXkgaW5kZXhlc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQXJyYXlfJTI4ZGF0YV9zdHJ1Y3R1cmUlMjkjRWxlbWVudF9pZGVudGlmaWVyX2FuZF9hZGRyZXNzaW5nX2Zvcm11bGFzOn46dGV4dD1UaGUlMjBmaXJzdCUyMGVsZW1lbnQlMjBvZiUyMHRoZSUyMGFycmF5JTIwaXMlMjBpbmRleGVkJTIwYnklMjBzdWJzY3JpcHQlMjBvZiUyMDApIGFuZCB0aW1lIHpvbmUgb2Zmc2V0cy4gV2UgY2FuIHN3aXRjaCBiZXR3ZWVuIHBvc2l0aXZlIGFuZCBuZWdhdGl2ZSBpbmRleGVzIGJ5IGFkZGluZyAxMCB0byBwb3NpdGl2ZSBpbmRleGVzIGFuZCBzdWJ0cmFjdGluZyAxMCBmcm9tIG5lZ2F0aXZlIGluZGV4ZXMuIFdlIGNhbiBhZGQgYSBwb3NpdGl2ZSBvciBhIG5lZ2F0aXZlIGluZGV4IHRvIFpvbmUgMCB0aW1lIGFuZCBvYnRhaW4gdGhlIHRpbWUgaW4gdGhlIHRhcmdldCB0aW1lIHpvbmUuIEFkZGluZyBwb3NpdGl2ZSBvZmZzZXRzIGFsd2F5cyB3b3JrcywgYnV0IGFkZGluZyBhIG5lZ2F0aXZlIG9mZnNldCB0byBhIGRhdGUgd2l0aCBhIHRpbWUgd2lsbCBnaXZlIHVzIHRoZSBjb3JyZWN0IHRpbWUgb24geWVzdGVyZGF5J3MgZGF0ZSByYXRoZXIgdGhhbiB0b2RheSdzIGRhdGUuYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC01MSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyBab25lIDEgdGltZWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMSA9IHpvbmUwICsgLjFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMXRpbWVOdW0gPSB6b25lMSAlIDFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNTQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMXRpbWVTdHIgPSB6b25lMXRpbWVOdW0udG9TdHJpbmcoKS5zbGljZSgyLCA3KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC01NSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyBab25lIDIgdGltZWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNTYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMiA9IHpvbmUwICsgLjJcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNTciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMnRpbWVOdW0gPSB6b25lMiAlIDFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNTgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMnRpbWVTdHIgPSB6b25lMnRpbWVOdW0udG9TdHJpbmcoKS5zbGljZSgyLCA3KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC01OSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyBab25lIDMgdGltZWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNjAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMyA9IHpvbmUwICsgLjNcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNjEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lM3RpbWVOdW0gPSB6b25lMyAlIDFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNjIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lM3RpbWVTdHIgPSB6b25lM3RpbWVOdW0udG9TdHJpbmcoKS5zbGljZSgyLCA3KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC02MyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyBab25lIDQgdGltZWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNjQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNCA9IHpvbmUwICsgLjRcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNjUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNHRpbWVOdW0gPSB6b25lNCAlIDFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNjYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNHRpbWVTdHIgPSB6b25lNHRpbWVOdW0udG9TdHJpbmcoKS5zbGljZSgyLCA3KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC02NyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyBab25lIDUgdGltZWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNjgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNSA9IHpvbmUwICsgLjVcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNjkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNXRpbWVOdW0gPSB6b25lNSAlIDFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNzAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNXRpbWVTdHIgPSB6b25lNXRpbWVOdW0udG9TdHJpbmcoKS5zbGljZSgyLCA3KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC03MSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyBab25lIDYgdGltZWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNzIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNiA9IHpvbmUwICsgLjZcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNzMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNnRpbWVOdW0gPSB6b25lNSAlIDFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNzQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNnRpbWVTdHIgPSB6b25lNnRpbWVOdW0udG9TdHJpbmcoKS5zbGljZSgyLCA3KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC03NSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyBab25lIDcgdGltZWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNzYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNyA9IHpvbmUwICsgLjdcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNzciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lN3RpbWVOdW0gPSB6b25lNyAlIDFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNzgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lN3RpbWVTdHIgPSB6b25lN3RpbWVOdW0udG9TdHJpbmcoKS5zbGljZSgyLCA3KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC03OSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyBab25lIDggdGltZWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtODAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lOCA9IHpvbmUwICsgLjhcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtODEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lOHRpbWVOdW0gPSB6b25lOCAlIDFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtODIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lOHRpbWVTdHIgPSB6b25lOHRpbWVOdW0udG9TdHJpbmcoKS5zbGljZSgyLCA3KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC04MyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIyBab25lIDkgdGltZWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtODQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lOSA9IHpvbmUwICsgLjlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtODUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lOXRpbWVOdW0gPSB6b25lOSAlIDFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtODYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lOXRpbWVTdHIgPSB6b25lOXRpbWVOdW0udG9TdHJpbmcoKS5zbGljZSgyLCA3KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC04NyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIENhbGN1bGF0ZSBEZWNsb2NrIHRpbWVzIGZyb20gVU5JWCB0aW1lYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC04OCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYE9idGFpbiBVTklYIHRpbWUuYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC04OSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InVuaXggPSB7XG4gIHdoaWxlKHRydWUpIHtcbiAgICB5aWVsZCBEYXRlLm5vdygpO1xuICB9XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTkxIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMjIFpvbmUgMCB0aW1lYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC05MiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InpvbmUwID0gdW5peCAvIDg2NDAwMDAwXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTkzIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTB0aW1lTnVtID0gem9uZTAgJSAxXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTk0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTB0aW1lU3RyID0gem9uZTB0aW1lTnVtLnRvU3RyaW5nKCkuc2xpY2UoMiwgNylcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtOTUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBUaGlzIHNpbXBsZSBjYWxjdWxhdGlvbiBpcyBhbGwgaXQgdGFrZXMgdG8gb2J0YWluIHRoZSB0aW1lIGluIERlY2xvY2sgVGltZSBab25lIDAhYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC05NiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYCMjIENvbnZlcnQgSEg6TU06U1MgdGltZSB0byBEZWNsb2NrIHRpbWVgXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTk3IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgJHt0ZXhgZGVjbG9jayA9IFxcZnJhY3tob3VyfXsyNH0gKyBcXGZyYWN7bWludXRlfXsxNDQwfSArIFxcZnJhY3tzZWNvbmR9ezg2NDAwfWB9YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC05OCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im5vdyA9IHtcbiAgd2hpbGUodHJ1ZSkge1xuICAgIHlpZWxkIG5ldyBEYXRlKCk7XG4gIH1cbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtOTkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJub3cuZ2V0VVRDSG91cnMoKSAvIDI0ICsgbm93LmdldFVUQ01pbnV0ZXMoKSAvIDE0NDAgKyBub3cuZ2V0VVRDU2Vjb25kcygpIC8gODY0MDAgKyBub3cuZ2V0VVRDTWlsbGlzZWNvbmRzKCkgLyA4NjQwMDAwMFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMDAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMHRpbWVOdW1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTAxIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMgQ29udmVydCBEZWNsb2NrIHRpbWUgdG8gSEg6TU06U1MgdGltZWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTAyIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgJHt0ZXhgaG91ciA9IGRlY2xvY2sgXFxjZG90IDI0YH1gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEwMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1kYFxuJHt0ZXhgbWludXRlID0gXFxmcmFje2hvdXIgLSBcXGxmbG9vciBob3VyIFxccmZsb29yfXs2MH1gfVxuYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMDQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAke3RleGBzZWNvbmQgPSBcXGZyYWN7bWludXRlIC0gXFxsZmxvb3IgbWludXRlIFxccmZsb29yfXs2MH1gfWBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTA1IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMjIEhvdXJzYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMDYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMGhvdXIgPSB6b25lMHRpbWVOdW0gKiAyNFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMDciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMWhvdXIgPSB6b25lMXRpbWVOdW0gKiAyNFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMDgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMmhvdXIgPSB6b25lMnRpbWVOdW0gKiAyNFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMDkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lM2hvdXIgPSB6b25lM3RpbWVOdW0gKiAyNFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMTAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNGhvdXIgPSB6b25lNHRpbWVOdW0gKiAyNFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMTEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNWhvdXIgPSB6b25lNXRpbWVOdW0gKiAyNFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNmhvdXIgPSB6b25lNnRpbWVOdW0gKiAyNFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lN2hvdXIgPSB6b25lN3RpbWVOdW0gKiAyNFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMTQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lOGhvdXIgPSB6b25lOHRpbWVOdW0gKiAyNFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMTUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lOWhvdXIgPSB6b25lOXRpbWVOdW0gKiAyNFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMTYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAjIyMgTWludXRlc2BcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTE3IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTBtaW4gPSB6b25lMGhvdXIgJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTE4IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTFtaW4gPSB6b25lMWhvdXIgJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTE5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTJtaW4gPSB6b25lMmhvdXIgJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTIwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTNtaW4gPSB6b25lM2hvdXIgJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTIxIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTRtaW4gPSB6b25lNGhvdXIgJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTIyIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTVtaW4gPSB6b25lNWhvdXIgJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTIzIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTZtaW4gPSB6b25lNmhvdXIgJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTI0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTdtaW4gPSB6b25lN2hvdXIgJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTI1IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZThtaW4gPSB6b25lOGhvdXIgJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTI2IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTltaW4gPSB6b25lOWhvdXIgJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTI3IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMjIFNlY29uZHNgXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEyOCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InpvbmUwc2VjID0gem9uZTBtaW4gJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTI5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTFzZWMgPSB6b25lMW1pbiAlIDEgKiA2MFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMzAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lMnNlYyA9IHpvbmUybWluICUgMSAqIDYwXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEzMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InpvbmUzc2VjID0gem9uZTNtaW4gJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTMyIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTRzZWMgPSB6b25lNG1pbiAlIDEgKiA2MFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMzMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lNXNlYyA9IHpvbmU1bWluICUgMSAqIDYwXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEzNCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InpvbmU2c2VjID0gem9uZTZtaW4gJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTM1IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uZTdzZWMgPSB6b25lN21pbiAlIDEgKiA2MFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMzYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25lOHNlYyA9IHpvbmU4bWluICUgMSAqIDYwXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTEzNyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InpvbmU5c2VjID0gem9uZTltaW4gJSAxICogNjBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTM4IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWRgIyMgTWFydGlhbiBhbmQgRWFydGggdGltZSBjb21wYXJpc29uYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMzkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBXZSBjYW4gdXNlIGEgc2ltaWxhciBjYWxjdWxhdGlvbiB0byBnZXQgdGhlIHRpbWUgaW4gVGltZSBab25lIDAgb24gTWFycy4gVGhlIG9ubHkgZGlmZmVyZW5jZSBpcyB0aGF0IHdlIGFkZCAxMTcgZGF5cyB0byBnbyBmcm9tIDE5NjkrMzA2MC4wMDAwLTAgdG8gMTk3MCswNTgwLjAwMDAtMCwgYW4gRWFydGggZGF0ZSB0aGF0IGNvaW5jaWRlcyB3aXRoIHRoZSBbbm9ydGh3YXJkIHNwcmluZyBlcXVpbm94IG9uIE1hcnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1RpbWVrZWVwaW5nX29uX01hcnMjWWVhcl9udW1iZXJpbmcpLCBhbmQgZGl2aWRlIGJ5IDEuMDI3NDkxMjUgdG8gY29udmVydCBFYXJ0aCBkYXlzIHRvIE1hcnRpYW4gZGF5cy5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE0MCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im1hcnNab25lMHRpbWVOdW0gPSAodW5peCAvIDg2NDAwMDAwICsgNjA2NS41ODQ4MzQ4NTAwODQ3NzU4KSAvIDEuMDI3NDkxMjUxNyAlIDFcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTQxIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWFyc1pvbmUwdGltZVN0ciA9IG1hcnNab25lMHRpbWVOdW0udG9TdHJpbmcoKS5zbGljZSgyLCA3KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNDIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBFYXJ0aCB0aW1lIGlzIGFib3V0IDIuNzUlIGZhc3RlciB0aGFuIE1hcnRpYW4gdGltZS4gVGhpcyBkaWZmZXJlbmNlIGlzIG5vdGljZWFibHkgd2hlbiBjb21wYXJpbmcgdGhlIHRpbWUgc2luY2UgdGhpcyB3ZWJwYWdlIGxvYWRlZCBpbiBFYXJ0aCBiZWF0cyAoY2VudGltaWxsaWRheXMpIGFuZCBNYXJ0aWFuIGJlYXRzIChjZW50aW1pbGxpc29scykuYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNDMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ0aWNrID0ge1xuICBsZXQgaSA9IDA7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgeWllbGQgUHJvbWlzZXMudGljayg4NjQsICsraSk7XG4gIH1cbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTQ0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWFyc190aWNrID0gTWF0aC5yb3VuZCh0aWNrIC8gMS4wMjc0OTEyNTE3KVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNDUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGBBdCB0aGUgdG9wIG9mIHRoZSBbRGVjYWxlbmRhciBub3RlYm9va10oL0BkZWMvYWwpLCB5b3UgY2FuIGZpbmQgdGhlIGN1cnJlbnQgRGVjIHRpbWVzdGFtcCBpbiBab25lIDAgb24gRWFydGggYW5kIE1hcnMuYFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNDYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAjIyMgTWFydGlhbiB0aW1lIHpvbmVzXG5cbklmIHdlIGhhdmUgdGhlIGxvbmdpdHVkZSBvZiBvdGhlciBwb2ludHMgb2YgaW50ZXJlc3Qgb24gTWFycywgc3VjaCBhcyBNYXJ0aWFuIHJvdmVyIGxhbmRpbmcgc2l0ZXMsIHdlIGNhbiBjYWxjdWxhdGUgdGhlaXIgem9uYWwgYW5kIGxvY2FsIERlY2xvY2sgdGltZS4gRGVjbG9jayB0aW1lIHpvbmVzIGNhbiBiZSBhcHBsaWVkIHRvIE1hcnMgb3IgYW55IG90aGVyIGNlbGVzdGlhbCBib2R5LCBhcyBsb25nIGFzIHdlIGNhbiBzZWxlY3QgYSBsb25naXR1ZGUgdG8gc2VydmUgYXMgdGhlIGNlbnRlciBvZiB0aGF0IHBsYW5ldCdzIFpvbmUgMC4gRmluZGluZyBhIFpvbmUgMCBtaWRwb2ludCBpcyBlYXN5IGZvciBbcm9ja3kgcGxhbmV0c10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVGVycmVzdHJpYWxfcGxhbmV0Izp+OnRleHQ9YSUyMHBsYW5ldCUyMHRoYXQlMjBpcyUyMGNvbXBvc2VkJTIwcHJpbWFyaWx5JTIwb2YlMjBzaWxpY2F0ZSUyQyUyMHJvY2tzJTIwb3IlMjBtZXRhbHMpIHdpdGhvdXQgc3VwZXIgZGVuc2UgYXRtb3NwaGVyZXMsIGJ1dCBtYXkgYmUgaGFyZCBmb3Igb3RoZXIgY2VsZXN0aWFsIGJvZGllcywgbGlrZSBwZXJwZXR1YWxseSBjbG91ZC1jb3ZlcmVkIFZlbnVzIG9yIHRoZSBnYXMgZ2lhbnQgSnVwaXRlci4gVGhlIG1pZHBvaW50IG9mIFpvbmUgMCBvbiBFYXJ0aCBpcyBbR3JlZW53aWNoXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QcmltZV9tZXJpZGlhbl8lMjhHcmVlbndpY2glMjkpLCB3aGlsZSB0aGUgYW5hbG9nb3VzIHBvaW50IG9uIE1hcnMgaXMgYSBjcmF0ZXIgY2FsbGVkIFtBaXJ5LTBdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FpcnktMCM6fjp0ZXh0PWElMjBjcmF0ZXIlMjBpbnNpZGUlMjB0aGUlMjBsYXJnZXIlMjBBaXJ5JTIwQ3JhdGVyJTIwb24lMjBNYXJzKSwgd2hpY2ggaXMgY2VudGVyZWQgb24gdGhlIE1hcnMgZ2xvYmUgYW5kIG1hcCBiZWxvdy4gVGhlIGxvbmdpdHVkZSBhdCBBaXJ5LTAgaXMgNSBbY3RyXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9UdXJuXyUyOGFuZ2xlJTI5Izp+OnRleHQ9aW4lMkMlMjBlLmcuJTJDLSxjZW50aXR1cm5zJTIwJTI4Y3RyJTI5LC0lMkMlMjBtaWxsaXR1cm5zJTIwJTI4bXRyJTI5JTJDJTIwZXRjKSwgYXMgbWVhc3VyZWQgZnJvbSBbTWVyaWRpYW5dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpLzE2Mm5kX21lcmlkaWFuX3dlc3QjOn46dGV4dD1hJTIwbGluZSUyMG9mJTIwbG9uZ2l0dWRlJTIwdGhhdCUyMGV4dGVuZHMlMjBmcm9tJTIwdGhlJTIwTm9ydGglMjBQb2xlJTIwYWNyb3NzJTIwdGhlJTIwQXJjdGljJTIwT2NlYW4lMkMlMjBOb3J0aCUyMEFtZXJpY2ElMkMlMjB0aGUlMjBQYWNpZmljJTIwT2NlYW4lMkMlMjB0aGUlMjBTb3V0aGVybiUyME9jZWFuJTJDJTIwYW5kJTIwQW50YXJjdGljYSUyMHRvJTIwdGhlJTIwU291dGglMjBQb2xlKSAwLCB0aGUgRGVjIFtwcmltZSBtZXJpZGlhbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUHJpbWVfbWVyaWRpYW4jOn46dGV4dD1hbiUyMGFyYml0cmFyaWx5JTJEY2hvc2VuJTIwbWVyaWRpYW4lMjAlMjhhJTIwbGluZSUyMG9mJTIwbG9uZ2l0dWRlJTI5JTIwaW4lMjBhJTIwZ2VvZ3JhcGhpYyUyMGNvb3JkaW5hdGUlMjBzeXN0ZW0lMjBhdCUyMHdoaWNoJTIwbG9uZ2l0dWRlJTIwaXMlMjBkZWZpbmVkJTIwdG8lMjBiZSUyMDAlQzIlQjApLmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTQ3IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiZ2xvYmUgPSB7ICBcbiAgd2hpbGUgKHRydWUpIHtcbiAgICByZW5kZXJlci5yZW5kZXIoc2NlbmUsIGNhbWVyYSk7XG4gICAgeWllbGQgcmVuZGVyZXIuZG9tRWxlbWVudDtcbiAgfVxufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNDgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJuYXR1cmFsRWFydGggPSBkMy5pbWFnZShcbiAgXCJodHRwczovL3VwbG9hZC53aWtpbWVkaWEub3JnL3dpa2lwZWRpYS9jb21tb25zL2IvYjcvTWFyc19HJUMzJUE5b2xvY2FsaXNhdGlvbi5qcGdcIixcbi8vICBuYXR1cmFsRWFydGggPSBkMy5pbWFnZShcbi8vICBcImh0dHBzOi8vbWVkaWEub3Blbm5ld3Mub3JnL2ltZy9ob3ctd2UtbWFkZS1yZXdpbmQtdGhlLXJlZC9tYXJzLWJhc2VfNGsuanBnXCIsXG4gIFxuICB7Y3Jvc3NPcmlnaW46IFwiYW5vbnltb3VzXCJ9KVxuLy8ge1xuLy8gICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlO1xuLy8gICAgIGltYWdlLmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcbi8vICAgICBpbWFnZS5zcmMgPSBcImh0dHBzOi8vZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20vamFrZS1sb3cvZDUxOWUwMDg1M2IxNWU5Y2VjMzkxYzNkYWI1OGU3N2YvcmF3LzZlNzk2MDM4ZTRmMzQ1MjQwNTk5OTdmOGUxZjFjNDJlYTI4OWQ4MDUvbmUxLXNtYWxsLnBuZ1wiO1xuLy8gICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1hZ2UpO1xuLy8gICAgIGltYWdlLm9uZXJyb3IgPSByZWplY3Q7XG4vLyAgIH0pO1xuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNDkiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJtZGAjIyBBcHBlbmRpeGBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTUwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiY2FtZXJhID0ge1xuICBjb25zdCBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoOCwgMiwgMC4xLCA2MCk7XG4gIGNhbWVyYS5wb3NpdGlvbi5zZXQoLTEyLCAwLCAwKTtcbiAgcmV0dXJuIGNhbWVyYTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTUxIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoic2NlbmUgPSB7XG4gIGxldCBzY2VuZSA9IHRoaXM7XG4gIFxuICBpZiAoIXNjZW5lKSB7XG4gICAgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICBzY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKCcjZjVmNWY1Jyk7XG4gICAgc2NlbmUuYWRkKGVhcnRoLCBvcmJpdCwgbGlnaHQpO1xuICB9XG5cbiAgcmV0dXJuIHNjZW5lO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJyZW5kZXJlciA9IHtcbiAgY29uc3QgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7YW50aWFsaWFzOiB0cnVlfSlcbiAgICBcbiAgcmVuZGVyZXIuc2V0U2l6ZSh3aWR0aCwgd2lkdGggLyAyKTtcbiAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyhkZXZpY2VQaXhlbFJhdGlvKTtcbiAgXG4gIGludmFsaWRhdGlvbi50aGVuKCgpID0+IHJlbmRlcmVyLmRpc3Bvc2UoKSk7XG4gIFxuICByZXR1cm4gcmVuZGVyZXI7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE1MyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImNvbnRyb2xzID0ge1xuICBjb25zdCBjb250cm9scyA9IG5ldyBUSFJFRS5PcmJpdENvbnRyb2xzKGNhbWVyYSwgcmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gIGNvbnRyb2xzLm1pbkRpc3RhbmNlID0gMztcbiAgY29udHJvbHMubWF4RGlzdGFuY2UgPSAyMDtcbiAgXG4gIGNvbnN0IHJlZHJhdyA9ICgpID0+IHJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgXG4gIGNvbnRyb2xzLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgcmVkcmF3KTtcbiAgXG4gIGludmFsaWRhdGlvbi50aGVuKCgpID0+IHtcbiAgICBjb250cm9scy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIHJlZHJhdyk7XG4gICAgY29udHJvbHMuZGlzcG9zZSgpO1xuICB9KTtcbiAgXG4gIHJldHVybiBjb250cm9scztcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTU0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiLy9saWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoJyNmZmYnKVxubGlnaHQgPSB7XG4gIGNvbnN0IGxpZ2h0ID0gbmV3IFRIUkVFLkdyb3VwKCk7XG5cbiAgY29uc3QgYW1iaWVudCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoXCIjODg4XCIpXG4gIGNvbnN0IGRpcmVjdGlvbmFsID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoXCIjYWFhXCIpXG4gIGRpcmVjdGlvbmFsLnBvc2l0aW9uLnggPSAtMTgwO1xuICBcbiAgbGlnaHQuYWRkKGFtYmllbnQsIGRpcmVjdGlvbmFsKVxuICByZXR1cm4gbGlnaHQ7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE1NSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImVhcnRoID0ge1xuICBsZXQgZWFydGggPSB0aGlzO1xuICBcbiAgaWYgKCFlYXJ0aCkge1xuICAgIGVhcnRoID0gbmV3IFRIUkVFLk1lc2goKTtcbiAgICBlYXJ0aC5nZW9tZXRyeSA9IG5ldyBUSFJFRS5TcGhlcmVCdWZmZXJHZW9tZXRyeSgxLCA0MCwgNDApO1xuICAgIGVhcnRoLnJvdGF0aW9uLnkgPSBNYXRoLlBJO1xuICB9XG4gIFxuICByZXR1cm4gZWFydGg7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE1NiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Im9yYml0ID0ge1xuICBsZXQgb3JiaXQgPSB0aGlzO1xuICBcbiAgaWYgKCFvcmJpdCkge1xuICAgIG9yYml0ID0gbmV3IFRIUkVFLkdyb3VwKCk7ICAgIFxuICAgIC8vIG9yYml0LmFkZCh0cmFjaywgc2F0ZWxsaXRlKTtcbiAgfVxuICAgIFxuICAvLyBvcmJpdC5yb3RhdGlvbi54ID0gc2F0ZWxsaXRlSW5jbGluYXRpb24gKiBNYXRoLlBJIC8gMTgwO1xuICBcbiAgcmV0dXJuIG9yYml0O1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNTciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ0ZXh0dXJlID0ge1xuICBsZXQgdGV4dHVyZSA9IHRoaXM7XG4gIFxuICBpZiAoIXRleHR1cmUpIHtcbiAgICB0ZXh0dXJlID0gbmV3IFRIUkVFLkNhbnZhc1RleHR1cmUobWFwKTtcbiAgICBlYXJ0aC5tYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHsgbWFwOiB0ZXh0dXJlIH0pO1xuICB9IGVsc2Uge1xuICAgIHRleHR1cmUubmVlZHNVcGRhdGUgPSB0cnVlO1xuICB9XG4gIFxuICByZXR1cm4gdGV4dHVyZTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTU4IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiVEhSRUUgPSB7XG4gIGNvbnN0IFRIUkVFID0gd2luZG93LlRIUkVFID0gYXdhaXQgcmVxdWlyZShcInRocmVlQDAuOTcvYnVpbGQvdGhyZWUubWluLmpzXCIpO1xuICBhd2FpdCByZXF1aXJlKFwidGhyZWVAMC45Ny9leGFtcGxlcy9qcy9jb250cm9scy9PcmJpdENvbnRyb2xzLmpzXCIpLmNhdGNoKCgpID0+IHt9KTtcbiAgYXdhaXQgcmVxdWlyZShcInRocmVlQDAuOTcvZXhhbXBsZXMvanMvbG9hZGVycy9PQkpMb2FkZXIuanNcIikuY2F0Y2goKCkgPT4ge30pO1xuICBhd2FpdCByZXF1aXJlKFwidGhyZWVAMC45Ny9leGFtcGxlcy9qcy9sb2FkZXJzL01UTExvYWRlci5qc1wiKS5jYXRjaCgoKSA9PiB7fSk7XG4gIHJldHVybiBUSFJFRTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTU5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibWFwID0ge1xuICBsZXQgY2FudmFzID0gdGhpcztcblxuICBpZiAoIWNhbnZhcykge1xuICAgIGNhbnZhcyA9IERPTS5jb250ZXh0MmQod2lkdGgsIHdpZHRoLzIpLmNhbnZhcztcbiAgfVxuICBcbiAgbGV0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gIGNvbnN0IHBhdGggPSBkMy5nZW9QYXRoKClcbiAgICAucHJvamVjdGlvbihwcm9qZWN0aW9uKVxuICAgIC5jb250ZXh0KGNvbnRleHQpO1xuICBcbiAgY29udGV4dC5kcmF3SW1hZ2UobmF0dXJhbEVhcnRoLCAwLCAwLCB3aWR0aCwgd2lkdGgvMik7XG5cbiBcbiAgcmV0dXJuIGNhbnZhcztcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTYwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoicHJvamVjdGlvbiA9IGQzLmdlb0VxdWlyZWN0YW5ndWxhcigpXG4gIC5maXRTaXplKFt3aWR0aCwgd2lkdGgvMl0sIHsgdHlwZTogJ1NwaGVyZScgfSlcbiAgLnByZWNpc2lvbigwLjEpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE2MSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImltcG9ydCB7IHNsaWRlciB9IGZyb20gXCJAamFzaGtlbmFzL2lucHV0c1wiXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE2MiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImltcG9ydCB7IFRvZ2dsZSB9IGZyb20gXCJAb2JzZXJ2YWJsZWhxL2lucHV0c1wiXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE2MyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InNlbGVjdGVkID0gYCR7U3RyaW5nKHVuaXgyZG90ZSh1bml4LCBsb25nMnpvbmUoY29vcmRpbmF0ZXNbMF0pKVswXSAlIDEgKiAxMCkuc2xpY2UoMCwgNil9LSR7bG9uZzJ6b25lKGNvb3JkaW5hdGVzWzBdKX1gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE2NCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImZ1bmN0aW9uIGxvbmcyem9uZShkZWdyZWVzID0gLTE4MCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihsb25nMnR1cm4oZGVncmVlcywgMSkpO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNjUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJmdW5jdGlvbiBsb25nMnR1cm4oZGVncmVlcyA9IC0xODAsIGUgPSAzKSB7XG4gIC8vIHR1cm5zOiBlPTAsIGRlY2l0dXJuczogZT0xLCBldGMuXG4gIHJldHVybiAoKChkZWdyZWVzICU9IDM2MCkgPCAwID8gZGVncmVlcyArIDM2MCA6IGRlZ3JlZXMpICsgMTgpIC8gKDM2MCAvIDEwKiplKSAlIDEwKiplO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNjYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJmdW5jdGlvbiBsYXRpMnR1cm4oZGVncmVlcyA9IC0xODAsIGUgPSAzKSB7XG4gIC8vIHR1cm5zOiBlPTAsIGRlY2l0dXJuczogZT0xLCBldGMuXG4gIHJldHVybiAoKGRlZ3JlZXMgJT0gMzYwKSA8IDAgPyBkZWdyZWVzICsgMzYwIDogZGVncmVlcykgLyAoMzYwIC8gMTAqKmUpICUgMTAqKmU7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE2NyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImZ1bmN0aW9uIGxhdGkydHVybjEoZGVncmVlcyA9IC0xODAsIGUgPSAzKSB7XG4gIC8vIHR1cm5zOiBlPTAsIGRlY2l0dXJuczogZT0xLCBldGMuXG4gIHJldHVybiAoZGVncmVlcyAlPSAzNjApIC8gKDM2MCAvIDEwKiplKSAlIDEwKiplO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNjgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJzb2xhcjEgPSAoYXdhaXQgcmVxdWlyZShcInNvbGFyLWNhbGN1bGF0b3JAMC4yXCIpKShjb29yZGluYXRlcylcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTY5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiYm9yZGVycyA9IHRvcG9qc29uLm1lc2goY291bnRyeUJvcmRlcnMsIGNvdW50cnlCb3JkZXJzLm9iamVjdHMuY291bnRyaWVzLCAoYSwgYikgPT4gYSAhPT0gYilcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTcwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiY291bnRyeUJvcmRlcnMgPSBmZXRjaChcImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vd29ybGQtYXRsYXNAMi9jb3VudHJpZXMtNTBtLmpzb25cIikudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE3MSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImJvdW5kYXJpZXMgPSB0b3BvanNvbi5tZXNoKHdvcmxkLHdvcmxkLm9iamVjdHMuY291bnRyaWVzLCAoYSwgYikgPT4gYSAhPT0gYik7XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE3MiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InN1biA9IHtcbiAgY29uc3Qgbm93ID0gbmV3IERhdGU7XG4gIGNvbnN0IGRheSA9IG5ldyBEYXRlKCtub3cpLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xuICBjb25zdCB0ID0gc29sYXIuY2VudHVyeShub3cpO1xuICBjb25zdCBsb25naXR1ZGUgPSAoZGF5IC0gbm93KSAvIDg2NGU1ICogMzYwIC0gMTgwO1xuICByZXR1cm4gW2xvbmdpdHVkZSAtIHNvbGFyLmVxdWF0aW9uT2ZUaW1lKHQpIC8gNCwgc29sYXIuZGVjbGluYXRpb24odCldO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNzMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJuaWdodCA9IGQzLmdlb0NpcmNsZSgpXG4gICAgLnJhZGl1cyg5MClcbiAgICAuY2VudGVyKGFudGlwb2RlKHN1bikpXG4gICgpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE3NCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImFudGlwb2RlID0gKFtsb25naXR1ZGUsIGxhdGl0dWRlXSkgPT4gW2xvbmdpdHVkZSArIDE4MCwgLWxhdGl0dWRlXVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xNzUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJzb2xhciA9IHJlcXVpcmUoXCJzb2xhci1jYWxjdWxhdG9yQDAuMy9kaXN0L3NvbGFyLWNhbGN1bGF0b3IubWluLmpzXCIpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE3NiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlN1bkNhbGMgPSByZXF1aXJlKFwic3VuY2FsYzNcIilcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTc3IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoicG9zID0gU3VuQ2FsYy5nZXRQb3NpdGlvbihEYXRlLm5vdygpLCBjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbMF0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE3OCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InBvc1tcImF6aW11dGhcIl0gKiAxODAgLyBNYXRoLlBJXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE3OSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InBvc1tcImF6aW11dGhcIl0gLyAoMiAqIE1hdGguUEkpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE4MCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InBvc1tcImRlY2xpbmF0aW9uXCJdICogMTgwIC8gTWF0aC5QSVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xODEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJwb3NbXCJ6ZW5pdGhcIl0gKiAxODAgLyBNYXRoLlBJXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE4MiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InN0eWxlID0gaHRtbGA8c3R5bGU+XG5cbiNjbG9jayB7XG4gIHN0cm9rZTogIzAwMDtcbiAgZm9udC1mYW1pbHk6IFwiSGVsdmV0aWNhTmV1ZS1MaWdodFwiLCBcIkhlbHZldGljYSBOZXVlIExpZ2h0XCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgSGVsdmV0aWNhLCBBcmlhbCwgXCJMdWNpZGEgR3JhbmRlXCIsIHNhbnMtc2VyaWY7IFxufVxuXG4jY2xvY2sgI3JpbSB7XG4gIGZpbGw6IG5vbmU7XG4gIHN0cm9rZTogIzk5OTtcbiAgc3Ryb2tlLXdpZHRoOiAzcHg7XG59XG5cbiNjbG9jayAuc2Vjb25kLWhhbmQge1xuICBzdHJva2Utd2lkdGg6Mztcbn1cblxuI2Nsb2NrIC5taW51dGUtaGFuZCB7XG4gIHN0cm9rZS13aWR0aDo4O1xuICBzdHJva2UtbGluZWNhcDpyb3VuZDtcbn1cblxuI2Nsb2NrIC5ob3VyLWhhbmQge1xuICBzdHJva2Utd2lkdGg6MTI7XG4gIHN0cm9rZS1saW5lY2FwOnJvdW5kO1xufVxuXG4jY2xvY2sgLmhhbmRzLWNvdmVyIHtcbiAgc3Ryb2tlLXdpZHRoOjM7XG4gIGZpbGw6I2ZmZjtcbn1cblxuI2Nsb2NrIC5zZWNvbmQtdGljayB7XG4gIHN0cm9rZS13aWR0aDozO1xuICBmaWxsOiMwMDA7ICBcbn1cblxuI2Nsb2NrIC5ob3VyLXRpY2sge1xuICBzdHJva2Utd2lkdGg6ODsgLy8gc2FtZSBhcyB0aGUgbWludXRlIGhhbmRcbn1cblxuI2Nsb2NrIC5zZWNvbmQtbGFiZWwge1xuICBmb250LXNpemU6IDEycHg7XG59XG5cbiNjbG9jayAuaG91ci1sYWJlbCB7XG4gIGZvbnQtc2l6ZTogMjRweDtcbn1cblxuPC9zdHlsZT5gXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE4MyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImRhdGVSYW5nZSA9IGQzLnV0Y0RheS5yYW5nZShuZXcgRGF0ZShcIjIwMjQtMDMtMDJcIiksIG5ldyBEYXRlKFwiMjAyNS0wMy0wMlwiKSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTg0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibm9vbnMgPSBkYXRlUmFuZ2UubWFwKGQgPT4gU3VuQ2FsYy5nZXRTdW5UaW1lcyhkLCBjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbMF0pW1wic29sYXJOb29uXCJdW1widmFsdWVcIl0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE4NSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InJpc2VzID0gZGF0ZVJhbmdlLm1hcChkID0+IFN1bkNhbGMuZ2V0U3VuVGltZXMoZCwgY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzBdKVtcInN1bnJpc2VTdGFydFwiXVtcInZhbHVlXCJdKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xODYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJzZXRzID0gZGF0ZVJhbmdlLm1hcChkID0+IFN1bkNhbGMuZ2V0U3VuVGltZXMoZCwgY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzBdKVtcInN1bnNldEVuZFwiXVtcInZhbHVlXCJdKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xODciLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25hbE5vb25zID0gbm9vbnMubWFwKGQgPT4gZC5nZXRUaW1lKCkgLyA4NjQwMDAwMCAtIC40ICsgTWF0aC5yb3VuZCgoMTQ0ICsgY29vcmRpbmF0ZXNbMF0pIC8gMzYpIC8gMTApLm1hcChkID0+IGQgJSAxKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xODgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ6b25hbFJpc2VzID0gcmlzZXMubWFwKGQgPT4gZC5nZXRUaW1lKCkgLyA4NjQwMDAwMCAtIC40ICsgTWF0aC5yb3VuZCgoMTQ0ICsgY29vcmRpbmF0ZXNbMF0pIC8gMzYpIC8gMTApLm1hcChkID0+IGQgJSAxKS5tYXAoZCA9PiBkID49IC41IHx8IGQgPD0gLjA1ID8gTmFOIDogZClcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTg5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uYWxTZXRzID0gc2V0cy5tYXAoZCA9PiBkLmdldFRpbWUoKSAvIDg2NDAwMDAwIC0gLjQgKyBNYXRoLnJvdW5kKCgxNDQgKyBjb29yZGluYXRlc1swXSkgLyAzNikgLyAxMCkubWFwKGQgPT4gZCAlIDEpLm1hcChkID0+IGQgPD0gLjUgfHwgZCA+PSAuOTUgPyBOYU4gOiBkKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xOTAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJsb2NhbE5vb25zID0gbm9vbnMubWFwKGQgPT4gKChkLmdldFRpbWUoKSAvIDg2NDAwMDAwIC0gLjQgKyAoMTQ0ICsgY29vcmRpbmF0ZXNbMF0pIC8gMzYwKSkpLm1hcChkID0+IGQgJSAxKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xOTEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJsb2NhbFJpc2VzID0gcmlzZXMubWFwKGQgPT4gKChkLmdldFRpbWUoKSAvIDg2NDAwMDAwIC0gLjQgKyAoMTQ0ICsgY29vcmRpbmF0ZXNbMF0pIC8gMzYwKSkpLm1hcChkID0+IGQgJSAxKS5tYXAoZCA9PiBkID49IC41IHx8IGQgPD0gMC4wNSA/IE5hTiA6IGQpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE5MiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImxvY2FsU2V0cyA9IHNldHMubWFwKGQgPT4gKChkLmdldFRpbWUoKSAvIDg2NDAwMDAwIC0gLjQgKyAoMTQ0ICsgY29vcmRpbmF0ZXNbMF0pIC8gMzYwKSkpLm1hcChkID0+IGQgJSAxKS5tYXAoZCA9PiBkIDw9IC41IHx8IGQgPj0gLjk1ID8gTmFOIDogZClcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTkzIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiem9uYWxzID0gem9uYWxOb29ucy5tYXAoKGQsIGkpID0+ICh7ZGF0ZTogaSwgcmlzZTogem9uYWxSaXNlc1tpXSwgbm9vbjogZCwgc2V0OiB6b25hbFNldHNbaV19KSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTk0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibG9jYWxzID0gbG9jYWxOb29ucy5tYXAoKGQsIGkpID0+ICh7ZGF0ZTogaSwgcmlzZTogbG9jYWxSaXNlc1tpXSwgbm9vbjogZCwgc2V0OiBsb2NhbFNldHNbaV19KSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTk1IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoidGltZXMgPSBbXG4gIFtcInpvbmFsXCIsIGxvY2Fsc10sXG4gIFtcImxvY2FsXCIsIHpvbmFsc10sXG5dLmZsYXRNYXAoKFtzeW1ib2wsIHZhbHVlc10pID0+IHZhbHVlcy5tYXAoZCA9PiAoe3N5bWJvbCwgLi4uZH0pKSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTk2IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiZ3JhdGljdWxlID0gZDMuZ2VvR3JhdGljdWxlKCkuc3RlcE1pbm9yKFszNiwzNl0pLnN0ZXBNYWpvcihbMzYsMzZdKSgpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTE5NyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImdyYXRpY3VsZS5jb29yZGluYXRlcyA9IGdyYXRpY3VsZS5jb29yZGluYXRlcy5tYXAoXG4gIGkgPT4gaS5tYXAoaiA9PiBqLm1hcCgoaywgaW5kZXgsIGFycikgPT4gaS5sZW5ndGggPT09IDMgJiYgaW5kZXggPT09IDAgPyBrIC0gMTggOiBrKSlcbilcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTk4IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoibGFuZCA9IHRvcG9qc29uLmZlYXR1cmUod29ybGQsIHdvcmxkLm9iamVjdHMubGFuZClcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTk5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoid29ybGQgPSAoYXdhaXQgZmV0Y2goXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3dvcmxkLWF0bGFzQDEvd29ybGQvMTEwbS5qc29uXCIpKS5qc29uKClcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjAwIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiY291bnRyaWVzID0gdG9wb2pzb24uZmVhdHVyZSh3b3JsZCwgd29ybGQub2JqZWN0cy5jb3VudHJpZXMpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIwMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InRvcG9qc29uID0gcmVxdWlyZShcInRvcG9qc29uLWNsaWVudEAzXCIpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIwMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImNvbG9ycyA9ICh7XG4gIG5pZ2h0OiBcIiM5MWFmZDZcIixcbiAgZGF5OiBcIiNmZmU0MzhcIixcbiAgZ3JpZDogXCIjNGI2YTc5XCIsXG4gIG9jZWFuOiBcIiNhZGVlZmZcIixcbiAgbGFuZDogXCIjZjVmMWRjXCIsXG4gIHN1bjogXCIjZmZlNDM4XCJcbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIwMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImxhYmVsX3N0eWxlID0gYGZvbnQ6IDEzcHgvMS4yIHZhcigtLXNhbnMtc2VyaWYpOyB3aWR0aDogMTIwcHg7IGZvbnQtc2l6ZTogJHtsYWJlbF9zaXplfTtgXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIwNCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImxhYmVsX3NpemUgPSAnODAlJ1xuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yMDUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJmdW5jdGlvbiBpbnB1dChjb25maWcpIHtcbiAgbGV0IHtcbiAgICBmb3JtLFxuICAgIHR5cGUgPSBcInRleHRcIixcbiAgICBhdHRyaWJ1dGVzID0ge30sXG4gICAgYWN0aW9uLFxuICAgIGdldFZhbHVlLFxuICAgIHRpdGxlLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGZvcm1hdCxcbiAgICBkaXNwbGF5LFxuICAgIHN1Ym1pdCxcbiAgICBvcHRpb25zXG4gIH0gPSBjb25maWc7XG4gIGNvbnN0IHdyYXBwZXIgPSBodG1sYDxkaXY+PC9kaXY+YDtcbiAgaWYgKCFmb3JtKVxuICAgIGZvcm0gPSBodG1sYDxmb3JtPlxuXHQ8aW5wdXQgbmFtZT1pbnB1dCB0eXBlPSR7dHlwZX0gLz5cbiAgPC9mb3JtPmA7XG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICBjb25zdCB2YWwgPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgaWYgKHZhbCAhPSBudWxsKSBmb3JtLmlucHV0LnNldEF0dHJpYnV0ZShrZXksIHZhbCk7XG4gIH0pO1xuICBpZiAoc3VibWl0KVxuICAgIGZvcm0uYXBwZW5kKFxuICAgICAgaHRtbGA8aW5wdXQgbmFtZT1zdWJtaXQgdHlwZT1zdWJtaXQgc3R5bGU9XCJtYXJnaW46IDAgMC43NWVtXCIgdmFsdWU9XCIke1xuICAgICAgICB0eXBlb2Ygc3VibWl0ID09IFwic3RyaW5nXCIgPyBzdWJtaXQgOiBcIlN1Ym1pdFwiXG4gICAgICB9XCIgLz5gXG4gICAgKTtcbiAgZm9ybS5hcHBlbmQoXG4gICAgaHRtbGA8b3V0cHV0IG5hbWU9b3V0cHV0IHN0eWxlPVwiZm9udDogMTRweCBNZW5sbywgQ29uc29sYXMsIG1vbm9zcGFjZTsgbWFyZ2luLWxlZnQ6IDAuNWVtO1wiPjwvb3V0cHV0PmBcbiAgKTtcbiAgaWYgKHRpdGxlKVxuICAgIGZvcm0ucHJlcGVuZChcbiAgICAgIGh0bWxgPGRpdiBzdHlsZT1cImZvbnQ6IDcwMCAwLjlyZW0gc2Fucy1zZXJpZjsgbWFyZ2luLWJvdHRvbTogM3B4O1wiPiR7dGl0bGV9PC9kaXY+YFxuICAgICk7XG4gIGlmIChkZXNjcmlwdGlvbilcbiAgICBmb3JtLmFwcGVuZChcbiAgICAgIGh0bWxgPGRpdiBzdHlsZT1cImZvbnQtc2l6ZTogMC44NXJlbTsgZm9udC1zdHlsZTogaXRhbGljOyBtYXJnaW4tdG9wOiAzcHg7XCI+JHtkZXNjcmlwdGlvbn08L2Rpdj5gXG4gICAgKTtcbiAgaWYgKGZvcm1hdClcbiAgICBmb3JtYXQgPSB0eXBlb2YgZm9ybWF0ID09PSBcImZ1bmN0aW9uXCIgPyBmb3JtYXQgOiBkM2Zvcm1hdC5mb3JtYXQoZm9ybWF0KTtcbiAgaWYgKGFjdGlvbikge1xuICAgIGFjdGlvbihmb3JtKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB2ZXJiID0gc3VibWl0XG4gICAgICA/IFwib25zdWJtaXRcIlxuICAgICAgOiB0eXBlID09IFwiYnV0dG9uXCJcbiAgICAgID8gXCJvbmNsaWNrXCJcbiAgICAgIDogdHlwZSA9PSBcImNoZWNrYm94XCIgfHwgdHlwZSA9PSBcInJhZGlvXCJcbiAgICAgID8gXCJvbmNoYW5nZVwiXG4gICAgICA6IFwib25pbnB1dFwiO1xuICAgIGZvcm1bdmVyYl0gPSBlID0+IHtcbiAgICAgIGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgdmFsdWUgPSBnZXRWYWx1ZSA/IGdldFZhbHVlKGZvcm0uaW5wdXQpIDogZm9ybS5pbnB1dC52YWx1ZTtcbiAgICAgIGlmIChmb3JtLm91dHB1dCkge1xuICAgICAgICBjb25zdCBvdXQgPSBkaXNwbGF5ID8gZGlzcGxheSh2YWx1ZSkgOiBmb3JtYXQgPyBmb3JtYXQodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIGlmIChvdXQgaW5zdGFuY2VvZiB3aW5kb3cuRWxlbWVudCkge1xuICAgICAgICAgIHdoaWxlIChmb3JtLm91dHB1dC5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgIGZvcm0ub3V0cHV0LnJlbW92ZUNoaWxkKGZvcm0ub3V0cHV0Lmxhc3RDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvcm0ub3V0cHV0LmFwcGVuZChvdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvcm0ub3V0cHV0LnZhbHVlID0gb3V0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3JtLnZhbHVlID0gdmFsdWU7XG4gICAgICBpZiAodmVyYiAhPT0gXCJvbmlucHV0XCIpXG4gICAgICAgIGZvcm0uZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJpbnB1dFwiLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgIH07XG4gICAgaWYgKHZlcmIgIT09IFwib25pbnB1dFwiKVxuICAgICAgd3JhcHBlci5vbmlucHV0ID0gZSA9PiBlICYmIGUuc3RvcFByb3BhZ2F0aW9uKCkgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh2ZXJiICE9PSBcIm9uc3VibWl0XCIpIGZvcm0ub25zdWJtaXQgPSBlID0+IGUgJiYgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGZvcm1bdmVyYl0oKTtcbiAgfVxuICB3aGlsZSAoZm9ybS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZm9ybS5jaGlsZE5vZGVzWzBdKTtcbiAgfVxuICBmb3JtLmFwcGVuZCh3cmFwcGVyKTtcbiAgcmV0dXJuIGZvcm07XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIwNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImQzZm9ybWF0ID0gcmVxdWlyZShcImQzLWZvcm1hdEAxXCIpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIwNyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIGh0dHBzOi8vdGFsay5vYnNlcnZhYmxlaHEuY29tL3QvbGVnZW5kLXBsYWNlbWVudC1vcHRpb25zLzg0MDcvM1xubW92ZSA9IHtcbiAgZDMuc2VsZWN0KHBsb3QpXG4gICAgLnNlbGVjdChcImRpdlwiKVxuICAgIC5yYWlzZSgpIC8vIFBsYWNlcyBzd2F0Y2ggYmVsb3cgdGhlIHBsb3RcbiAgICAuc3R5bGUoXCJmbG9hdFwiLCBcInJpZ2h0XCIpOyAvLyBGbG9hdHMgdGhlIHN3YXRjaCBvbiB0aGUgcmlnaHQuXG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIwOCIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Ii8vIGh0dHBzOi8vb2JzZXJ2YWJsZWhxLmNvbS9AZW5qYWxvdC9kcmFnZ2FibGUtd29ybGQtbWFwLWNvb3JkaW5hdGVzLWlucHV0XG5mdW5jdGlvbiB3b3JsZE1hcENvb3JkaW5hdGVzKGNvbmZpZyA9IHt9LCBkaW1lbnNpb25zKSB7XG4gIGNvbnN0IHtcbiAgICB2YWx1ZSA9IFtdLCB0aXRsZSwgZGVzY3JpcHRpb24sIHdpZHRoID0gZGltZW5zaW9uc1swXVxuICB9ID0gQXJyYXkuaXNBcnJheShjb25maWcpID8ge3ZhbHVlOiBjb25maWd9IDogY29uZmlnO1xuICBjb25zdCBoZWlnaHQgPSBkaW1lbnNpb25zWzFdO1xuICBsZXQgW2xvbiwgbGF0XSA9IHZhbHVlO1xuICBsb24gPSBsb24gIT0gbnVsbCA/IGxvbiA6IG51bGw7XG4gIGxhdCA9IGxhdCAhPSBudWxsID8gbGF0IDogbnVsbDtcbiAgY29uc3QgZm9ybUVsID0gaHRtbGA8Zm9ybSBzdHlsZT1cIndpZHRoOiAke3dpZHRofXB4O1wiPjwvZm9ybT5gO1xuICBjb25zdCBjb250ZXh0ID0gRE9NLmNvbnRleHQyZCh3aWR0aCwgaGVpZ2h0LXdpZHRoLzExLjUpO1xuICBjb25zdCBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgY2FudmFzLnN0eWxlLm1hcmdpbiA9IGAtNnB4IDAgJHt3aWR0aCA+IDQwMCA/IC04NiA6IC0yNH1weGA7XG4gIGNvbnN0IHByb2plY3Rpb24gPSBkM1xuICAgIC5nZW9FcXVpcmVjdGFuZ3VsYXIoKVxuICAgIC5wcmVjaXNpb24oMC4xKVxuICAgIC5maXRTaXplKFt3aWR0aCwgaGVpZ2h0XSwgeyB0eXBlOiBcIlNwaGVyZVwiIH0pLnJvdGF0ZShbLTE1MywgMF0pO1xuICBjb25zdCBwYXRoID0gZDMuZ2VvUGF0aChwcm9qZWN0aW9uLCBjb250ZXh0KS5wb2ludFJhZGl1cygyLjUpO1xuICBmb3JtRWwuYXBwZW5kKGNhbnZhcyk7XG5cbiAgZnVuY3Rpb24gZHJhdygpIHtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwiI2ZmZlwiO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTsgcGF0aCh7dHlwZTogXCJTcGhlcmVcIn0pO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3JzLm9jZWFuOyBjb250ZXh0LmZpbGwoKTtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgIHBhdGgoZ3JhdGljdWxlKTtcbiAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDAuOTU7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGAjYWFhYDtcbiAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgcGF0aChsYW5kKTtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9ycy5sYW5kO1xuICAgIGNvbnRleHQuZmlsbCgpO1xuICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgcGF0aChjb3VudHJpZXMpO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gLjk1O1xuICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBgIzAwMGA7XG4gICAgY29udGV4dC5zdHJva2UoKTtcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGAjMDAwYDtcbiAgICBjb250ZXh0LmZvbnQgPSB3aWR0aCA8IDc2MCA/IFwiMTJweCBzZXJpZlwiIDogd2lkdGggPCA5OTAgPyBcIjExLjZweCBzZXJpZlwiIDogXCIxOHB4IHNlcmlmXCI7XG4gICAgZDMucmFuZ2UoLTEuNSwgMzQyICsgMSwgMzYpLm1hcCh4ID0+ICBjb250ZXh0LmZpbGxUZXh0KGxvbmcyem9uZSh4KSwgLi4ucHJvamVjdGlvbihbeCwgODQuNSAtICh3aWR0aCA8IDQwMCkgKiAzLjZdKSkpO1xuICAgIGQzLnJhbmdlKC0xLjUsIDM0MiArIDEsIDM2KS5tYXAoeCA9PiAgY29udGV4dC5maWxsVGV4dChsb25nMnpvbmUoeCksIC4uLnByb2plY3Rpb24oW3gsIC02Ml0pKSk7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKSwgcGF0aChuaWdodCksIGNvbnRleHQuZmlsbFN0eWxlID0gXCJyZ2JhKDAsMCwyNTUsMC4xKVwiLCBjb250ZXh0LmZpbGwoKTtcbiAgICBjb250ZXh0LmJlZ2luUGF0aCgpOyBwYXRoLnBvaW50UmFkaXVzKDE3KTsgcGF0aCh7dHlwZTogXCJQb2ludFwiLCBjb29yZGluYXRlczogc3VufSk7IGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcIiMwMDA4XCI7IGNvbnRleHQuZmlsbFN0eWxlID0gXCIjZmYwYVwiOyBjb250ZXh0LmxpbmVXaWR0aCA9IDE7IGNvbnRleHQuc3Ryb2tlKCk7IGNvbnRleHQuZmlsbCgpO1xuICAgIGlmIChsb24gIT0gbnVsbCAmJiBsYXQgIT0gbnVsbCkge1xuICAgICAgcGF0aC5wb2ludFJhZGl1cygxNyk7IGNvbnRleHQuc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOyBwYXRoKHt0eXBlOiBcIlBvaW50XCIsIGNvb3JkaW5hdGVzOiBbbG9uLCBsYXRdfSk7IGNvbnRleHQubGluZVdpZHRoID0gMTsgY29udGV4dC5zdHJva2UoKTtcbiAgICAgIGNvbnRleHQubGluZVdpZHRoID0gNjsgXG4gICAgICBwYXRoLnBvaW50UmFkaXVzKDE0KTsgY29udGV4dC5zdHJva2VTdHlsZSA9IFwicmVkXCI7XG4gICAgICBjb250ZXh0LmJlZ2luUGF0aCgpOyBwYXRoKHt0eXBlOiBcIlBvaW50XCIsIGNvb3JkaW5hdGVzOiBbbG9uLCBsYXRdfSk7IGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfVxuICB9XG5cbiAgbGV0IGRyYWcgPSBkMy5kcmFnKClcbiAgICAub24oXCJkcmFnXCIsIChldmVudCkgPT4ge1xuICAgICAgbGV0IGNvb3JkcyA9IHByb2plY3Rpb24uaW52ZXJ0KFtldmVudC54LCBldmVudC55XSk7XG4gICAgICBsb24gPSArY29vcmRzWzBdLnRvRml4ZWQoMik7XG4gICAgICBsYXQgPSArY29vcmRzWzFdLnRvRml4ZWQoMik7XG4gICAgICBkcmF3KCk7XG4gICAgICBjYW52YXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoXCJpbnB1dFwiLCB7IGJ1YmJsZXM6IHRydWUgfSkpO1xuICAgIH0pXG5cbiAgZDMuc2VsZWN0KGNhbnZhcykuY2FsbChkcmFnKVxuXG4gIGNhbnZhcy5vbmNsaWNrID0gZnVuY3Rpb24oZXYpIHtcbiAgICBjb25zdCB7IG9mZnNldFgsIG9mZnNldFkgfSA9IGV2O1xuICAgIGxldCBjb29yZHMgPSBwcm9qZWN0aW9uLmludmVydChbb2Zmc2V0WCwgb2Zmc2V0WV0pO1xuICAgIGxvbiA9ICtjb29yZHNbMF0udG9GaXhlZCgyKTtcbiAgICBsYXQgPSArY29vcmRzWzFdLnRvRml4ZWQoMik7XG4gICAgZHJhdygpO1xuICAgIGNhbnZhcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImlucHV0XCIsIHsgYnViYmxlczogdHJ1ZSB9KSk7XG4gIH07XG5cbiAgZHJhdygpO1xuICBjb25zdCBmb3JtID0gaW5wdXQoe1xuICAgIHR5cGU6IFwid29ybGRNYXBDb29yZGluYXRlc1wiLFxuICAgIHRpdGxlLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGRpc3BsYXk6IHYgPT4gKHdpZHRoID4gNDAwKSA/IGh0bWxgPGRpdiBzdHlsZT1cIndpZHRoOiAke3dpZHRofXB4OyB3aGl0ZS1zcGFjZTogbm93cmFwOyBjb2xvcjogIzQ0NDsgdGV4dC1hbGlnbjogY2VudGVyOyBmb250OiAxOHB4IG1vbm9zcGFjZTsgcG9zaXRpb246IHJlbGF0aXZlOyB0b3A6IDU4cHg7IG1hcmdpbi1ib3R0b206IDQ4cHg7XCI+XG4gICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6ICMwMDA7XCI+Wm9uZTo8L3NwYW4+ICR7bG9uICE9IG51bGwgPyBsb25nMnpvbmUobG9uKSA6IFwiXCJ9XG4gICAgICAgICZuYnNwOyAmbmJzcDsgXG4gICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6ICMwMDA7XCI+TG9uZ2l0dWRlOjwvc3Bhbj4gJHtsb24gIT0gbnVsbCA/IChsb25nMnR1cm4obG9uKSkudG9GaXhlZCgwKSA6IFwiXCJ9XG4gICAgICAgICZuYnNwOyAmbmJzcDsgXG4gICAgICAgIDxzcGFuIHN0eWxlPVwiY29sb3I6ICMwMDA7XCI+TGF0aXR1ZGU6PC9zcGFuPiAke2xhdCAhPSBudWxsID8gKChsYXRpMnR1cm4xKGxhdCkpKS50b0ZpeGVkKDApIDogXCJcIn0gXG4gICAgICA8L2Rpdj5gIDogJycsXG4gICAgZ2V0VmFsdWU6ICgpID0+IFtsb24gIT0gbnVsbCA/IGxvbiA6IG51bGwsIGxhdCAhPSBudWxsID8gbGF0IDogbnVsbF0sXG4gICAgZm9ybTogZm9ybUVsXG4gIH0pO1xuICByZXR1cm4gZm9ybTtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjA5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiaHRtbGA8c3R5bGU+XG4gIGRpdi5vYnNlcnZhYmxlaHE6aGFzKD4gc3ZnI2JhckNsb2NrKSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi10b3A6IC0xMnB4O1xuICB9XG4gIGRpdi5vYnNlcnZhYmxlaHE6aGFzKD4gc3ZnI2Nsb2NrKSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi10b3A6IC00NnB4O1xuICB9XG4gIGJvZHkgPiBkaXYgPiBkaXY6bnRoLWNoaWxkKDYpID4gZm9ybSB7XG4gICAgbWFyZ2luLXRvcDogLTYwcHg7XG4gIH1cbjwvc3R5bGU+YFxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yMTAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJmdW5jdGlvbiBkb3RlKHsgeWVhciA9IDAsIGRheSA9IDAsIG1vbnRoID0gMywgZG90bSA9IDEsIHdlZWsgPSAwLCBkb3R3ID0gMyxcbiAgICAgICAgICAgICAgICBob3VyID0gMCwgbWludXRlID0gMCwgc2Vjb25kID0gMCwgbWlsbGlzZWNvbmQgPSAwLFxuICAgICAgICAgICAgICAgIHpvbmUgPSAwLCB1dGMgPSAtOSwgZGVncmVlID0gLTE2MiB9ID0ge30pIHtcbiAgY29uc3QgY3ljbGUgPSBNYXRoLmZsb29yKCh5ZWFyID49IDAgPyB5ZWFyIDogeWVhciAtIDM5OSkgLyA0MDApLFxuICAgIHlvdGUgPSB5ZWFyIC0gY3ljbGUgKiA0MDA7XG4gIHJldHVybiAoXG4gICAgeW90ZSAqIDM2NSArIGN5Y2xlICogMTQ2MDk3ICsgTWF0aC5mbG9vcih5b3RlIC8gNCkgLSBNYXRoLmZsb29yKHlvdGUgLyAxMDApXG4gICAgKyBkYXkgKyBNYXRoLmZsb29yKCgxNTMgKiAobW9udGggPiAyID8gbW9udGggLSAzIDogbW9udGggKyA5KSArIDIpIC8gNSkgKyBkb3RtIC0gMVxuICAgICsgd2VlayAqIDcgKyBkb3R3IC0gMyArIChob3VyICsgbWludXRlIC8gNjAgKyBzZWNvbmQgLyAzNjAwICsgbWlsbGlzZWNvbmQgLyAzNjAwMDAwKVxuICAgIC8gMjQgLSAoem9uZSArIE1hdGguZmxvb3IodXRjIC8gMi40KSArIDQgKyBNYXRoLmZsb29yKChkZWdyZWUgKyAxNjIpIC8gMzYpKSAvIDEwXG4gICk7XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIxMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImZ1bmN0aW9uIGRvdHkoYXJncykge1xuICAgIGNvbnN0IGRheXMgPSBkb3RlKGFyZ3MpLFxuICAgICAgY3ljbGUgPSBNYXRoLmZsb29yKChkYXlzID49IDAgPyBkYXlzIDogZGF5cyAtIDE0NjA5NikgLyAxNDYwOTcpLFxuICAgICAgZG90YyA9IGRheXMgLSBjeWNsZSAqIDE0NjA5NyxcbiAgICAgIHlvdGMgPSBNYXRoLmZsb29yKChkb3RjIC0gTWF0aC5mbG9vcihkb3RjIC8gMTQ2MClcbiAgICAgICAgKyBNYXRoLmZsb29yKGRvdGMgLyAzNjUyNCkgLSBNYXRoLmZsb29yKGRvdGMgLyAxNDYwOTYpKSAvIDM2NSk7XG4gICAgcmV0dXJuIFt5b3RjICsgY3ljbGUgKiA0MDAsXG4gICAgICAgICAgICBkb3RjICsgTWF0aC5mbG9vcih5b3RjIC8gMTAwKSAtIHlvdGMgKiAzNjUgLSBNYXRoLmZsb29yKHlvdGMgLyA0KV07XG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIxMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImZ1bmN0aW9uIHllYXIoYXJncykge1xuICAgIGNvbnN0IGRheXMgPSBkb3RlKGFyZ3MpLFxuICAgICAgY3ljbGUgPSBNYXRoLmZsb29yKChkYXlzID49IDAgPyBkYXlzIDogZGF5cyAtIDE0NjA5NikgLyAxNDYwOTcpLFxuICAgICAgZG90YyA9IGRheXMgLSBjeWNsZSAqIDE0NjA5NztcbiAgICByZXR1cm4gKFxuICAgICAgICBkb3RjIC0gTWF0aC5mbG9vcihkb3RjIC8gMTQ2MCkgKyBNYXRoLmZsb29yKGRvdGMgLyAzNjUyNClcbiAgICAgICAgLSBNYXRoLmZsb29yKGRvdGMgLyAxNDYwOTYpKSAvIDM2NSArIGN5Y2xlICogNDAwO1xufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yMTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJmdW5jdGlvbiBsZWFwKHllYXIgPSAxOTcwKSB7XG4gICAgcmV0dXJuIHllYXIgJSA0ID09IDAgJiYgeWVhciAlIDEwMCAhPSAwIHx8IHllYXIgJSA0MDAgPT0gMDtcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjE0IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiZnVuY3Rpb24gZGVjbyhhcmdzLCB7bGVhZCA9IFwiMFwiLCBtaW51cyA9IGZhbHNlLCBlbW9qaSA9IGZhbHNlfSA9IHt9KSB7XG4gIGxldCB6b25lID0gYXJncy56b25lLCB1dGMgPSBhcmdzLnV0YywgZGVncmVlID0gYXJncy5kZWdyZWU7XG4gIGFyZ3Muem9uZSA9IDA7IGFyZ3MudXRjID0gLTk7IGFyZ3MuZGVncmVlID0gLTE2MjtcbiAgem9uZSA9IHpvbmUgPz8gMCArIE1hdGguZmxvb3IoKHV0YyA/PyAtOSkgLyAyLjQpICsgNCArIE1hdGguZmxvb3IoXG4gICAgKChkZWdyZWUgPz8gLTE2MikgKyAxNjIpIC8gMzYpO1xuICBsZXQgW3llYXIsIGRheXNdID0gZG90eShhcmdzKTtcbiAgcmV0dXJuIGAke2Vtb2ppID8gXCLwn5eT77iPXCIgOiBcIlwifSR7XG4gICh5ZWFyICsgbWludXMpLnRvU3RyaW5nKCkucGFkU3RhcnQoNCwgbGVhZCl9JHttaW51cyA/IFwiLVwiIDogXCIrXCJ9JHtcbiAgTWF0aC5hYnMoTWF0aC5mbG9vcihkYXlzID0gZGF5cyAtICgzNjUgKyBsZWFwKHllYXIgKyAxKSkgKiBtaW51cylcbiAgKS50b1N0cmluZygpLnBhZFN0YXJ0KDMsIGxlYWQpfSR7ZW1vamkgPyBcIvCflbDvuI9cIiA6IFwiXCJ977iPJHtcbiAgTWF0aC5hYnMoZGF5cyAlIDEgKiAxMCkudG9GaXhlZCg0KX0ke3pvbmUgPyAobWludXMgPyBcIitcIiA6IFwiLVwiKSArIFN0cmluZyh6b25lKSA6IFwiXCJ9YFxufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yMTUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJjdXJyZW50RGVjbyA9IGRlY28oe2RheTogNzE5NDY4LCBtaWxsaXNlY29uZDogdW5peCwgem9uZTogbG9uZzJ6b25lKGNvb3JkaW5hdGVzWzBdKX0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIxNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImN1cnJlbnREb3R5ID0gY3VycmVudERlY28uc2xpY2UoNSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjE3IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiZG90eURhdGUgPSBjdXJyZW50RG90eS5zbGljZSgwLCAzKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yMTgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJkb3R5RGVrID0gY3VycmVudERvdHkuc2xpY2UoMCwgMilcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjE5IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiZG90eURvdGQgPSBjdXJyZW50RG90eVsyXVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yMjAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJiYXJUaW1lID0gKHVuaXgyZG90ZSh1bml4LCBsb25nMnpvbmUoY29vcmRpbmF0ZXNbMF0pKVswXSkudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0uc2xpY2UoMCwgOClcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjIxIiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiYmFyQ2VudHMgPSBiYXJUaW1lLnNsaWNlKDAsIDIpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIyMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImJhckREID0gYmFyVGltZVswXVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yMjMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJiYXJNaWxzID0gYmFyVGltZS5zbGljZSgxLCAzKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0yMjQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJiYXJCZWF0cyA9IGJhclRpbWUuc2xpY2UoMywgNSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMjI1IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiYmFyTWIgPSBiYXJUaW1lLnNsaWNlKDUpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIyNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6Imh0bWxgPHN0eWxlPlxuICAudGlja0xhYmVsLCAudGlja0xhYmVsMSwgLnRpY2tMYWJlbDIsIC50aW1lTGFiZWwge1xuICAgIGZpbGw6ICMwMDA7XG4gICAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XG4gICAgZm9udC1zaXplOiAyMHB4O1xuICAgIHRleHQtYW5jaG9yOiBtaWRkbGU7XG4gIH1cbiAgLnRpbWVMYWJlbCB7XG4gICAgdGV4dC1hbmNob3I6IHN0YXJ0O1xuICB9XG4gIC50aW1lQmFyLCAudGltZUJhckZ1bGwge1xuICAgIHg6IDFweDtcbiAgICBoZWlnaHQ6IDI1cHg7XG4gICAgcng6IDVweDtcbiAgICBzdHJva2U6ICNhYWE7XG4gIH1cbiAgLnRpbWVCYXIge1xuICAgIGZpbGw6ICNlOGU4ZTg7XG4gIH1cbiAgLnRpbWVCYXJGdWxsIHtcbiAgICBmaWxsOiAjY2NmZmZmO1xuICB9XG4gIC5iYWNrZ3JvdW5kIHtcbiAgICBmaWxsOiB3aGl0ZTtcbiAgfVxuICAudGlja0RlaywgLnRpY2tEb3RkLCAudGlja0RvdGQxLCAudGlja0MsIC50aWNrQzEsIC50aWNrTSwgLnRpY2tNMSwgLnRpY2tCLCAudGlja0IxIHtcbiAgICBzdHJva2U6IG5vbmU7XG4gICAgZmlsbDogIzY2NjtcbiAgICB3aWR0aDogMXB4O1xuICB9XG48L3N0eWxlPmBcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnZmFuY3lTZWNvbmRzT0ZGJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2Nvb3JkaW5hdGVzJykifV19
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../blog/dec/loc";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "../../..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/maptv\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="maptv/maptv.github.io" data-repo-id="R_kgDOKbInnA" data-category="General" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark"><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb227" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb227-1"><a href="#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb227-2"><a href="#cb227-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> 'Declock'</span></span>
<span id="cb227-3"><a href="#cb227-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> 'Martin Laptev'</span></span>
<span id="cb227-4"><a href="#cb227-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> html</span></span>
<span id="cb227-5"><a href="#cb227-5" aria-hidden="true" tabindex="-1"></a><span class="an">echo:</span><span class="co"> false</span></span>
<span id="cb227-6"><a href="#cb227-6" aria-hidden="true" tabindex="-1"></a><span class="an">observable:</span><span class="co"> 'https://observablehq.com/@dec/loc'</span></span>
<span id="cb227-7"><a href="#cb227-7" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb227-8"><a href="#cb227-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-11"><a href="#cb227-11" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-12"><a href="#cb227-12" aria-hidden="true" tabindex="-1"></a><span class="in">md`# Declock`</span></span>
<span id="cb227-13"><a href="#cb227-13" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-14"><a href="#cb227-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-17"><a href="#cb227-17" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-18"><a href="#cb227-18" aria-hidden="true" tabindex="-1"></a><span class="in">md`This notebook discusses Declock, a decimal timekeeping system that records time as the&amp;nbsp;[fractional days](https://en.wikipedia.org/wiki/Decimal_time#Fractional_days:~:text=The%20time%20of%20day%20is%20sometimes%20represented%20as%20a%20decimal%20fraction%20of%20a%20day%20in%20science%20and%20computers.)&amp;nbsp;since midnight. Declock is part of Dec, a [measurement system](https://en.wikipedia.org/wiki/System_of_units_of_measurement#:~:text=a%20collection%20of%20units%20of%20measurement%20and%20rules%20relating%20them%20to%20each%20other) that [I](https://maptv.github.io) created to measure⏳time,📍position,🧭orientation,📐angles, and🔄cycles in [turns](https://en.wikipedia.org/wiki/Turn_%28angle%29#:~:text=a%20unit%20of%20plane%20angle%20measurement%20equal%20to%202%CF%80%C2%A0radians%2C%20360%C2%A0degrees) ([${tex`\tau`}](https://en.wikipedia.org/wiki/Turn_%28angle%29#:~:text=the%20Greek%20letter,to%20one%20turn)) instead of months, weeks, hours, minutes, seconds, and degrees. For time measurement, Dec uses days and years, which are turns of a [celestial body](https://en.wikipedia.org/wiki/Astronomical_object#:~:text=a%20single%2C%20tightly%20bound%2C%20contiguous%20entity) on [its axis](https://en.wikipedia.org/wiki/Axial_tilt#:~:text=the%20imaginary%20line%20that%20passes%20through%20both%20the%20north%20pole%20and%20south%20pole) and around [the point it orbits](https://en.wikipedia.org/wiki/Barycenter_%28astronomy%29#:~:text=the%20point%20about%20which%20the%20bodies%20orbit), respectively.`</span></span>
<span id="cb227-19"><a href="#cb227-19" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-20"><a href="#cb227-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-23"><a href="#cb227-23" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-24"><a href="#cb227-24" aria-hidden="true" tabindex="-1"></a><span class="in">md`Dec uses [metric prefixes](https://en.wikipedia.org/wiki/Metric_prefix#:~:text=a%20unit%20prefix%20that%20precedes%20a%20basic%20unit%20of%20measure%20to%20indicate%20a%20multiple%20or%20submultiple%20of%20the%20unit) to create [submultiples](https://en.wikipedia.org/wiki/Multiple_%28mathematics%29#Submultiple:~:text=of%20%22a%20being-,a%20unit%20fraction,-of%20b%22%20) of turns. The clock and bar chart below show the [decidays](https://en.wikipedia.org/wiki/Decimal_time#:~:text=dividing%20the%20day%20into%2010%20decidays) (top bar and shortest clock hand), millidays (middle bar and longest clock hand), and centimillidays (bottom bar and thinnest clock hand) of the current time at the longitude of the red circle on the [solar terminator](https://en.wikipedia.org/wiki/Terminator_%28solar%29#:~:text=a%20moving%20line%20that%20divides%20the%20daylit%20side%20and%20the%20dark%20night%20side%20of%20a%20planetary%20body) map beneath the clock. Drag the red circle across the time zone borders (vertical gray lines) on the map to see how changing time zones affects the time.`</span></span>
<span id="cb227-25"><a href="#cb227-25" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-26"><a href="#cb227-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-29"><a href="#cb227-29" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-30"><a href="#cb227-30" aria-hidden="true" tabindex="-1"></a><span class="in">// https://observablehq.com/@fheyen/barchart-clock</span></span>
<span id="cb227-31"><a href="#cb227-31" aria-hidden="true" tabindex="-1"></a><span class="in">barChart = {</span></span>
<span id="cb227-32"><a href="#cb227-32" aria-hidden="true" tabindex="-1"></a><span class="in">const W = width &gt; 1250 ? width * 2 / 3 : width &gt; 1150 ? width * 3 / 4 : width &gt; 1050 ? width * 4 / 5 : width &gt; 950 ? width * 5 / 6 : width &gt; 850 ? width : width &gt; 750 ? width * 1.02 : width &gt; 650 ? width * 1.06 : width &gt; 550 ? width * 1.1 : width &gt; 450 ? width * 1.14 : width * 1.18;</span></span>
<span id="cb227-33"><a href="#cb227-33" aria-hidden="true" tabindex="-1"></a><span class="in">  const H = 88;</span></span>
<span id="cb227-34"><a href="#cb227-34" aria-hidden="true" tabindex="-1"></a><span class="in">  const barX = 1;</span></span>
<span id="cb227-35"><a href="#cb227-35" aria-hidden="true" tabindex="-1"></a><span class="in">  const firstBarY = 1;</span></span>
<span id="cb227-36"><a href="#cb227-36" aria-hidden="true" tabindex="-1"></a><span class="in">  const svg = d3</span></span>
<span id="cb227-37"><a href="#cb227-37" aria-hidden="true" tabindex="-1"></a><span class="in">    .create("svg")</span></span>
<span id="cb227-38"><a href="#cb227-38" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("width", W)</span></span>
<span id="cb227-39"><a href="#cb227-39" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("viewBox", [0, 0, W, H]);</span></span>
<span id="cb227-40"><a href="#cb227-40" aria-hidden="true" tabindex="-1"></a><span class="in">  const xRange = [0, W - 100];</span></span>
<span id="cb227-41"><a href="#cb227-41" aria-hidden="true" tabindex="-1"></a><span class="in">  const scaleDD = d3.scaleLinear()</span></span>
<span id="cb227-42"><a href="#cb227-42" aria-hidden="true" tabindex="-1"></a><span class="in">    .domain([0, 10])</span></span>
<span id="cb227-43"><a href="#cb227-43" aria-hidden="true" tabindex="-1"></a><span class="in">    .range(xRange);</span></span>
<span id="cb227-44"><a href="#cb227-44" aria-hidden="true" tabindex="-1"></a><span class="in">  const scaleMandB = d3.scaleLinear()</span></span>
<span id="cb227-45"><a href="#cb227-45" aria-hidden="true" tabindex="-1"></a><span class="in">    .domain([0, 100])</span></span>
<span id="cb227-46"><a href="#cb227-46" aria-hidden="true" tabindex="-1"></a><span class="in">    .range(xRange);</span></span>
<span id="cb227-47"><a href="#cb227-47" aria-hidden="true" tabindex="-1"></a><span class="in">  // const scaleDek = d3.scaleLinear()</span></span>
<span id="cb227-48"><a href="#cb227-48" aria-hidden="true" tabindex="-1"></a><span class="in">  //  .domain([0, 37])</span></span>
<span id="cb227-49"><a href="#cb227-49" aria-hidden="true" tabindex="-1"></a><span class="in">  //  .range(xRange);</span></span>
<span id="cb227-50"><a href="#cb227-50" aria-hidden="true" tabindex="-1"></a><span class="in">  // Background bars to show where 100% lies</span></span>
<span id="cb227-51"><a href="#cb227-51" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.selectAll('.background')</span></span>
<span id="cb227-52"><a href="#cb227-52" aria-hidden="true" tabindex="-1"></a><span class="in">    .data([</span></span>
<span id="cb227-53"><a href="#cb227-53" aria-hidden="true" tabindex="-1"></a><span class="in">      // 'dek', 'dotd',</span></span>
<span id="cb227-54"><a href="#cb227-54" aria-hidden="true" tabindex="-1"></a><span class="in">      'dd', "mils", 'beats'])</span></span>
<span id="cb227-55"><a href="#cb227-55" aria-hidden="true" tabindex="-1"></a><span class="in">    .enter()</span></span>
<span id="cb227-56"><a href="#cb227-56" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-57"><a href="#cb227-57" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'background timeBar')</span></span>
<span id="cb227-58"><a href="#cb227-58" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('width', W-100)</span></span>
<span id="cb227-59"><a href="#cb227-59" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', (d,i)=&gt;i*30+firstBarY)</span></span>
<span id="cb227-60"><a href="#cb227-60" aria-hidden="true" tabindex="-1"></a><span class="in">  // // Dek/Dotd</span></span>
<span id="cb227-61"><a href="#cb227-61" aria-hidden="true" tabindex="-1"></a><span class="in">  // svg</span></span>
<span id="cb227-62"><a href="#cb227-62" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .append('rect')</span></span>
<span id="cb227-63"><a href="#cb227-63" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('class', 'timeBar')</span></span>
<span id="cb227-64"><a href="#cb227-64" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('y', firstBarY)</span></span>
<span id="cb227-65"><a href="#cb227-65" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('width', d =&gt; scaleDek(Number(dotyDek)+Number(dotyDotd)/10+Number(barCents)/1000))</span></span>
<span id="cb227-66"><a href="#cb227-66" aria-hidden="true" tabindex="-1"></a><span class="in">  // svg</span></span>
<span id="cb227-67"><a href="#cb227-67" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .append('rect')</span></span>
<span id="cb227-68"><a href="#cb227-68" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('class', 'timeBarFull')</span></span>
<span id="cb227-69"><a href="#cb227-69" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('y', firstBarY)</span></span>
<span id="cb227-70"><a href="#cb227-70" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('width', d =&gt; scaleDek(dotyDek))</span></span>
<span id="cb227-71"><a href="#cb227-71" aria-hidden="true" tabindex="-1"></a><span class="in">  // svg</span></span>
<span id="cb227-72"><a href="#cb227-72" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .append('rect')</span></span>
<span id="cb227-73"><a href="#cb227-73" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('class', 'timeBar')</span></span>
<span id="cb227-74"><a href="#cb227-74" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('y', firstBarY+30)</span></span>
<span id="cb227-75"><a href="#cb227-75" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('width', d =&gt; scaleM(Number(dotyDotd)+Number(barCents)/100+Number(barMils)/1000))</span></span>
<span id="cb227-76"><a href="#cb227-76" aria-hidden="true" tabindex="-1"></a><span class="in">  // svg</span></span>
<span id="cb227-77"><a href="#cb227-77" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .append('rect')</span></span>
<span id="cb227-78"><a href="#cb227-78" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('class', 'timeBarFull')</span></span>
<span id="cb227-79"><a href="#cb227-79" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('y', firstBarY+30)</span></span>
<span id="cb227-80"><a href="#cb227-80" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('width', d =&gt; scaleM(dotyDotd))</span></span>
<span id="cb227-81"><a href="#cb227-81" aria-hidden="true" tabindex="-1"></a><span class="in">  // svg.selectAll('.tickDek')</span></span>
<span id="cb227-82"><a href="#cb227-82" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .data(d3.range(width &gt; 500 ? 4: 6, 37))</span></span>
<span id="cb227-83"><a href="#cb227-83" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .enter()</span></span>
<span id="cb227-84"><a href="#cb227-84" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .append('rect')</span></span>
<span id="cb227-85"><a href="#cb227-85" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('class', 'tickDek')</span></span>
<span id="cb227-86"><a href="#cb227-86" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('x', d=&gt;scaleDek(d)+barX)</span></span>
<span id="cb227-87"><a href="#cb227-87" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('y', firstBarY)</span></span>
<span id="cb227-88"><a href="#cb227-88" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('height', d=&gt;d%(width &gt; 500 ? 2 : 3)===0? 6:4)</span></span>
<span id="cb227-89"><a href="#cb227-89" aria-hidden="true" tabindex="-1"></a><span class="in">  // Cent ticks</span></span>
<span id="cb227-90"><a href="#cb227-90" aria-hidden="true" tabindex="-1"></a><span class="in">  // svg.selectAll('.tickDotd')</span></span>
<span id="cb227-91"><a href="#cb227-91" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .data(d3.range(width &gt; 500 ? 1: 2, 10))</span></span>
<span id="cb227-92"><a href="#cb227-92" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .enter()</span></span>
<span id="cb227-93"><a href="#cb227-93" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .append('rect')</span></span>
<span id="cb227-94"><a href="#cb227-94" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('class', 'tickDotd')</span></span>
<span id="cb227-95"><a href="#cb227-95" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('x', d=&gt;scaleM(d)+barX)</span></span>
<span id="cb227-96"><a href="#cb227-96" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('y', firstBarY+49)</span></span>
<span id="cb227-97"><a href="#cb227-97" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('height', 6)</span></span>
<span id="cb227-98"><a href="#cb227-98" aria-hidden="true" tabindex="-1"></a><span class="in">  // svg.selectAll('.tickLabel')</span></span>
<span id="cb227-99"><a href="#cb227-99" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .data(d3.range(width &gt; 500 ? 4: 6, width &gt; 500 ? 37: 35, width &gt; 500 ? 2: 3))</span></span>
<span id="cb227-100"><a href="#cb227-100" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .enter()</span></span>
<span id="cb227-101"><a href="#cb227-101" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .append('text')</span></span>
<span id="cb227-102"><a href="#cb227-102" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('class', 'tickLabel')</span></span>
<span id="cb227-103"><a href="#cb227-103" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('x', d=&gt;scaleDek(d)+barX+.5)</span></span>
<span id="cb227-104"><a href="#cb227-104" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('y', firstBarY+22)</span></span>
<span id="cb227-105"><a href="#cb227-105" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .text(d=&gt;d)</span></span>
<span id="cb227-106"><a href="#cb227-106" aria-hidden="true" tabindex="-1"></a><span class="in">  // Beats</span></span>
<span id="cb227-107"><a href="#cb227-107" aria-hidden="true" tabindex="-1"></a><span class="in">  svg</span></span>
<span id="cb227-108"><a href="#cb227-108" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-109"><a href="#cb227-109" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'timeBar')</span></span>
<span id="cb227-110"><a href="#cb227-110" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', firstBarY+60)</span></span>
<span id="cb227-111"><a href="#cb227-111" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('width', d =&gt; scaleMandB(Number(barBeats)+Number(barMb)/1000))</span></span>
<span id="cb227-112"><a href="#cb227-112" aria-hidden="true" tabindex="-1"></a><span class="in">  svg</span></span>
<span id="cb227-113"><a href="#cb227-113" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-114"><a href="#cb227-114" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'timeBarFull')</span></span>
<span id="cb227-115"><a href="#cb227-115" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', firstBarY+60)</span></span>
<span id="cb227-116"><a href="#cb227-116" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('width', d =&gt; scaleMandB(barBeats))</span></span>
<span id="cb227-117"><a href="#cb227-117" aria-hidden="true" tabindex="-1"></a><span class="in">  // Cents/Mils</span></span>
<span id="cb227-118"><a href="#cb227-118" aria-hidden="true" tabindex="-1"></a><span class="in">  svg</span></span>
<span id="cb227-119"><a href="#cb227-119" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-120"><a href="#cb227-120" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'timeBar')</span></span>
<span id="cb227-121"><a href="#cb227-121" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', firstBarY)</span></span>
<span id="cb227-122"><a href="#cb227-122" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('width', d =&gt; scaleDD(Number(barDD)+Number(barMils)/100+Number(barBeats)/10000+Number(barMb)/10000000))</span></span>
<span id="cb227-123"><a href="#cb227-123" aria-hidden="true" tabindex="-1"></a><span class="in">  svg</span></span>
<span id="cb227-124"><a href="#cb227-124" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-125"><a href="#cb227-125" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'timeBarFull')</span></span>
<span id="cb227-126"><a href="#cb227-126" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', firstBarY)</span></span>
<span id="cb227-127"><a href="#cb227-127" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('width', d =&gt; scaleDD(barDD))</span></span>
<span id="cb227-128"><a href="#cb227-128" aria-hidden="true" tabindex="-1"></a><span class="in">  svg</span></span>
<span id="cb227-129"><a href="#cb227-129" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-130"><a href="#cb227-130" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'timeBar')</span></span>
<span id="cb227-131"><a href="#cb227-131" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', firstBarY+30)</span></span>
<span id="cb227-132"><a href="#cb227-132" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('width', d =&gt; scaleMandB(Number(barMils)/10+Number(barBeats)/1000))</span></span>
<span id="cb227-133"><a href="#cb227-133" aria-hidden="true" tabindex="-1"></a><span class="in">  svg</span></span>
<span id="cb227-134"><a href="#cb227-134" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-135"><a href="#cb227-135" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'timeBarFull')</span></span>
<span id="cb227-136"><a href="#cb227-136" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', firstBarY+30)</span></span>
<span id="cb227-137"><a href="#cb227-137" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('width', d =&gt; scaleMandB(barMils))</span></span>
<span id="cb227-138"><a href="#cb227-138" aria-hidden="true" tabindex="-1"></a><span class="in">  // Cent ticks</span></span>
<span id="cb227-139"><a href="#cb227-139" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.selectAll('.tickC')</span></span>
<span id="cb227-140"><a href="#cb227-140" aria-hidden="true" tabindex="-1"></a><span class="in">    .data(d3.range(width &gt; 500 ? 10 : 10, 100))</span></span>
<span id="cb227-141"><a href="#cb227-141" aria-hidden="true" tabindex="-1"></a><span class="in">    .enter()</span></span>
<span id="cb227-142"><a href="#cb227-142" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-143"><a href="#cb227-143" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'tickC')</span></span>
<span id="cb227-144"><a href="#cb227-144" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('x', d=&gt;scaleDD(d/10)+barX)</span></span>
<span id="cb227-145"><a href="#cb227-145" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', firstBarY+30)</span></span>
<span id="cb227-146"><a href="#cb227-146" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('height', d=&gt;d%2===0? 8:5)</span></span>
<span id="cb227-147"><a href="#cb227-147" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.selectAll('.tickB1')</span></span>
<span id="cb227-148"><a href="#cb227-148" aria-hidden="true" tabindex="-1"></a><span class="in">    .data(d3.range(width &gt; 500 ? 10 : 10, 100))</span></span>
<span id="cb227-149"><a href="#cb227-149" aria-hidden="true" tabindex="-1"></a><span class="in">    .enter()</span></span>
<span id="cb227-150"><a href="#cb227-150" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-151"><a href="#cb227-151" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'tickB1')</span></span>
<span id="cb227-152"><a href="#cb227-152" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('x', d=&gt;scaleDD(d/10)+barX)</span></span>
<span id="cb227-153"><a href="#cb227-153" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', d=&gt;d%2===0? firstBarY+77:firstBarY+80)</span></span>
<span id="cb227-154"><a href="#cb227-154" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('height', d=&gt;d%2===0? 8:5)</span></span>
<span id="cb227-155"><a href="#cb227-155" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.selectAll('.tickC1')</span></span>
<span id="cb227-156"><a href="#cb227-156" aria-hidden="true" tabindex="-1"></a><span class="in">    .data(d3.range(width &gt; 500 ? 10 : 10, 100))</span></span>
<span id="cb227-157"><a href="#cb227-157" aria-hidden="true" tabindex="-1"></a><span class="in">    .enter()</span></span>
<span id="cb227-158"><a href="#cb227-158" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-159"><a href="#cb227-159" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'tickC1')</span></span>
<span id="cb227-160"><a href="#cb227-160" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('x', d=&gt;scaleDD(d/10)+barX)</span></span>
<span id="cb227-161"><a href="#cb227-161" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', d=&gt;d%2===0? firstBarY+47:firstBarY+50)</span></span>
<span id="cb227-162"><a href="#cb227-162" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('height', d=&gt;d%2===0? 8:5)</span></span>
<span id="cb227-163"><a href="#cb227-163" aria-hidden="true" tabindex="-1"></a><span class="in">  // Mil ticks</span></span>
<span id="cb227-164"><a href="#cb227-164" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.selectAll('.tickM')</span></span>
<span id="cb227-165"><a href="#cb227-165" aria-hidden="true" tabindex="-1"></a><span class="in">    .data(d3.range(width &gt; 500 ? 1 : 1, 10))</span></span>
<span id="cb227-166"><a href="#cb227-166" aria-hidden="true" tabindex="-1"></a><span class="in">    .enter()</span></span>
<span id="cb227-167"><a href="#cb227-167" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-168"><a href="#cb227-168" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'tickM')</span></span>
<span id="cb227-169"><a href="#cb227-169" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('x', d=&gt;scaleDD(d)+barX)</span></span>
<span id="cb227-170"><a href="#cb227-170" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', firstBarY+20)</span></span>
<span id="cb227-171"><a href="#cb227-171" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('height', 6)</span></span>
<span id="cb227-172"><a href="#cb227-172" aria-hidden="true" tabindex="-1"></a><span class="in">  // svg.selectAll('.tickM1')</span></span>
<span id="cb227-173"><a href="#cb227-173" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .data(d3.range(width &gt; 500 ? 1 : 2, 10))</span></span>
<span id="cb227-174"><a href="#cb227-174" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .enter()</span></span>
<span id="cb227-175"><a href="#cb227-175" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .append('rect')</span></span>
<span id="cb227-176"><a href="#cb227-176" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('class', 'tickM1')</span></span>
<span id="cb227-177"><a href="#cb227-177" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('x', d=&gt;scaleM(d)+barX)</span></span>
<span id="cb227-178"><a href="#cb227-178" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('y', firstBarY+32.5)</span></span>
<span id="cb227-179"><a href="#cb227-179" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('height', 2.5)</span></span>
<span id="cb227-180"><a href="#cb227-180" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.selectAll('.tickLabel1')</span></span>
<span id="cb227-181"><a href="#cb227-181" aria-hidden="true" tabindex="-1"></a><span class="in">    .data(d3.range(width &gt; 500 ? 1 : 1, 10))</span></span>
<span id="cb227-182"><a href="#cb227-182" aria-hidden="true" tabindex="-1"></a><span class="in">    .enter()</span></span>
<span id="cb227-183"><a href="#cb227-183" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('text')</span></span>
<span id="cb227-184"><a href="#cb227-184" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'tickLabel1')</span></span>
<span id="cb227-185"><a href="#cb227-185" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('x', d=&gt;scaleDD(d)+barX+.5)</span></span>
<span id="cb227-186"><a href="#cb227-186" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', firstBarY+18)</span></span>
<span id="cb227-187"><a href="#cb227-187" aria-hidden="true" tabindex="-1"></a><span class="in">    .text(d=&gt;d)</span></span>
<span id="cb227-188"><a href="#cb227-188" aria-hidden="true" tabindex="-1"></a><span class="in">  // svg.selectAll('.tickLabel2')</span></span>
<span id="cb227-189"><a href="#cb227-189" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .data(d3.range(width &gt; 500 ? 1 : 2, 10))</span></span>
<span id="cb227-190"><a href="#cb227-190" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .enter()</span></span>
<span id="cb227-191"><a href="#cb227-191" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .append('text')</span></span>
<span id="cb227-192"><a href="#cb227-192" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('class', 'tickLabel2')</span></span>
<span id="cb227-193"><a href="#cb227-193" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('x', d=&gt;scaleM(d)+barX+.5)</span></span>
<span id="cb227-194"><a href="#cb227-194" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .attr('y', firstBarY+112)</span></span>
<span id="cb227-195"><a href="#cb227-195" aria-hidden="true" tabindex="-1"></a><span class="in">  //   .text(d=&gt;d)</span></span>
<span id="cb227-196"><a href="#cb227-196" aria-hidden="true" tabindex="-1"></a><span class="in">  // Cent ticks</span></span>
<span id="cb227-197"><a href="#cb227-197" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.selectAll('.tickC2')</span></span>
<span id="cb227-198"><a href="#cb227-198" aria-hidden="true" tabindex="-1"></a><span class="in">    .data(d3.range(width &gt; 500 ? 10 : 10, 100))</span></span>
<span id="cb227-199"><a href="#cb227-199" aria-hidden="true" tabindex="-1"></a><span class="in">    .enter()</span></span>
<span id="cb227-200"><a href="#cb227-200" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-201"><a href="#cb227-201" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'tickC2')</span></span>
<span id="cb227-202"><a href="#cb227-202" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('x', d=&gt;scaleDD(d/10)+barX)</span></span>
<span id="cb227-203"><a href="#cb227-203" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', firstBarY+10)</span></span>
<span id="cb227-204"><a href="#cb227-204" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('height', d=&gt;d%2===0? 9:6)</span></span>
<span id="cb227-205"><a href="#cb227-205" aria-hidden="true" tabindex="-1"></a><span class="in">  // Beat ticks</span></span>
<span id="cb227-206"><a href="#cb227-206" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.selectAll('.tickB')</span></span>
<span id="cb227-207"><a href="#cb227-207" aria-hidden="true" tabindex="-1"></a><span class="in">    .data(d3.range(width &gt; 500 ? 10 : 10, 100))</span></span>
<span id="cb227-208"><a href="#cb227-208" aria-hidden="true" tabindex="-1"></a><span class="in">    .enter()</span></span>
<span id="cb227-209"><a href="#cb227-209" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('rect')</span></span>
<span id="cb227-210"><a href="#cb227-210" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'tickB')</span></span>
<span id="cb227-211"><a href="#cb227-211" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('x', d=&gt;scaleDD(d/10)+barX)</span></span>
<span id="cb227-212"><a href="#cb227-212" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', firstBarY+60)</span></span>
<span id="cb227-213"><a href="#cb227-213" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('height', d=&gt;d%2===0? 9:6)</span></span>
<span id="cb227-214"><a href="#cb227-214" aria-hidden="true" tabindex="-1"></a><span class="in">  // Labels</span></span>
<span id="cb227-215"><a href="#cb227-215" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.selectAll('.timeLabel')</span></span>
<span id="cb227-216"><a href="#cb227-216" aria-hidden="true" tabindex="-1"></a><span class="in">    .data([</span></span>
<span id="cb227-217"><a href="#cb227-217" aria-hidden="true" tabindex="-1"></a><span class="in">      // `${dotyDek}旬`, `${dotyDotd}日`,</span></span>
<span id="cb227-218"><a href="#cb227-218" aria-hidden="true" tabindex="-1"></a><span class="in">      `${barDD}`, `${barMils}`, `${barBeats}`])</span></span>
<span id="cb227-219"><a href="#cb227-219" aria-hidden="true" tabindex="-1"></a><span class="in">    .enter()</span></span>
<span id="cb227-220"><a href="#cb227-220" aria-hidden="true" tabindex="-1"></a><span class="in">    .append('text')</span></span>
<span id="cb227-221"><a href="#cb227-221" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('class', 'timeLabel')</span></span>
<span id="cb227-222"><a href="#cb227-222" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('x', barX+2)</span></span>
<span id="cb227-223"><a href="#cb227-223" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr('y', (d,i)=&gt;i*30+firstBarY+20)</span></span>
<span id="cb227-224"><a href="#cb227-224" aria-hidden="true" tabindex="-1"></a><span class="in">    .text(d=&gt;d);</span></span>
<span id="cb227-225"><a href="#cb227-225" aria-hidden="true" tabindex="-1"></a><span class="in">  svg.attr("id", "barClock");</span></span>
<span id="cb227-226"><a href="#cb227-226" aria-hidden="true" tabindex="-1"></a><span class="in">  return svg.node();</span></span>
<span id="cb227-227"><a href="#cb227-227" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-228"><a href="#cb227-228" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-229"><a href="#cb227-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-232"><a href="#cb227-232" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-233"><a href="#cb227-233" aria-hidden="true" tabindex="-1"></a><span class="in">// https://observablehq.com/@d3/simple-clock</span></span>
<span id="cb227-234"><a href="#cb227-234" aria-hidden="true" tabindex="-1"></a><span class="in">// https://observablehq.com/@drio/lets-build-an-analog-clock</span></span>
<span id="cb227-235"><a href="#cb227-235" aria-hidden="true" tabindex="-1"></a><span class="in">clock = {</span></span>
<span id="cb227-236"><a href="#cb227-236" aria-hidden="true" tabindex="-1"></a><span class="in">  const clockRadius = 200,</span></span>
<span id="cb227-237"><a href="#cb227-237" aria-hidden="true" tabindex="-1"></a><span class="in">    margin = 50,</span></span>
<span id="cb227-238"><a href="#cb227-238" aria-hidden="true" tabindex="-1"></a><span class="in">    w = (clockRadius + margin) * 2,</span></span>
<span id="cb227-239"><a href="#cb227-239" aria-hidden="true" tabindex="-1"></a><span class="in">    h = (clockRadius + margin) * 2,</span></span>
<span id="cb227-240"><a href="#cb227-240" aria-hidden="true" tabindex="-1"></a><span class="in">    hourHandLength = (2 * clockRadius) / 3,</span></span>
<span id="cb227-241"><a href="#cb227-241" aria-hidden="true" tabindex="-1"></a><span class="in">    minuteHandLength = clockRadius,</span></span>
<span id="cb227-242"><a href="#cb227-242" aria-hidden="true" tabindex="-1"></a><span class="in">    secondHandLength = clockRadius - 12,</span></span>
<span id="cb227-243"><a href="#cb227-243" aria-hidden="true" tabindex="-1"></a><span class="in">    secondHandBalance = 30,</span></span>
<span id="cb227-244"><a href="#cb227-244" aria-hidden="true" tabindex="-1"></a><span class="in">    secondTickStart = clockRadius,</span></span>
<span id="cb227-245"><a href="#cb227-245" aria-hidden="true" tabindex="-1"></a><span class="in">    secondTickLength = -10,</span></span>
<span id="cb227-246"><a href="#cb227-246" aria-hidden="true" tabindex="-1"></a><span class="in">    hourTickStart = clockRadius,</span></span>
<span id="cb227-247"><a href="#cb227-247" aria-hidden="true" tabindex="-1"></a><span class="in">    hourTickLength = -18,</span></span>
<span id="cb227-248"><a href="#cb227-248" aria-hidden="true" tabindex="-1"></a><span class="in">    secondLabelRadius = clockRadius + 16,</span></span>
<span id="cb227-249"><a href="#cb227-249" aria-hidden="true" tabindex="-1"></a><span class="in">    secondLabelYOffset = 5,</span></span>
<span id="cb227-250"><a href="#cb227-250" aria-hidden="true" tabindex="-1"></a><span class="in">    hourLabelRadius = clockRadius - 40,</span></span>
<span id="cb227-251"><a href="#cb227-251" aria-hidden="true" tabindex="-1"></a><span class="in">    hourLabelYOffset = 7,</span></span>
<span id="cb227-252"><a href="#cb227-252" aria-hidden="true" tabindex="-1"></a><span class="in">    radians = Math.PI / 180;</span></span>
<span id="cb227-253"><a href="#cb227-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-254"><a href="#cb227-254" aria-hidden="true" tabindex="-1"></a><span class="in">  const ten = d3</span></span>
<span id="cb227-255"><a href="#cb227-255" aria-hidden="true" tabindex="-1"></a><span class="in">    .scaleLinear()</span></span>
<span id="cb227-256"><a href="#cb227-256" aria-hidden="true" tabindex="-1"></a><span class="in">    .range([0, 360])</span></span>
<span id="cb227-257"><a href="#cb227-257" aria-hidden="true" tabindex="-1"></a><span class="in">    .domain([0, 10]);</span></span>
<span id="cb227-258"><a href="#cb227-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-259"><a href="#cb227-259" aria-hidden="true" tabindex="-1"></a><span class="in">  const sto = d3</span></span>
<span id="cb227-260"><a href="#cb227-260" aria-hidden="true" tabindex="-1"></a><span class="in">    .scaleLinear()</span></span>
<span id="cb227-261"><a href="#cb227-261" aria-hidden="true" tabindex="-1"></a><span class="in">    .range([0, 360])</span></span>
<span id="cb227-262"><a href="#cb227-262" aria-hidden="true" tabindex="-1"></a><span class="in">    .domain([0, 100]);</span></span>
<span id="cb227-263"><a href="#cb227-263" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-264"><a href="#cb227-264" aria-hidden="true" tabindex="-1"></a><span class="in">  const handData = [</span></span>
<span id="cb227-265"><a href="#cb227-265" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb227-266"><a href="#cb227-266" aria-hidden="true" tabindex="-1"></a><span class="in">      type: "hour",</span></span>
<span id="cb227-267"><a href="#cb227-267" aria-hidden="true" tabindex="-1"></a><span class="in">      value: 0,</span></span>
<span id="cb227-268"><a href="#cb227-268" aria-hidden="true" tabindex="-1"></a><span class="in">      length: -hourHandLength,</span></span>
<span id="cb227-269"><a href="#cb227-269" aria-hidden="true" tabindex="-1"></a><span class="in">      scale: ten</span></span>
<span id="cb227-270"><a href="#cb227-270" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb227-271"><a href="#cb227-271" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb227-272"><a href="#cb227-272" aria-hidden="true" tabindex="-1"></a><span class="in">      type: "minute",</span></span>
<span id="cb227-273"><a href="#cb227-273" aria-hidden="true" tabindex="-1"></a><span class="in">      value: 0,</span></span>
<span id="cb227-274"><a href="#cb227-274" aria-hidden="true" tabindex="-1"></a><span class="in">      length: -minuteHandLength,</span></span>
<span id="cb227-275"><a href="#cb227-275" aria-hidden="true" tabindex="-1"></a><span class="in">      scale: sto</span></span>
<span id="cb227-276"><a href="#cb227-276" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb227-277"><a href="#cb227-277" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb227-278"><a href="#cb227-278" aria-hidden="true" tabindex="-1"></a><span class="in">      type: "second",</span></span>
<span id="cb227-279"><a href="#cb227-279" aria-hidden="true" tabindex="-1"></a><span class="in">      value: 0,</span></span>
<span id="cb227-280"><a href="#cb227-280" aria-hidden="true" tabindex="-1"></a><span class="in">      length: -secondHandLength,</span></span>
<span id="cb227-281"><a href="#cb227-281" aria-hidden="true" tabindex="-1"></a><span class="in">      scale: sto,</span></span>
<span id="cb227-282"><a href="#cb227-282" aria-hidden="true" tabindex="-1"></a><span class="in">      balance: secondHandBalance</span></span>
<span id="cb227-283"><a href="#cb227-283" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb227-284"><a href="#cb227-284" aria-hidden="true" tabindex="-1"></a><span class="in">  ];</span></span>
<span id="cb227-285"><a href="#cb227-285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-286"><a href="#cb227-286" aria-hidden="true" tabindex="-1"></a><span class="in">  function drawClock() {</span></span>
<span id="cb227-287"><a href="#cb227-287" aria-hidden="true" tabindex="-1"></a><span class="in">    // create all the clock elements</span></span>
<span id="cb227-288"><a href="#cb227-288" aria-hidden="true" tabindex="-1"></a><span class="in">    updateData(); //draw them in the correct starting position</span></span>
<span id="cb227-289"><a href="#cb227-289" aria-hidden="true" tabindex="-1"></a><span class="in">    const face = svg</span></span>
<span id="cb227-290"><a href="#cb227-290" aria-hidden="true" tabindex="-1"></a><span class="in">      .append("g")</span></span>
<span id="cb227-291"><a href="#cb227-291" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("id", "clock-face")</span></span>
<span id="cb227-292"><a href="#cb227-292" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("transform", `translate(${[w / 2, h / 2]})`);</span></span>
<span id="cb227-293"><a href="#cb227-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-294"><a href="#cb227-294" aria-hidden="true" tabindex="-1"></a><span class="in">    // add marks for seconds</span></span>
<span id="cb227-295"><a href="#cb227-295" aria-hidden="true" tabindex="-1"></a><span class="in">    face</span></span>
<span id="cb227-296"><a href="#cb227-296" aria-hidden="true" tabindex="-1"></a><span class="in">      .selectAll(".second-tick")</span></span>
<span id="cb227-297"><a href="#cb227-297" aria-hidden="true" tabindex="-1"></a><span class="in">      .data(d3.range(0, 100))</span></span>
<span id="cb227-298"><a href="#cb227-298" aria-hidden="true" tabindex="-1"></a><span class="in">      .enter()</span></span>
<span id="cb227-299"><a href="#cb227-299" aria-hidden="true" tabindex="-1"></a><span class="in">      .append("line")</span></span>
<span id="cb227-300"><a href="#cb227-300" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("class", "second-tick")</span></span>
<span id="cb227-301"><a href="#cb227-301" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("x1", 0)</span></span>
<span id="cb227-302"><a href="#cb227-302" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("x2", 0)</span></span>
<span id="cb227-303"><a href="#cb227-303" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("y1", secondTickStart)</span></span>
<span id="cb227-304"><a href="#cb227-304" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("y2", secondTickStart + secondTickLength)</span></span>
<span id="cb227-305"><a href="#cb227-305" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("transform", d =&gt; `rotate(${sto(d)})`);</span></span>
<span id="cb227-306"><a href="#cb227-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-307"><a href="#cb227-307" aria-hidden="true" tabindex="-1"></a><span class="in">    // and labels...</span></span>
<span id="cb227-308"><a href="#cb227-308" aria-hidden="true" tabindex="-1"></a><span class="in">    face</span></span>
<span id="cb227-309"><a href="#cb227-309" aria-hidden="true" tabindex="-1"></a><span class="in">      .selectAll(".second-label")</span></span>
<span id="cb227-310"><a href="#cb227-310" aria-hidden="true" tabindex="-1"></a><span class="in">      .data(d3.range(0, 100, 5))</span></span>
<span id="cb227-311"><a href="#cb227-311" aria-hidden="true" tabindex="-1"></a><span class="in">      .enter()</span></span>
<span id="cb227-312"><a href="#cb227-312" aria-hidden="true" tabindex="-1"></a><span class="in">      .append("text")</span></span>
<span id="cb227-313"><a href="#cb227-313" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("class", "second-label")</span></span>
<span id="cb227-314"><a href="#cb227-314" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("text-anchor", "middle")</span></span>
<span id="cb227-315"><a href="#cb227-315" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("x", d =&gt; secondLabelRadius * Math.sin(sto(d) * radians))</span></span>
<span id="cb227-316"><a href="#cb227-316" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr(</span></span>
<span id="cb227-317"><a href="#cb227-317" aria-hidden="true" tabindex="-1"></a><span class="in">        "y",</span></span>
<span id="cb227-318"><a href="#cb227-318" aria-hidden="true" tabindex="-1"></a><span class="in">        d =&gt;</span></span>
<span id="cb227-319"><a href="#cb227-319" aria-hidden="true" tabindex="-1"></a><span class="in">          -secondLabelRadius * Math.cos(sto(d) * radians) + secondLabelYOffset</span></span>
<span id="cb227-320"><a href="#cb227-320" aria-hidden="true" tabindex="-1"></a><span class="in">      )</span></span>
<span id="cb227-321"><a href="#cb227-321" aria-hidden="true" tabindex="-1"></a><span class="in">      .text(d =&gt; d);</span></span>
<span id="cb227-322"><a href="#cb227-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-323"><a href="#cb227-323" aria-hidden="true" tabindex="-1"></a><span class="in">    // ... and hours</span></span>
<span id="cb227-324"><a href="#cb227-324" aria-hidden="true" tabindex="-1"></a><span class="in">    face</span></span>
<span id="cb227-325"><a href="#cb227-325" aria-hidden="true" tabindex="-1"></a><span class="in">      .selectAll(".hour-tick")</span></span>
<span id="cb227-326"><a href="#cb227-326" aria-hidden="true" tabindex="-1"></a><span class="in">      .data(d3.range(0, 10, 1))</span></span>
<span id="cb227-327"><a href="#cb227-327" aria-hidden="true" tabindex="-1"></a><span class="in">      .enter()</span></span>
<span id="cb227-328"><a href="#cb227-328" aria-hidden="true" tabindex="-1"></a><span class="in">      .append("line")</span></span>
<span id="cb227-329"><a href="#cb227-329" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("class", "hour-tick")</span></span>
<span id="cb227-330"><a href="#cb227-330" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("x1", 0)</span></span>
<span id="cb227-331"><a href="#cb227-331" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("x2", 0)</span></span>
<span id="cb227-332"><a href="#cb227-332" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("y1", hourTickStart)</span></span>
<span id="cb227-333"><a href="#cb227-333" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("y2", hourTickStart + hourTickLength)</span></span>
<span id="cb227-334"><a href="#cb227-334" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("transform", d =&gt; `rotate(${ten(d)})`);</span></span>
<span id="cb227-335"><a href="#cb227-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-336"><a href="#cb227-336" aria-hidden="true" tabindex="-1"></a><span class="in">    face</span></span>
<span id="cb227-337"><a href="#cb227-337" aria-hidden="true" tabindex="-1"></a><span class="in">      .selectAll(".hour-label")</span></span>
<span id="cb227-338"><a href="#cb227-338" aria-hidden="true" tabindex="-1"></a><span class="in">      .data(d3.range(0, 10, 1))</span></span>
<span id="cb227-339"><a href="#cb227-339" aria-hidden="true" tabindex="-1"></a><span class="in">      .enter()</span></span>
<span id="cb227-340"><a href="#cb227-340" aria-hidden="true" tabindex="-1"></a><span class="in">      .append("text")</span></span>
<span id="cb227-341"><a href="#cb227-341" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("class", "hour-label")</span></span>
<span id="cb227-342"><a href="#cb227-342" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("text-anchor", "middle")</span></span>
<span id="cb227-343"><a href="#cb227-343" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("x", d =&gt; hourLabelRadius * Math.sin(ten(d) * radians))</span></span>
<span id="cb227-344"><a href="#cb227-344" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr(</span></span>
<span id="cb227-345"><a href="#cb227-345" aria-hidden="true" tabindex="-1"></a><span class="in">        "y",</span></span>
<span id="cb227-346"><a href="#cb227-346" aria-hidden="true" tabindex="-1"></a><span class="in">        d =&gt; -hourLabelRadius * Math.cos(ten(d) * radians) + hourLabelYOffset</span></span>
<span id="cb227-347"><a href="#cb227-347" aria-hidden="true" tabindex="-1"></a><span class="in">      )</span></span>
<span id="cb227-348"><a href="#cb227-348" aria-hidden="true" tabindex="-1"></a><span class="in">      .text(d =&gt; d);</span></span>
<span id="cb227-349"><a href="#cb227-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-350"><a href="#cb227-350" aria-hidden="true" tabindex="-1"></a><span class="in">    const hands = face.append("g").attr("id", "clock-hands");</span></span>
<span id="cb227-351"><a href="#cb227-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-352"><a href="#cb227-352" aria-hidden="true" tabindex="-1"></a><span class="in">    hands</span></span>
<span id="cb227-353"><a href="#cb227-353" aria-hidden="true" tabindex="-1"></a><span class="in">      .selectAll("line")</span></span>
<span id="cb227-354"><a href="#cb227-354" aria-hidden="true" tabindex="-1"></a><span class="in">      .data(handData)</span></span>
<span id="cb227-355"><a href="#cb227-355" aria-hidden="true" tabindex="-1"></a><span class="in">      .enter()</span></span>
<span id="cb227-356"><a href="#cb227-356" aria-hidden="true" tabindex="-1"></a><span class="in">      .append("line")</span></span>
<span id="cb227-357"><a href="#cb227-357" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("class", d =&gt; d.type + "-hand")</span></span>
<span id="cb227-358"><a href="#cb227-358" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("x1", 0)</span></span>
<span id="cb227-359"><a href="#cb227-359" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("y1", d =&gt; d.balance || 0)</span></span>
<span id="cb227-360"><a href="#cb227-360" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("x2", 0)</span></span>
<span id="cb227-361"><a href="#cb227-361" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("y2", d =&gt; d.length)</span></span>
<span id="cb227-362"><a href="#cb227-362" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("transform", d =&gt; `rotate(${d.scale(d.value)})`);</span></span>
<span id="cb227-363"><a href="#cb227-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-364"><a href="#cb227-364" aria-hidden="true" tabindex="-1"></a><span class="in">    face</span></span>
<span id="cb227-365"><a href="#cb227-365" aria-hidden="true" tabindex="-1"></a><span class="in">      .append("g")</span></span>
<span id="cb227-366"><a href="#cb227-366" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("id", "face-overlay")</span></span>
<span id="cb227-367"><a href="#cb227-367" aria-hidden="true" tabindex="-1"></a><span class="in">      .append("circle")</span></span>
<span id="cb227-368"><a href="#cb227-368" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("class", "hands-cover")</span></span>
<span id="cb227-369"><a href="#cb227-369" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("x", 0)</span></span>
<span id="cb227-370"><a href="#cb227-370" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("y", 0)</span></span>
<span id="cb227-371"><a href="#cb227-371" aria-hidden="true" tabindex="-1"></a><span class="in">      .attr("r", clockRadius / 20);</span></span>
<span id="cb227-372"><a href="#cb227-372" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-373"><a href="#cb227-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-374"><a href="#cb227-374" aria-hidden="true" tabindex="-1"></a><span class="in">  function moveHands() {</span></span>
<span id="cb227-375"><a href="#cb227-375" aria-hidden="true" tabindex="-1"></a><span class="in">    const sel = d3</span></span>
<span id="cb227-376"><a href="#cb227-376" aria-hidden="true" tabindex="-1"></a><span class="in">      .select("#clock-hands-final")</span></span>
<span id="cb227-377"><a href="#cb227-377" aria-hidden="true" tabindex="-1"></a><span class="in">      .selectAll("line")</span></span>
<span id="cb227-378"><a href="#cb227-378" aria-hidden="true" tabindex="-1"></a><span class="in">      .data(handData)</span></span>
<span id="cb227-379"><a href="#cb227-379" aria-hidden="true" tabindex="-1"></a><span class="in">      .transition();</span></span>
<span id="cb227-380"><a href="#cb227-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-381"><a href="#cb227-381" aria-hidden="true" tabindex="-1"></a><span class="in">    if (fancySecondsOFF) sel.ease(d3.easeElastic.period(0.5));</span></span>
<span id="cb227-382"><a href="#cb227-382" aria-hidden="true" tabindex="-1"></a><span class="in">    sel.attr("transform", d =&gt; `rotate(${d.scale(d.value)})`);</span></span>
<span id="cb227-383"><a href="#cb227-383" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-384"><a href="#cb227-384" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-385"><a href="#cb227-385" aria-hidden="true" tabindex="-1"></a><span class="in">function unix2dote(unix, zone, offset = 719468) {</span></span>
<span id="cb227-386"><a href="#cb227-386" aria-hidden="true" tabindex="-1"></a><span class="in">  return [</span></span>
<span id="cb227-387"><a href="#cb227-387" aria-hidden="true" tabindex="-1"></a><span class="in">    (unix ?? Date.now()) / 86400000</span></span>
<span id="cb227-388"><a href="#cb227-388" aria-hidden="true" tabindex="-1"></a><span class="in">    + (zone = zone ?? (10 - Math.round(</span></span>
<span id="cb227-389"><a href="#cb227-389" aria-hidden="true" tabindex="-1"></a><span class="in">        (new Date).getTimezoneOffset() / 144)) % 10</span></span>
<span id="cb227-390"><a href="#cb227-390" aria-hidden="true" tabindex="-1"></a><span class="in">      ) / 10 + offset, zone]</span></span>
<span id="cb227-391"><a href="#cb227-391" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-392"><a href="#cb227-392" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-393"><a href="#cb227-393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-394"><a href="#cb227-394" aria-hidden="true" tabindex="-1"></a><span class="in">  function updateData() {</span></span>
<span id="cb227-395"><a href="#cb227-395" aria-hidden="true" tabindex="-1"></a><span class="in">    const unix = Date.now();</span></span>
<span id="cb227-396"><a href="#cb227-396" aria-hidden="true" tabindex="-1"></a><span class="in">    const declock = unix2dote(unix, long2zone(coordinates[0]))[0] % 1</span></span>
<span id="cb227-397"><a href="#cb227-397" aria-hidden="true" tabindex="-1"></a><span class="in">    handData[0].value = Math.floor(declock * 10);</span></span>
<span id="cb227-398"><a href="#cb227-398" aria-hidden="true" tabindex="-1"></a><span class="in">    handData[1].value = Math.floor(declock * 10 % 1 * 100);</span></span>
<span id="cb227-399"><a href="#cb227-399" aria-hidden="true" tabindex="-1"></a><span class="in">    handData[2].value = !fancySecondsOFF ? declock * 10 % 1 * 100 % 1 * 100 : Math.floor(declock * 10 % 1 * 100 % 1 * 100);</span></span>
<span id="cb227-400"><a href="#cb227-400" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-401"><a href="#cb227-401" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-402"><a href="#cb227-402" aria-hidden="true" tabindex="-1"></a><span class="in">  const svg = d3</span></span>
<span id="cb227-403"><a href="#cb227-403" aria-hidden="true" tabindex="-1"></a><span class="in">    .create("svg")</span></span>
<span id="cb227-404"><a href="#cb227-404" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("viewBox", [0, 0, w, h])</span></span>
<span id="cb227-405"><a href="#cb227-405" aria-hidden="true" tabindex="-1"></a><span class="in">    .style("max-width", "500px")</span></span>
<span id="cb227-406"><a href="#cb227-406" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("id", "clock");</span></span>
<span id="cb227-407"><a href="#cb227-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-408"><a href="#cb227-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-409"><a href="#cb227-409" aria-hidden="true" tabindex="-1"></a><span class="in">  svg</span></span>
<span id="cb227-410"><a href="#cb227-410" aria-hidden="true" tabindex="-1"></a><span class="in">    .append("text")</span></span>
<span id="cb227-411"><a href="#cb227-411" aria-hidden="true" tabindex="-1"></a><span class="in">    .text(selected)</span></span>
<span id="cb227-412"><a href="#cb227-412" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("x", clockRadius + margin)</span></span>
<span id="cb227-413"><a href="#cb227-413" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("y", clockRadius * 2 + margin * 1.975)</span></span>
<span id="cb227-414"><a href="#cb227-414" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("text-anchor", "middle")</span></span>
<span id="cb227-415"><a href="#cb227-415" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("font-size", 32)</span></span>
<span id="cb227-416"><a href="#cb227-416" aria-hidden="true" tabindex="-1"></a><span class="in">    .attr("font-family", "monospace");</span></span>
<span id="cb227-417"><a href="#cb227-417" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-418"><a href="#cb227-418" aria-hidden="true" tabindex="-1"></a><span class="in">  drawClock();</span></span>
<span id="cb227-419"><a href="#cb227-419" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-420"><a href="#cb227-420" aria-hidden="true" tabindex="-1"></a><span class="in">  // Animation</span></span>
<span id="cb227-421"><a href="#cb227-421" aria-hidden="true" tabindex="-1"></a><span class="in">  const interval = setInterval(</span></span>
<span id="cb227-422"><a href="#cb227-422" aria-hidden="true" tabindex="-1"></a><span class="in">    () =&gt; {</span></span>
<span id="cb227-423"><a href="#cb227-423" aria-hidden="true" tabindex="-1"></a><span class="in">      updateData();</span></span>
<span id="cb227-424"><a href="#cb227-424" aria-hidden="true" tabindex="-1"></a><span class="in">      moveHands();</span></span>
<span id="cb227-425"><a href="#cb227-425" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb227-426"><a href="#cb227-426" aria-hidden="true" tabindex="-1"></a><span class="in">    !fancySecondsOFF ? 10 : 864</span></span>
<span id="cb227-427"><a href="#cb227-427" aria-hidden="true" tabindex="-1"></a><span class="in">  );</span></span>
<span id="cb227-428"><a href="#cb227-428" aria-hidden="true" tabindex="-1"></a><span class="in">  invalidation.then(() =&gt; clearInterval(interval));</span></span>
<span id="cb227-429"><a href="#cb227-429" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-430"><a href="#cb227-430" aria-hidden="true" tabindex="-1"></a><span class="in">  return svg.node();</span></span>
<span id="cb227-431"><a href="#cb227-431" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-432"><a href="#cb227-432" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-433"><a href="#cb227-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-436"><a href="#cb227-436" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-437"><a href="#cb227-437" aria-hidden="true" tabindex="-1"></a><span class="in">viewof fancySecondsOFF = Toggle({</span></span>
<span id="cb227-438"><a href="#cb227-438" aria-hidden="true" tabindex="-1"></a><span class="in">  label: "Ticking clock",</span></span>
<span id="cb227-439"><a href="#cb227-439" aria-hidden="true" tabindex="-1"></a><span class="in">  value: false</span></span>
<span id="cb227-440"><a href="#cb227-440" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb227-441"><a href="#cb227-441" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-442"><a href="#cb227-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-445"><a href="#cb227-445" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-446"><a href="#cb227-446" aria-hidden="true" tabindex="-1"></a><span class="in">viewof coordinates = worldMapCoordinates([162, 0], [width, Math.round((210 / 400) * width)])</span></span>
<span id="cb227-447"><a href="#cb227-447" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-448"><a href="#cb227-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-451"><a href="#cb227-451" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-452"><a href="#cb227-452" aria-hidden="true" tabindex="-1"></a><span class="in">plot = Plot.plot({</span></span>
<span id="cb227-453"><a href="#cb227-453" aria-hidden="true" tabindex="-1"></a><span class="in">  style: `overflow: visible;font-size:12px;margin-top:${-3 + (width &lt; 400) * 3}px`,</span></span>
<span id="cb227-454"><a href="#cb227-454" aria-hidden="true" tabindex="-1"></a><span class="in">  width: width * .96,</span></span>
<span id="cb227-455"><a href="#cb227-455" aria-hidden="true" tabindex="-1"></a><span class="in">  y: {domain: [0, .92], grid: false},</span></span>
<span id="cb227-456"><a href="#cb227-456" aria-hidden="true" tabindex="-1"></a><span class="in">  color: {legend: true, range: ["#ff6c00", "#009cff"]},</span></span>
<span id="cb227-457"><a href="#cb227-457" aria-hidden="true" tabindex="-1"></a><span class="in">  marks: [</span></span>
<span id="cb227-458"><a href="#cb227-458" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.ruleY([0]),</span></span>
<span id="cb227-459"><a href="#cb227-459" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.lineY(times, {x: "date", y: "rise", stroke: "symbol", strokeWidth: 16, strokeOpacity: .6}),</span></span>
<span id="cb227-460"><a href="#cb227-460" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.lineY(times, {x: "date", y: "noon", stroke: "symbol", strokeWidth: 16, strokeOpacity: .6}),</span></span>
<span id="cb227-461"><a href="#cb227-461" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.lineY(times, {x: "date", y: "set", stroke: "symbol", strokeWidth: 16, strokeOpacity: .6}),</span></span>
<span id="cb227-462"><a href="#cb227-462" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.text(times, Plot.selectLast({x: "date", y: "rise", z: "symbol", text: d =&gt; `sunrise`, textAnchor: "start", dx: 9})),</span></span>
<span id="cb227-463"><a href="#cb227-463" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.text(times, Plot.selectLast({x: "date", y: "noon", z: "symbol", text: d =&gt; `noon`, textAnchor: "start", dx: 9})),</span></span>
<span id="cb227-464"><a href="#cb227-464" aria-hidden="true" tabindex="-1"></a><span class="in">    Plot.text(times, Plot.selectLast({x: "date", y: "set", z: "symbol", text: d =&gt; `sunset`, textAnchor: "start", dx: 9})),</span></span>
<span id="cb227-465"><a href="#cb227-465" aria-hidden="true" tabindex="-1"></a><span class="in">  ]</span></span>
<span id="cb227-466"><a href="#cb227-466" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb227-467"><a href="#cb227-467" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-468"><a href="#cb227-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-471"><a href="#cb227-471" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-472"><a href="#cb227-472" aria-hidden="true" tabindex="-1"></a><span class="in">md`The bar chart and clock show zonal time,  which varies by time zone. Below the map there is a line plot that shows the zonal (blue) and local (orange) time when the sun sets (top line), reaches its peak (middle line), and rises (bottom line) throughout the year in the location selected on the map above the plot. Local time approximates [solar time](https://en.wikipedia.org/wiki/Solar_time#:~:text=the%20hour%20angle%20of%20the%20mean%20Sun%20plus%2012%20hours) by changing with longitude, even within the same time zone.`</span></span>
<span id="cb227-473"><a href="#cb227-473" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-474"><a href="#cb227-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-477"><a href="#cb227-477" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-478"><a href="#cb227-478" aria-hidden="true" tabindex="-1"></a><span class="in">md`For daily use, we only need zonal time, which provides a single consistent time for each time zone, but local and solar time can be useful to understand how clock time compares to the position of the sun. To look at how solar time changes by location throughout the year, check out the top of the [Dec calculation notebook](/@dec/alc).`</span></span>
<span id="cb227-479"><a href="#cb227-479" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-480"><a href="#cb227-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-483"><a href="#cb227-483" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-484"><a href="#cb227-484" aria-hidden="true" tabindex="-1"></a><span class="in">md`The map above shows how [Meridian 0](https://en.wikipedia.org/wiki/126th_meridian_west#:~:text=a%20line%20of%20longitude%20that%20extends%20from%20the%20North%20Pole%20across%20the%20Arctic%20Ocean%2C%20North%20America%2C%20the%20Pacific%20Ocean%2C%20the%20Southern%20Ocean%2C%20and%20Antarctica%20to%20the%20South%20Pole), the Dec [International Date Line](https://en.wikipedia.org/wiki/International_Date_Line#:~:text=the%20line%20between%20the%20South%20and%20North%20Poles%20that%20is%20the%20boundary%20between%20one%20calendar%20day%20and%20the%20next) and [prime meridian](https://en.wikipedia.org/wiki/Prime_meridian#:~:text=an%20arbitrarily%2Dchosen%20meridian%20%28a%20line%20of%20longitude%29%20in%20a%20geographic%20coordinate%20system%20at%20which%20longitude%20is%20defined%20to%20be%200%C2%B0), cuts across the Atlantic Ocean just West of Africa and marks the start of Zone 0, the leftmost Dec time zone on the map. Dec has 10 time zones which are each 1 deciturn (10% of a turn) wide and are numbered 0 through 9, like the [meridians](https://en.wikipedia.org/wiki/Meridian_%28geography%29#:~:text=words%2C%20it%20is-,a%20line%20of%20longitude,-.%20The%20position%20of) that separate them. For more Dec maps, check out these notebooks:</span></span>
<span id="cb227-485"><a href="#cb227-485" aria-hidden="true" tabindex="-1"></a><span class="in">- [Decalc](/@dec/alc)</span></span>
<span id="cb227-486"><a href="#cb227-486" aria-hidden="true" tabindex="-1"></a><span class="in">- [Decalendar](/@dec/al)</span></span>
<span id="cb227-487"><a href="#cb227-487" aria-hidden="true" tabindex="-1"></a><span class="in">- [Decaliper](/@dec/ali)</span></span>
<span id="cb227-488"><a href="#cb227-488" aria-hidden="true" tabindex="-1"></a><span class="in">- [Decirc](/@dec/irc)</span></span>
<span id="cb227-489"><a href="#cb227-489" aria-hidden="true" tabindex="-1"></a><span class="in">- [Solar terminator](/@dec/solar-terminator)</span></span>
<span id="cb227-490"><a href="#cb227-490" aria-hidden="true" tabindex="-1"></a><span class="in">- [The Sun's view of the Earth](/@dec/the-suns-view-of-the-earth)`</span></span>
<span id="cb227-491"><a href="#cb227-491" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-492"><a href="#cb227-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-495"><a href="#cb227-495" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-496"><a href="#cb227-496" aria-hidden="true" tabindex="-1"></a><span class="in">md`[Analog clock](https://en.wikipedia.org/wiki/Clock#:~:text=use%20a%20clock%20face%20which%20indicates%20time%20using%20rotating%20pointers%20called%20%22hands%22%20on%20a%20fixed%20numbered%20dial%20or%20dials) displays are not necessary in Dec, because the time can simply be displayed as a single number. Nevertheless, a watch with an analog display can serve as an approximate compass during the daytime. Aligning the watch's deciday hand with the spot on the horizon below the Sun (the [solar azimuth](https://en.wikipedia.org/wiki/Solar_azimuth_angle#:~:text=horizontal%20angle%20with%20respect%20to%20north)) and our shadow, makes midnight and midday (0 and 5) on the watch align with North and South.`</span></span>
<span id="cb227-497"><a href="#cb227-497" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-498"><a href="#cb227-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-501"><a href="#cb227-501" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-502"><a href="#cb227-502" aria-hidden="true" tabindex="-1"></a><span class="in">md`When facing North, the Sun will be on our right ([clock position](https://en.wikipedia.org/wiki/Clock_position#:~:text=a%20system%20of%20denoting%20impromptu%20relative%20bearing%20widely%20used%20in%20practical%20navigation%20to%20give%20the%20position%20of%20an%20observed%20object) &lt; .5 turns) and in the East (solar azimuth &lt; .5 turns) before [solar noon](https://en.wikipedia.org/wiki/Noon#Solar_noon:~:text=the%20moment%20when%20the%20Sun%20contacts%20the%20observer%27s%20meridian%20%28culmination%20or%20meridian%20transit%29%2C%20reaching%20its%20highest%20position%20above%20the%20horizon%20on%20that%20day) (solar time &lt; .5 turns), and on our left (clock position &gt; .5 turns) and in the West (solar azimuth &gt; .5 turns) after solar noon (solar time &gt; .5 turns). This method works everywhere even though the solar azimuth at solar noon is .5 turns (South) in the Northern Hemisphere (latitude &gt; 0 turns) and 0 turns (North) in the Southern Hemisphere (latitude &lt; 0 turns).`</span></span>
<span id="cb227-503"><a href="#cb227-503" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-504"><a href="#cb227-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-507"><a href="#cb227-507" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-508"><a href="#cb227-508" aria-hidden="true" tabindex="-1"></a><span class="in">md`## Zonal, Local, Solar time comparison`</span></span>
<span id="cb227-509"><a href="#cb227-509" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-510"><a href="#cb227-510" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-513"><a href="#cb227-513" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-514"><a href="#cb227-514" aria-hidden="true" tabindex="-1"></a><span class="in">md`In Declock, times that are offset by integer deciturns (tenths of a turn) are called zonal times. In the plot above, the zonal times (orange lines) for sunrise (bottom orange line), [solar noon](https://en.wikipedia.org/wiki/Noon#:~:text=Solar%20noon%20is%20the%20time,be%20observed%20using%20a%20sundial.) (middle orange line), and sunset (top orange line) change significantly when the red circle is moved left or right to change the longitude. In contrast, local times (blue lines) and solar times (orange lines) for sunrise (bottom), solar noon (middle), and sunset (top) differ by latitude by not longitude. `</span></span>
<span id="cb227-515"><a href="#cb227-515" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-516"><a href="#cb227-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-519"><a href="#cb227-519" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-520"><a href="#cb227-520" aria-hidden="true" tabindex="-1"></a><span class="in">md`Zonal times can be displayed in decidays with a time zone (${selected}) or without a time zone in other units such as millidays (${Math.floor(selected.slice(0, 6)*100)}) or centimillidays (${Math.floor(selected.slice(0, 6)*10000)}). Centimillidays are similar in duration to heartbeats or musical beats and thus are also known as beats. The local and solar time equivalent of a time zone is the longitude in the same units and at the same level of precision as the time (${String(unix2dote(unix, long2zone(coordinates[0]))[0] % 1 * 10).slice(0, 6)}-${long2turn(coordinates[0], 1).toFixed(4)}). A centimilliturn of longitude [at the equator](https://en.wikipedia.org/wiki/Longitude#Length_of_a_degree_of_longitude) is 400.75017 meters, which is a hundred thousandth (0.001%) of the [Earth's equatorial circumference](https://en.wikipedia.org/wiki/Earth%27s_circumference#:~:text=Measured%20around%20the%20equator%2C%20it%20is%2040%2C075.017%C2%A0km).`</span></span>
<span id="cb227-521"><a href="#cb227-521" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-522"><a href="#cb227-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-525"><a href="#cb227-525" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-526"><a href="#cb227-526" aria-hidden="true" tabindex="-1"></a><span class="in">md`Zonal time behaves differently than local and solar time because it keeps one time per time zone. In contrast, local and solar times vary by longitude, even within the same time zone. For daily use, we only need zonal times, but local and solar times can be useful to understand how clock time compares to the position of the sun.`</span></span>
<span id="cb227-527"><a href="#cb227-527" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-528"><a href="#cb227-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-531"><a href="#cb227-531" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-532"><a href="#cb227-532" aria-hidden="true" tabindex="-1"></a><span class="in">md`Zonal and local times are identical in the middle of time zones and will differ by 5 centidays at time zone borders. Local times use exact floating decimal deciday values to obtain a closer match between Declock noon (.5) and solar noon, the time of day when the sun is in its highest position in the sky. In contrast to zonal time and local time, solar time is based on the sun's [azimuth](https://en.wikipedia.org/wiki/Solar_azimuth_angle#:~:text=horizontal%20angle%20with%20respect%20to%20north) or [hour angle](https://en.wikipedia.org/wiki/Hour_angle#:~:text=an%20expression%20of%20time%2C%20expressed%20in%20angular%20measurement%2C%20usually%20degrees%2C%20from%20solar%20noon) and thus should always be exactly .5 at solar noon. Since solar noon in solar time is expected to be .5 all-year-round, it is not shown in the plot above.`</span></span>
<span id="cb227-533"><a href="#cb227-533" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-534"><a href="#cb227-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-537"><a href="#cb227-537" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-538"><a href="#cb227-538" aria-hidden="true" tabindex="-1"></a><span class="in">md`People living closer to time zone midpoints enjoy a closer match between clock noon and solar noon. This can help them anticipate the amount of sunlight they will receive in their location. Additionally, we can obtain solar time with a compass, a horizontal sundial, or any other means of determining the sun's azimuth. These direct measures of solar azimuth can be used to confirm [solar azimuth calculations](https://observablehq.com/@mourner/sun-position-in-900-bytes).`</span></span>
<span id="cb227-539"><a href="#cb227-539" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-540"><a href="#cb227-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-543"><a href="#cb227-543" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-544"><a href="#cb227-544" aria-hidden="true" tabindex="-1"></a><span class="in">md`To obtain solar time (${tex`ST`}), we express the Sun's azimuth (${tex`\phi`}) or hour angle (${tex`h`}) in turns or days instead of degrees and if necessary shift by half a day so that the Declock solar time is .5 days (12 hours) at solar noon. Solar azimuth measured in the Northern hemisphere (${tex`\phi_N`}) does not require any adjustment, because it is naturally .5 turns (180°) from North, or in other words exactly South, at solar noon. In contrast, ${tex`h`} and Southern hemisphere solar azimuth (${tex`\phi_S`}) are 0 at solar noon. </span></span>
<span id="cb227-545"><a href="#cb227-545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-546"><a href="#cb227-546" aria-hidden="true" tabindex="-1"></a><span class="in">To make ${tex`h`} match ${tex`ST`}, we only need to [add a half-day](https://en.wikipedia.org/wiki/Solar_time#:~:text=the%20hour%20angle%20of%20the%20mean%20sun%20plus%2012%20hours) to ${tex`h`} (${tex`h+.5`}). To obtain ${tex`ST`} from the Southern hemisphere solar azimuth (${tex`\phi_S`}), we need to subtract (${tex`\phi_S`}) from 1.5 (${tex`1.5-\phi_S`}) and then [keep the remainder](https://en.wikipedia.org/wiki/Modulo#:~:text=returns%20the%20remainder%20or%20signed%20remainder%20of%20a%20division) ([%](https://en.wikipedia.org/wiki/Modulo#:~:text=use%20%22%25%22%2C%20%22mod%22%2C%20or%20%22mod%22%20as%20a%20modulo%20or%20remainder%20operator)) after dividing by 1 (${tex`(1.5-\phi_S)\text{ \% }1`}), because the Sun moves clockwise in the Northern hemisphere and [counterclockwise](https://en.wikipedia.org/wiki/Solar_azimuth_angle#:~:text=take%20counterclockwise%20angles%20as%20negative) in the Southern hemisphere.&lt;br&gt;</span></span>
<span id="cb227-547"><a href="#cb227-547" aria-hidden="true" tabindex="-1"></a><span class="in">${tex`ST=\phi_N=h+.5=(1.5-\phi_S)\text{ \% }1`}`</span></span>
<span id="cb227-548"><a href="#cb227-548" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-549"><a href="#cb227-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-552"><a href="#cb227-552" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-553"><a href="#cb227-553" aria-hidden="true" tabindex="-1"></a><span class="in">md`## Declock and UTC time zone comparison`</span></span>
<span id="cb227-554"><a href="#cb227-554" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-555"><a href="#cb227-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-558"><a href="#cb227-558" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-559"><a href="#cb227-559" aria-hidden="true" tabindex="-1"></a><span class="in">md`There are more than 24 UTC time zone offsets, but only 10 Declock time zones. This notebook and the [Decalc notebook](/@dec/alc) have interactive maps that visualize Declock time zones. You can also see the Declock time zones on the world maps at the top of the [Decircle labels](/@dec/irc), [solar terminator](/@dec/solar-terminator) notebook, and the [Sun's view of the Earth](/@dec/the-suns-view-of-the-earth) notebook. On all of these maps, the vertical graticules (lines on a map) separate Declock time zones. If you know your longitude in degrees (°) or centidays (cd), you can look up your Declock time zone in the table below.</span></span>
<span id="cb227-560"><a href="#cb227-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-561"><a href="#cb227-561" aria-hidden="true" tabindex="-1"></a><span class="in">| TZ+ | TZ- | Start (°) | Mid (°) | End (°) | Start (cd) | Mid (cd) | End (cd) |</span></span>
<span id="cb227-562"><a href="#cb227-562" aria-hidden="true" tabindex="-1"></a><span class="in">| --- | --- | ---       | ---     | ---     |   ---      | ---      | ---      |</span></span>
<span id="cb227-563"><a href="#cb227-563" aria-hidden="true" tabindex="-1"></a><span class="in">| 9   | -1  |  -54      | -36     | -18     |   90       | 95       | 100      |</span></span>
<span id="cb227-564"><a href="#cb227-564" aria-hidden="true" tabindex="-1"></a><span class="in">| 8   | -2  |  -90      | -72     | -54     |   80       | 85       | 90       |</span></span>
<span id="cb227-565"><a href="#cb227-565" aria-hidden="true" tabindex="-1"></a><span class="in">| 7   | -3  |  -126     | -108    | -90     |   70       | 75       | 80       |</span></span>
<span id="cb227-566"><a href="#cb227-566" aria-hidden="true" tabindex="-1"></a><span class="in">| 6   | -4  |  -162     | -144    | -126    |   60       | 65       | 70       |</span></span>
<span id="cb227-567"><a href="#cb227-567" aria-hidden="true" tabindex="-1"></a><span class="in">| 5   | -5  |  162      | 180     | -162    |   50       | 55       | 60       |</span></span>
<span id="cb227-568"><a href="#cb227-568" aria-hidden="true" tabindex="-1"></a><span class="in">| 4   | -6  |  126      | 144     | 162     |   40       | 45       | 50       |</span></span>
<span id="cb227-569"><a href="#cb227-569" aria-hidden="true" tabindex="-1"></a><span class="in">| 3   | -7  |  90       | 108     | 126     |   30       | 35       | 40       |</span></span>
<span id="cb227-570"><a href="#cb227-570" aria-hidden="true" tabindex="-1"></a><span class="in">| 2   | -8  |  54       | 72      | 90      |   20       | 25       | 30       |</span></span>
<span id="cb227-571"><a href="#cb227-571" aria-hidden="true" tabindex="-1"></a><span class="in">| 1   | -9  |  18       | 36      | 54      |   10       | 15       | 20       |</span></span>
<span id="cb227-572"><a href="#cb227-572" aria-hidden="true" tabindex="-1"></a><span class="in">| 0   | -10 | -18       | 0       | 18      |   0        | 5        | 10       |`</span></span>
<span id="cb227-573"><a href="#cb227-573" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-574"><a href="#cb227-574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-577"><a href="#cb227-577" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-578"><a href="#cb227-578" aria-hidden="true" tabindex="-1"></a><span class="in">md`Essentially, Declock combines several UTC time zones to form each of its time zones. This is only a rough approximation, because UTC time zones are [a hot mess](https://observablehq.com/@mbostock/time-zones) and Declock time zones are determined solely by longitude (as shown in the table above), not geographic or political boundaries. Nevertheless, a mapping of Dec time zones to UTC time zones can be useful:</span></span>
<span id="cb227-579"><a href="#cb227-579" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-580"><a href="#cb227-580" aria-hidden="true" tabindex="-1"></a><span class="in">| TZ+ | TZ- | UTC | NATO | Abbreviations                                                            |</span></span>
<span id="cb227-581"><a href="#cb227-581" aria-hidden="true" tabindex="-1"></a><span class="in">| --- | --  | --- | ---- | ----                                                                     |</span></span>
<span id="cb227-582"><a href="#cb227-582" aria-hidden="true" tabindex="-1"></a><span class="in">| 0   | -10 | -1  | N    | AZOT, CVT, EGT                                                           |</span></span>
<span id="cb227-583"><a href="#cb227-583" aria-hidden="true" tabindex="-1"></a><span class="in">| 0   | -10 | 0   | Z    | AZOST, EGST, GMT, UTC, WET                                               |</span></span>
<span id="cb227-584"><a href="#cb227-584" aria-hidden="true" tabindex="-1"></a><span class="in">| 0   | -10 | 1   | A    | BST, CET, DFT, IST, MET, WAT, WEST                                       |</span></span>
<span id="cb227-585"><a href="#cb227-585" aria-hidden="true" tabindex="-1"></a><span class="in">| 1   | -9  | 2   | B    | CAT, CEST, EET, HAEC, IST, KALT, MEST, SAST, WAST                        |</span></span>
<span id="cb227-586"><a href="#cb227-586" aria-hidden="true" tabindex="-1"></a><span class="in">| 1   | -9  | 3   | C    | AST, EAT, EEST, FET, IDT, IOT, MSK, SYOT, TRT, VOLT                      |</span></span>
<span id="cb227-587"><a href="#cb227-587" aria-hidden="true" tabindex="-1"></a><span class="in">| 2   | -8  | 4   | D    | AMT, AZT, GET, GST, MUT, RET, SAMT, SCT                                  |</span></span>
<span id="cb227-588"><a href="#cb227-588" aria-hidden="true" tabindex="-1"></a><span class="in">| 2   | -8  | 5   | E    | AQTT, HMT, MAWT, MVT, ORAT, PKT, TFT, TJT, TMT, UZT, YEKT                |</span></span>
<span id="cb227-589"><a href="#cb227-589" aria-hidden="true" tabindex="-1"></a><span class="in">| 2   | -8  | 6   | F    | ALMT, BIOT, BST, BTT, KGT, OMST, VOST                                    |</span></span>
<span id="cb227-590"><a href="#cb227-590" aria-hidden="true" tabindex="-1"></a><span class="in">| 3   | -7  | 7   | G    | CXT, DAVT, HOVT, ICT, KRAT, NOVT, THA, WIB                               |</span></span>
<span id="cb227-591"><a href="#cb227-591" aria-hidden="true" tabindex="-1"></a><span class="in">| 3   | -7  | 8   | H    | ACT, AWST, BNT, CHOT, CST, HKT, HOVST, IRKT, MST, MYT, PHST, PHT, SGT, SST, ULAT, WITA, WST |</span></span>
<span id="cb227-592"><a href="#cb227-592" aria-hidden="true" tabindex="-1"></a><span class="in">| 4   | -6  | 9   | I    | CHOST, JST, KST, PWT, TLT, ULAST, WIT, YAKT                              |</span></span>
<span id="cb227-593"><a href="#cb227-593" aria-hidden="true" tabindex="-1"></a><span class="in">| 4   | -6  | 10  | K    | AEST, CHST, CHUT, DDUT, PGT, VLAT                                        |</span></span>
<span id="cb227-594"><a href="#cb227-594" aria-hidden="true" tabindex="-1"></a><span class="in">| 5   | -5  | 11  | L    | AEDT, BST, KOST, LHST, MIST, NCT, NFT, PONT, SAKT, SBT, SRET, VUT        |</span></span>
<span id="cb227-595"><a href="#cb227-595" aria-hidden="true" tabindex="-1"></a><span class="in">| 5   | -5  | 12  | M    | ANAT, FJT, GILT, MAGT, MHT, NZST, PETT, TVT, WAKT                        |</span></span>
<span id="cb227-596"><a href="#cb227-596" aria-hidden="true" tabindex="-1"></a><span class="in">| 5   | -5  | -12 | Y    | BIT, IDLW                                                                |</span></span>
<span id="cb227-597"><a href="#cb227-597" aria-hidden="true" tabindex="-1"></a><span class="in">| 5   | -5  | -11 | X    | NUT, SST                                                                 |</span></span>
<span id="cb227-598"><a href="#cb227-598" aria-hidden="true" tabindex="-1"></a><span class="in">| 6   | -4  | -10 | W    | CKT, HST, SDT, TAHT                                                      |</span></span>
<span id="cb227-599"><a href="#cb227-599" aria-hidden="true" tabindex="-1"></a><span class="in">| 6   | -4  | -9  | V    | AKST, HDT, GAMT, GIT                                                     |</span></span>
<span id="cb227-600"><a href="#cb227-600" aria-hidden="true" tabindex="-1"></a><span class="in">| 7   | -3  | -8  | U    | AKDT, CIST, PST                                                          |</span></span>
<span id="cb227-601"><a href="#cb227-601" aria-hidden="true" tabindex="-1"></a><span class="in">| 7   | -3  | -7  | T    | MST, PDT                                                                 |</span></span>
<span id="cb227-602"><a href="#cb227-602" aria-hidden="true" tabindex="-1"></a><span class="in">| 7   | -3  | -6  | S    | CST, EAST, GALT, MDT                                                     |</span></span>
<span id="cb227-603"><a href="#cb227-603" aria-hidden="true" tabindex="-1"></a><span class="in">| 8   | -2  | -5  | R    | ACT, CDT, COT, CST, EASST, ECT, EST, PET                                 |</span></span>
<span id="cb227-604"><a href="#cb227-604" aria-hidden="true" tabindex="-1"></a><span class="in">| 8   | -2  | -4  | Q    | AMT, AST, BOT, CDT, CLT, COST, ECT, EDT, FKT, GYT, PYT, VET              |</span></span>
<span id="cb227-605"><a href="#cb227-605" aria-hidden="true" tabindex="-1"></a><span class="in">| 9   | -1  | -3  | P    | ADT, AMST, ART, BRT, CLST, FKST, GFT, PMST, PYST, ROTT, SRT, UYT, WGT    |</span></span>
<span id="cb227-606"><a href="#cb227-606" aria-hidden="true" tabindex="-1"></a><span class="in">| 9   | -1  | -2  | O    | BRST, FNT, GST, PMDT, UYST, WGST                                         |</span></span>
<span id="cb227-607"><a href="#cb227-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-608"><a href="#cb227-608" aria-hidden="true" tabindex="-1"></a><span class="in">The table only includes UTC offsets that have [NATO letter codes](https://en.wikipedia.org/wiki/Military_time_zone#:~:text=a%20standardized%2C%20uniform%20set%20of%20time%20zones%20for%20expressing%20time%20across%20different%20regions%20of%20the%20world%2C%20named%20after%20the%20NATO%20phonetic%20alphabet). Declock considers the M and Y time zones to be identical and puts them both in Zone 5 along with the L and X time zones. According to UTC, the M and Y time zones have the same time of day, but their dates differ by 1 day.😱</span></span>
<span id="cb227-609"><a href="#cb227-609" aria-hidden="true" tabindex="-1"></a><span class="in">Several countries have floating decimal offsets, such as Iran and India, and are thus not represented in this table. Based on longitude, Iran is in Zone 1 and India is in Zone 2, but their UTC offsets are both in Zone 2 during Daylight Savings Time (DST) and in Zone 1 otherwise. I think this is another great example of how Dec is superior to our current time system. Dec has only 10 whole number time zones that never shift but local and solar time essentially offer infinite time zones by providing a different time zone at every longitude.`</span></span>
<span id="cb227-610"><a href="#cb227-610" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-611"><a href="#cb227-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-614"><a href="#cb227-614" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-615"><a href="#cb227-615" aria-hidden="true" tabindex="-1"></a><span class="in">md`## Dec and UTC time zone differences</span></span>
<span id="cb227-616"><a href="#cb227-616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-617"><a href="#cb227-617" aria-hidden="true" tabindex="-1"></a><span class="in">The greatest difference between a Declock time zone and the corresponding UTC time zone is 5 centiday (1.2 hours or 72 minutes). </span></span>
<span id="cb227-618"><a href="#cb227-618" aria-hidden="true" tabindex="-1"></a><span class="in">There is no difference between Zone 0 and UTC±00:00 or between Zone 5 and UTC±12:00.`</span></span>
<span id="cb227-619"><a href="#cb227-619" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-620"><a href="#cb227-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-623"><a href="#cb227-623" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-624"><a href="#cb227-624" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 7 and Central Time</span></span>
<span id="cb227-625"><a href="#cb227-625" aria-hidden="true" tabindex="-1"></a><span class="in">Difference: 5 centiday (72 minutes)`</span></span>
<span id="cb227-626"><a href="#cb227-626" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-627"><a href="#cb227-627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-630"><a href="#cb227-630" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-631"><a href="#cb227-631" aria-hidden="true" tabindex="-1"></a><span class="in">now.toLocaleTimeString("en-US", {timeZone: "Etc/GMT+6", hour12: false});</span></span>
<span id="cb227-632"><a href="#cb227-632" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-633"><a href="#cb227-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-636"><a href="#cb227-636" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-637"><a href="#cb227-637" aria-hidden="true" tabindex="-1"></a><span class="in">`${Math.floor(zone7hour).toString().padStart(2, "0")}:${Math.floor(zone7min).toString().padStart(2, "0")}:${Math.floor(zone7sec).toString().padStart(2, "0")}`</span></span>
<span id="cb227-638"><a href="#cb227-638" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-639"><a href="#cb227-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-642"><a href="#cb227-642" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-643"><a href="#cb227-643" aria-hidden="true" tabindex="-1"></a><span class="in">md`The difference between Central Time and Zone 7 is the highest possible: 5 centiday (72 minutes). In Dec, longitudes are measured starting from [Meridian 0](https://en.wikipedia.org/wiki/18th_meridian_west#:~:text=a%20line%20of%20longitude%20that%20extends%20from%20the%20North%20Pole%20across%20the%20Arctic%20Ocean%2C%20Greenland%2C%20Iceland%2C%20the%20Atlantic%20Ocean%2C%20the%20Canary%20Islands%2C%20the%20Southern%20Ocean%2C%20and%20Antarctica%20to%20the%20South%20Pole), the start of Zone 0 (-18°).  Meridian 0 is both the [Prime Meridian](https://en.wikipedia.org/wiki/Prime_meridian) and the [International Date Line](https://en.wikipedia.org/wiki/International_Date_Line#:~:text=the%20line%20between%20the%20South%20and%20North%20Poles%20that%20is%20the%20boundary%20between%20one%20calendar%20day%20and%20the%20next) in Dec. If we created a new Declock time zone called Zone 75 that started in between Zone 7 and Zone 8 on [Meridian 75](https://en.wikipedia.org/wiki/108th_meridian_west#:~:text=a%20line%20of%20longitude%20that%20extends%20from%20the%20North%20Pole%20across%20the%20Arctic%20Ocean%2C%20North%20America%2C%20the%20Pacific%20Ocean%2C%20the%20Southern%20Ocean%2C%20and%20Antarctica%20to%20the%20South%20Pole) (-108°), it would match Central Time exactly.`</span></span>
<span id="cb227-644"><a href="#cb227-644" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-645"><a href="#cb227-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-648"><a href="#cb227-648" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-649"><a href="#cb227-649" aria-hidden="true" tabindex="-1"></a><span class="in">zone75hour = (zone0 + .75) % 1 * 24</span></span>
<span id="cb227-650"><a href="#cb227-650" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-651"><a href="#cb227-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-654"><a href="#cb227-654" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-655"><a href="#cb227-655" aria-hidden="true" tabindex="-1"></a><span class="in">zone75min = zone75hour % 1 * 60</span></span>
<span id="cb227-656"><a href="#cb227-656" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-657"><a href="#cb227-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-660"><a href="#cb227-660" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-661"><a href="#cb227-661" aria-hidden="true" tabindex="-1"></a><span class="in">zone75sec = zone75min % 1 * 60</span></span>
<span id="cb227-662"><a href="#cb227-662" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-663"><a href="#cb227-663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-666"><a href="#cb227-666" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-667"><a href="#cb227-667" aria-hidden="true" tabindex="-1"></a><span class="in">`${Math.floor(zone75hour).toString().padStart(2, "0")}:${Math.floor(zone75min).toString().padStart(2, "0")}:${Math.floor(zone75sec).toString().padStart(2, "0")}`</span></span>
<span id="cb227-668"><a href="#cb227-668" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-669"><a href="#cb227-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-672"><a href="#cb227-672" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-673"><a href="#cb227-673" aria-hidden="true" tabindex="-1"></a><span class="in">now.toLocaleTimeString("en-US", {timeZone: "America/Mexico_City", hour12: false});</span></span>
<span id="cb227-674"><a href="#cb227-674" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-675"><a href="#cb227-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-678"><a href="#cb227-678" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-679"><a href="#cb227-679" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 8 and Eastern Time</span></span>
<span id="cb227-680"><a href="#cb227-680" aria-hidden="true" tabindex="-1"></a><span class="in">Difference: ${tex`.8\overline3`} centiday (12 minutes)`</span></span>
<span id="cb227-681"><a href="#cb227-681" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-682"><a href="#cb227-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-685"><a href="#cb227-685" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-686"><a href="#cb227-686" aria-hidden="true" tabindex="-1"></a><span class="in">now.toLocaleTimeString("en-US", {timeZone: "EST", hour12: false});</span></span>
<span id="cb227-687"><a href="#cb227-687" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-688"><a href="#cb227-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-691"><a href="#cb227-691" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-692"><a href="#cb227-692" aria-hidden="true" tabindex="-1"></a><span class="in">`${Math.floor(zone8hour).toString().padStart(2, "0")}:${Math.floor(zone8min).toString().padStart(2, "0")}:${Math.floor(zone8sec).toString().padStart(2, "0")}`</span></span>
<span id="cb227-693"><a href="#cb227-693" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-694"><a href="#cb227-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-697"><a href="#cb227-697" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-698"><a href="#cb227-698" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 0 and UTC+00:00</span></span>
<span id="cb227-699"><a href="#cb227-699" aria-hidden="true" tabindex="-1"></a><span class="in">Difference: None!`</span></span>
<span id="cb227-700"><a href="#cb227-700" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-701"><a href="#cb227-701" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-704"><a href="#cb227-704" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-705"><a href="#cb227-705" aria-hidden="true" tabindex="-1"></a><span class="in">now.toLocaleTimeString("en-US", {timeZone: "Etc/UTC", hour12: false});</span></span>
<span id="cb227-706"><a href="#cb227-706" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-707"><a href="#cb227-707" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-710"><a href="#cb227-710" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-711"><a href="#cb227-711" aria-hidden="true" tabindex="-1"></a><span class="in">`${Math.floor(zone0hour).toString().padStart(2, "0")}:${Math.floor(zone0min).toString().padStart(2, "0")}:${Math.floor(zone0sec).toString().padStart(2, "0")}`</span></span>
<span id="cb227-712"><a href="#cb227-712" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-713"><a href="#cb227-713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-716"><a href="#cb227-716" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-717"><a href="#cb227-717" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 5 and UTC±12:00</span></span>
<span id="cb227-718"><a href="#cb227-718" aria-hidden="true" tabindex="-1"></a><span class="in">Difference: None!`</span></span>
<span id="cb227-719"><a href="#cb227-719" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-720"><a href="#cb227-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-723"><a href="#cb227-723" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-724"><a href="#cb227-724" aria-hidden="true" tabindex="-1"></a><span class="in">now.toLocaleTimeString("en-US", {timeZone: "Etc/GMT+12", hour12: false});</span></span>
<span id="cb227-725"><a href="#cb227-725" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-726"><a href="#cb227-726" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-729"><a href="#cb227-729" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-730"><a href="#cb227-730" aria-hidden="true" tabindex="-1"></a><span class="in">now.toLocaleTimeString("en-US", {timeZone: "Etc/GMT-12", hour12: false});</span></span>
<span id="cb227-731"><a href="#cb227-731" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-732"><a href="#cb227-732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-735"><a href="#cb227-735" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-736"><a href="#cb227-736" aria-hidden="true" tabindex="-1"></a><span class="in">`${Math.floor(zone5hour).toString().padStart(2, "0")}:${Math.floor(zone5min).toString().padStart(2, "0")}:${Math.floor(zone5sec).toString().padStart(2, "0")}`</span></span>
<span id="cb227-737"><a href="#cb227-737" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-738"><a href="#cb227-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-741"><a href="#cb227-741" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-742"><a href="#cb227-742" aria-hidden="true" tabindex="-1"></a><span class="in">md`Declock time zones go in increments of</span></span>
<span id="cb227-743"><a href="#cb227-743" aria-hidden="true" tabindex="-1"></a><span class="in">- 1 deciday</span></span>
<span id="cb227-744"><a href="#cb227-744" aria-hidden="true" tabindex="-1"></a><span class="in">- 36 degrees</span></span>
<span id="cb227-745"><a href="#cb227-745" aria-hidden="true" tabindex="-1"></a><span class="in">- 1.2 (6/5) hours</span></span>
<span id="cb227-746"><a href="#cb227-746" aria-hidden="true" tabindex="-1"></a><span class="in">- 72 minutes</span></span>
<span id="cb227-747"><a href="#cb227-747" aria-hidden="true" tabindex="-1"></a><span class="in">- 4320 seconds</span></span>
<span id="cb227-748"><a href="#cb227-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-749"><a href="#cb227-749" aria-hidden="true" tabindex="-1"></a><span class="in">If we split each of these time zones in half, we would have 21 time zones (Zone 00 to Zone 95) that went in increments of</span></span>
<span id="cb227-750"><a href="#cb227-750" aria-hidden="true" tabindex="-1"></a><span class="in">- 5 centiday</span></span>
<span id="cb227-751"><a href="#cb227-751" aria-hidden="true" tabindex="-1"></a><span class="in">- 18 degrees</span></span>
<span id="cb227-752"><a href="#cb227-752" aria-hidden="true" tabindex="-1"></a><span class="in">- .6 (3/5) hours</span></span>
<span id="cb227-753"><a href="#cb227-753" aria-hidden="true" tabindex="-1"></a><span class="in">- 36 minutes</span></span>
<span id="cb227-754"><a href="#cb227-754" aria-hidden="true" tabindex="-1"></a><span class="in">- 2160 seconds</span></span>
<span id="cb227-755"><a href="#cb227-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-756"><a href="#cb227-756" aria-hidden="true" tabindex="-1"></a><span class="in">This would be close to the number of UTC offsets, but probably not worth the trouble. That being said, if someone reports their time as 25.00-25, quarterday (6AM) in Zone 25, we will know that this is the same as 5.00-5, noon (12PM) in Zone 5.`</span></span>
<span id="cb227-757"><a href="#cb227-757" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-758"><a href="#cb227-758" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-761"><a href="#cb227-761" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-762"><a href="#cb227-762" aria-hidden="true" tabindex="-1"></a><span class="in">md`Apart from different time zones, Declock times can differ from UTC times because of DST. Declock times never shift! The standard DST practice of switching to a different time zone (e.g. EST to EDT) for certain parts of the year (e.g Day 9 to Day 277) could work for Declock, but that goes against the simplicity of determining time zones solely by longitude.</span></span>
<span id="cb227-763"><a href="#cb227-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-764"><a href="#cb227-764" aria-hidden="true" tabindex="-1"></a><span class="in">Of course, a country can decide to only have 1 time zone within its borders (China does this with UTC time zones). In fact, it would be OK to have anyone use whatever time zone they want as long as times are always provided with time zones, because it is easy to convert times across time zones: just increment or decrement the one-digit time zone along with the first digit of the time. </span></span>
<span id="cb227-765"><a href="#cb227-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-766"><a href="#cb227-766" aria-hidden="true" tabindex="-1"></a><span class="in">When it is midday (.5 or 12pm) in Alaska and Hawaii, it is midnight (.0 or 12AM) in  Ukraine and Turkey: .5.0 = .0.5</span></span>
<span id="cb227-767"><a href="#cb227-767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-768"><a href="#cb227-768" aria-hidden="true" tabindex="-1"></a><span class="in">When it is quadrans (.25 or 6AM) in England, it is dodrans (.75 or 6PM) in New Zealand: .25.4 = .75.9`</span></span>
<span id="cb227-769"><a href="#cb227-769" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-770"><a href="#cb227-770" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-773"><a href="#cb227-773" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-774"><a href="#cb227-774" aria-hidden="true" tabindex="-1"></a><span class="in">md`## Declock Time Zone Conversion`</span></span>
<span id="cb227-775"><a href="#cb227-775" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-776"><a href="#cb227-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-779"><a href="#cb227-779" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-780"><a href="#cb227-780" aria-hidden="true" tabindex="-1"></a><span class="in">md`The `unix2dote` function below determined your time zone to be Zone ${local[1]} based on the [UTC offset](https://en.wikipedia.org/wiki/UTC_offset#:~:text=difference%20in%20hours%20and%20minutes%20between%20Coordinated%20Universal%20Time%20%28UTC%29%20and%20local%20solar%20time) it obtained for your web browser.`</span></span>
<span id="cb227-781"><a href="#cb227-781" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-782"><a href="#cb227-782" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-785"><a href="#cb227-785" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-786"><a href="#cb227-786" aria-hidden="true" tabindex="-1"></a><span class="in">local = unix2dote(unix)</span></span>
<span id="cb227-787"><a href="#cb227-787" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-788"><a href="#cb227-788" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-791"><a href="#cb227-791" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-792"><a href="#cb227-792" aria-hidden="true" tabindex="-1"></a><span class="in">function unix2dote(unix, zone, offset = 719468) {</span></span>
<span id="cb227-793"><a href="#cb227-793" aria-hidden="true" tabindex="-1"></a><span class="in">  return [</span></span>
<span id="cb227-794"><a href="#cb227-794" aria-hidden="true" tabindex="-1"></a><span class="in">    (unix ?? Date.now()) / 86400000</span></span>
<span id="cb227-795"><a href="#cb227-795" aria-hidden="true" tabindex="-1"></a><span class="in">    + (zone = zone ?? (10 - Math.round(</span></span>
<span id="cb227-796"><a href="#cb227-796" aria-hidden="true" tabindex="-1"></a><span class="in">        (new Date).getTimezoneOffset() / 144)) % 10</span></span>
<span id="cb227-797"><a href="#cb227-797" aria-hidden="true" tabindex="-1"></a><span class="in">      ) / 10 + offset, zone]</span></span>
<span id="cb227-798"><a href="#cb227-798" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-799"><a href="#cb227-799" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-800"><a href="#cb227-800" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-803"><a href="#cb227-803" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-804"><a href="#cb227-804" aria-hidden="true" tabindex="-1"></a><span class="in">md`To convert to other a time to another time zone, add or subtract multiples of a deciday (a tenth of a day). This addition or subtraction is the same as using a time zone offset. Dec time zone numbers work like [array indexes](https://en.wikipedia.org/wiki/Array_%28data_structure%29#Element_identifier_and_addressing_formulas:~:text=The%20first%20element%20of%20the%20array%20is%20indexed%20by%20subscript%20of%200) and time zone offsets. We can switch between positive and negative indexes by adding 10 to positive indexes and subtracting 10 from negative indexes. We can add a positive or a negative index to Zone 0 time and obtain the time in the target time zone. Adding positive offsets always works, but adding a negative offset to a date with a time will give us the correct time on yesterday's date rather than today's date.`</span></span>
<span id="cb227-805"><a href="#cb227-805" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-806"><a href="#cb227-806" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-809"><a href="#cb227-809" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-810"><a href="#cb227-810" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 1 time`</span></span>
<span id="cb227-811"><a href="#cb227-811" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-812"><a href="#cb227-812" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-815"><a href="#cb227-815" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-816"><a href="#cb227-816" aria-hidden="true" tabindex="-1"></a><span class="in">zone1 = zone0 + .1</span></span>
<span id="cb227-817"><a href="#cb227-817" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-818"><a href="#cb227-818" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-821"><a href="#cb227-821" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-822"><a href="#cb227-822" aria-hidden="true" tabindex="-1"></a><span class="in">zone1timeNum = zone1 % 1</span></span>
<span id="cb227-823"><a href="#cb227-823" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-824"><a href="#cb227-824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-827"><a href="#cb227-827" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-828"><a href="#cb227-828" aria-hidden="true" tabindex="-1"></a><span class="in">zone1timeStr = zone1timeNum.toString().slice(2, 7)</span></span>
<span id="cb227-829"><a href="#cb227-829" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-830"><a href="#cb227-830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-833"><a href="#cb227-833" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-834"><a href="#cb227-834" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 2 time`</span></span>
<span id="cb227-835"><a href="#cb227-835" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-836"><a href="#cb227-836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-839"><a href="#cb227-839" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-840"><a href="#cb227-840" aria-hidden="true" tabindex="-1"></a><span class="in">zone2 = zone0 + .2</span></span>
<span id="cb227-841"><a href="#cb227-841" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-842"><a href="#cb227-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-845"><a href="#cb227-845" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-846"><a href="#cb227-846" aria-hidden="true" tabindex="-1"></a><span class="in">zone2timeNum = zone2 % 1</span></span>
<span id="cb227-847"><a href="#cb227-847" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-848"><a href="#cb227-848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-851"><a href="#cb227-851" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-852"><a href="#cb227-852" aria-hidden="true" tabindex="-1"></a><span class="in">zone2timeStr = zone2timeNum.toString().slice(2, 7)</span></span>
<span id="cb227-853"><a href="#cb227-853" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-854"><a href="#cb227-854" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-857"><a href="#cb227-857" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-858"><a href="#cb227-858" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 3 time`</span></span>
<span id="cb227-859"><a href="#cb227-859" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-860"><a href="#cb227-860" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-863"><a href="#cb227-863" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-864"><a href="#cb227-864" aria-hidden="true" tabindex="-1"></a><span class="in">zone3 = zone0 + .3</span></span>
<span id="cb227-865"><a href="#cb227-865" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-866"><a href="#cb227-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-869"><a href="#cb227-869" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-870"><a href="#cb227-870" aria-hidden="true" tabindex="-1"></a><span class="in">zone3timeNum = zone3 % 1</span></span>
<span id="cb227-871"><a href="#cb227-871" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-872"><a href="#cb227-872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-875"><a href="#cb227-875" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-876"><a href="#cb227-876" aria-hidden="true" tabindex="-1"></a><span class="in">zone3timeStr = zone3timeNum.toString().slice(2, 7)</span></span>
<span id="cb227-877"><a href="#cb227-877" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-878"><a href="#cb227-878" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-881"><a href="#cb227-881" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-882"><a href="#cb227-882" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 4 time`</span></span>
<span id="cb227-883"><a href="#cb227-883" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-884"><a href="#cb227-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-887"><a href="#cb227-887" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-888"><a href="#cb227-888" aria-hidden="true" tabindex="-1"></a><span class="in">zone4 = zone0 + .4</span></span>
<span id="cb227-889"><a href="#cb227-889" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-890"><a href="#cb227-890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-893"><a href="#cb227-893" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-894"><a href="#cb227-894" aria-hidden="true" tabindex="-1"></a><span class="in">zone4timeNum = zone4 % 1</span></span>
<span id="cb227-895"><a href="#cb227-895" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-896"><a href="#cb227-896" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-899"><a href="#cb227-899" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-900"><a href="#cb227-900" aria-hidden="true" tabindex="-1"></a><span class="in">zone4timeStr = zone4timeNum.toString().slice(2, 7)</span></span>
<span id="cb227-901"><a href="#cb227-901" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-902"><a href="#cb227-902" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-905"><a href="#cb227-905" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-906"><a href="#cb227-906" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 5 time`</span></span>
<span id="cb227-907"><a href="#cb227-907" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-908"><a href="#cb227-908" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-911"><a href="#cb227-911" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-912"><a href="#cb227-912" aria-hidden="true" tabindex="-1"></a><span class="in">zone5 = zone0 + .5</span></span>
<span id="cb227-913"><a href="#cb227-913" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-914"><a href="#cb227-914" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-917"><a href="#cb227-917" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-918"><a href="#cb227-918" aria-hidden="true" tabindex="-1"></a><span class="in">zone5timeNum = zone5 % 1</span></span>
<span id="cb227-919"><a href="#cb227-919" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-920"><a href="#cb227-920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-923"><a href="#cb227-923" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-924"><a href="#cb227-924" aria-hidden="true" tabindex="-1"></a><span class="in">zone5timeStr = zone5timeNum.toString().slice(2, 7)</span></span>
<span id="cb227-925"><a href="#cb227-925" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-926"><a href="#cb227-926" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-929"><a href="#cb227-929" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-930"><a href="#cb227-930" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 6 time`</span></span>
<span id="cb227-931"><a href="#cb227-931" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-932"><a href="#cb227-932" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-935"><a href="#cb227-935" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-936"><a href="#cb227-936" aria-hidden="true" tabindex="-1"></a><span class="in">zone6 = zone0 + .6</span></span>
<span id="cb227-937"><a href="#cb227-937" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-938"><a href="#cb227-938" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-941"><a href="#cb227-941" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-942"><a href="#cb227-942" aria-hidden="true" tabindex="-1"></a><span class="in">zone6timeNum = zone5 % 1</span></span>
<span id="cb227-943"><a href="#cb227-943" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-944"><a href="#cb227-944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-947"><a href="#cb227-947" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-948"><a href="#cb227-948" aria-hidden="true" tabindex="-1"></a><span class="in">zone6timeStr = zone6timeNum.toString().slice(2, 7)</span></span>
<span id="cb227-949"><a href="#cb227-949" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-950"><a href="#cb227-950" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-953"><a href="#cb227-953" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-954"><a href="#cb227-954" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 7 time`</span></span>
<span id="cb227-955"><a href="#cb227-955" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-956"><a href="#cb227-956" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-959"><a href="#cb227-959" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-960"><a href="#cb227-960" aria-hidden="true" tabindex="-1"></a><span class="in">zone7 = zone0 + .7</span></span>
<span id="cb227-961"><a href="#cb227-961" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-962"><a href="#cb227-962" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-965"><a href="#cb227-965" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-966"><a href="#cb227-966" aria-hidden="true" tabindex="-1"></a><span class="in">zone7timeNum = zone7 % 1</span></span>
<span id="cb227-967"><a href="#cb227-967" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-968"><a href="#cb227-968" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-971"><a href="#cb227-971" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-972"><a href="#cb227-972" aria-hidden="true" tabindex="-1"></a><span class="in">zone7timeStr = zone7timeNum.toString().slice(2, 7)</span></span>
<span id="cb227-973"><a href="#cb227-973" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-974"><a href="#cb227-974" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-977"><a href="#cb227-977" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-978"><a href="#cb227-978" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 8 time`</span></span>
<span id="cb227-979"><a href="#cb227-979" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-980"><a href="#cb227-980" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-983"><a href="#cb227-983" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-984"><a href="#cb227-984" aria-hidden="true" tabindex="-1"></a><span class="in">zone8 = zone0 + .8</span></span>
<span id="cb227-985"><a href="#cb227-985" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-986"><a href="#cb227-986" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-989"><a href="#cb227-989" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-990"><a href="#cb227-990" aria-hidden="true" tabindex="-1"></a><span class="in">zone8timeNum = zone8 % 1</span></span>
<span id="cb227-991"><a href="#cb227-991" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-992"><a href="#cb227-992" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-995"><a href="#cb227-995" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-996"><a href="#cb227-996" aria-hidden="true" tabindex="-1"></a><span class="in">zone8timeStr = zone8timeNum.toString().slice(2, 7)</span></span>
<span id="cb227-997"><a href="#cb227-997" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-998"><a href="#cb227-998" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1001"><a href="#cb227-1001" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1002"><a href="#cb227-1002" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 9 time`</span></span>
<span id="cb227-1003"><a href="#cb227-1003" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1004"><a href="#cb227-1004" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1007"><a href="#cb227-1007" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1008"><a href="#cb227-1008" aria-hidden="true" tabindex="-1"></a><span class="in">zone9 = zone0 + .9</span></span>
<span id="cb227-1009"><a href="#cb227-1009" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1010"><a href="#cb227-1010" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1013"><a href="#cb227-1013" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1014"><a href="#cb227-1014" aria-hidden="true" tabindex="-1"></a><span class="in">zone9timeNum = zone9 % 1</span></span>
<span id="cb227-1015"><a href="#cb227-1015" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1016"><a href="#cb227-1016" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1019"><a href="#cb227-1019" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1020"><a href="#cb227-1020" aria-hidden="true" tabindex="-1"></a><span class="in">zone9timeStr = zone9timeNum.toString().slice(2, 7)</span></span>
<span id="cb227-1021"><a href="#cb227-1021" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1022"><a href="#cb227-1022" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1025"><a href="#cb227-1025" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1026"><a href="#cb227-1026" aria-hidden="true" tabindex="-1"></a><span class="in">md`## Calculate Declock times from UNIX time`</span></span>
<span id="cb227-1027"><a href="#cb227-1027" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1028"><a href="#cb227-1028" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1031"><a href="#cb227-1031" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1032"><a href="#cb227-1032" aria-hidden="true" tabindex="-1"></a><span class="in">md`Obtain UNIX time.`</span></span>
<span id="cb227-1033"><a href="#cb227-1033" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1034"><a href="#cb227-1034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1037"><a href="#cb227-1037" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1038"><a href="#cb227-1038" aria-hidden="true" tabindex="-1"></a><span class="in">unix = {</span></span>
<span id="cb227-1039"><a href="#cb227-1039" aria-hidden="true" tabindex="-1"></a><span class="in">  while(true) {</span></span>
<span id="cb227-1040"><a href="#cb227-1040" aria-hidden="true" tabindex="-1"></a><span class="in">    yield Date.now();</span></span>
<span id="cb227-1041"><a href="#cb227-1041" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-1042"><a href="#cb227-1042" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1043"><a href="#cb227-1043" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1044"><a href="#cb227-1044" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1047"><a href="#cb227-1047" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1048"><a href="#cb227-1048" aria-hidden="true" tabindex="-1"></a><span class="in">md`To convert [UNIX time](https://en.wikipedia.org/wiki/Unix_time#:~:text=a%20date%20and%20time%20representation%20widely%20used%20in%20computing) to Declock time, divide by 86400000 and take the number after the decimal. The resulting time is in Declock Time Zone 0, which has the same midpoint as UTC (0 degrees). The Dec calendar (Decalendar) version of the UNIX [epoch](https://en.wikipedia.org/wiki/Epoch_%28computing%29#:~:text=a%20fixed%20date%20and%20time%20used%20as%20a%20reference%20from%20which%20a%20computer%20measures%20system%20time.) is Year 1969 Day 306 or `1969+3060.00000-4` in the `year+dday.dday-z` timestamp format. The number shown below is the number of days since the UNIX epoch. Cool but useless fact: the UNIX epoch in Zone 6 decimal years is `1969.84`!`</span></span>
<span id="cb227-1049"><a href="#cb227-1049" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1050"><a href="#cb227-1050" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1053"><a href="#cb227-1053" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1054"><a href="#cb227-1054" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Zone 0 time`</span></span>
<span id="cb227-1055"><a href="#cb227-1055" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1056"><a href="#cb227-1056" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1059"><a href="#cb227-1059" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1060"><a href="#cb227-1060" aria-hidden="true" tabindex="-1"></a><span class="in">zone0 = unix / 86400000</span></span>
<span id="cb227-1061"><a href="#cb227-1061" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1062"><a href="#cb227-1062" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1065"><a href="#cb227-1065" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1066"><a href="#cb227-1066" aria-hidden="true" tabindex="-1"></a><span class="in">zone0timeNum = zone0 % 1</span></span>
<span id="cb227-1067"><a href="#cb227-1067" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1068"><a href="#cb227-1068" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1071"><a href="#cb227-1071" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1072"><a href="#cb227-1072" aria-hidden="true" tabindex="-1"></a><span class="in">zone0timeStr = zone0timeNum.toString().slice(2, 7)</span></span>
<span id="cb227-1073"><a href="#cb227-1073" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1074"><a href="#cb227-1074" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1077"><a href="#cb227-1077" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1078"><a href="#cb227-1078" aria-hidden="true" tabindex="-1"></a><span class="in">md`This simple calculation is all it takes to obtain the time in Declock Time Zone 0!`</span></span>
<span id="cb227-1079"><a href="#cb227-1079" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1080"><a href="#cb227-1080" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1083"><a href="#cb227-1083" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1084"><a href="#cb227-1084" aria-hidden="true" tabindex="-1"></a><span class="in">md`## Convert HH:MM:SS time to Declock time`</span></span>
<span id="cb227-1085"><a href="#cb227-1085" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1086"><a href="#cb227-1086" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1089"><a href="#cb227-1089" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1090"><a href="#cb227-1090" aria-hidden="true" tabindex="-1"></a><span class="in">md`${tex`declock = \frac{hour}{24} + \frac{minute}{1440} + \frac{second}{86400}`}`</span></span>
<span id="cb227-1091"><a href="#cb227-1091" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1092"><a href="#cb227-1092" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1095"><a href="#cb227-1095" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1096"><a href="#cb227-1096" aria-hidden="true" tabindex="-1"></a><span class="in">now = {</span></span>
<span id="cb227-1097"><a href="#cb227-1097" aria-hidden="true" tabindex="-1"></a><span class="in">  while(true) {</span></span>
<span id="cb227-1098"><a href="#cb227-1098" aria-hidden="true" tabindex="-1"></a><span class="in">    yield new Date();</span></span>
<span id="cb227-1099"><a href="#cb227-1099" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-1100"><a href="#cb227-1100" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1101"><a href="#cb227-1101" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1102"><a href="#cb227-1102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1105"><a href="#cb227-1105" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1106"><a href="#cb227-1106" aria-hidden="true" tabindex="-1"></a><span class="in">now.getUTCHours() / 24 + now.getUTCMinutes() / 1440 + now.getUTCSeconds() / 86400 + now.getUTCMilliseconds() / 86400000</span></span>
<span id="cb227-1107"><a href="#cb227-1107" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1108"><a href="#cb227-1108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1111"><a href="#cb227-1111" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1112"><a href="#cb227-1112" aria-hidden="true" tabindex="-1"></a><span class="in">zone0timeNum</span></span>
<span id="cb227-1113"><a href="#cb227-1113" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1114"><a href="#cb227-1114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1117"><a href="#cb227-1117" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1118"><a href="#cb227-1118" aria-hidden="true" tabindex="-1"></a><span class="in">md`## Convert Declock time to HH:MM:SS time`</span></span>
<span id="cb227-1119"><a href="#cb227-1119" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1120"><a href="#cb227-1120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1123"><a href="#cb227-1123" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1124"><a href="#cb227-1124" aria-hidden="true" tabindex="-1"></a><span class="in">md`${tex`hour = declock \cdot 24`}`</span></span>
<span id="cb227-1125"><a href="#cb227-1125" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1126"><a href="#cb227-1126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1129"><a href="#cb227-1129" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1130"><a href="#cb227-1130" aria-hidden="true" tabindex="-1"></a><span class="in">md`</span></span>
<span id="cb227-1131"><a href="#cb227-1131" aria-hidden="true" tabindex="-1"></a><span class="in">${tex`minute = \frac{hour - \lfloor hour \rfloor}{60}`}</span></span>
<span id="cb227-1132"><a href="#cb227-1132" aria-hidden="true" tabindex="-1"></a><span class="in">`</span></span>
<span id="cb227-1133"><a href="#cb227-1133" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1134"><a href="#cb227-1134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1137"><a href="#cb227-1137" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1138"><a href="#cb227-1138" aria-hidden="true" tabindex="-1"></a><span class="in">md`${tex`second = \frac{minute - \lfloor minute \rfloor}{60}`}`</span></span>
<span id="cb227-1139"><a href="#cb227-1139" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1140"><a href="#cb227-1140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1143"><a href="#cb227-1143" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1144"><a href="#cb227-1144" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Hours`</span></span>
<span id="cb227-1145"><a href="#cb227-1145" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1146"><a href="#cb227-1146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1149"><a href="#cb227-1149" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1150"><a href="#cb227-1150" aria-hidden="true" tabindex="-1"></a><span class="in">zone0hour = zone0timeNum * 24</span></span>
<span id="cb227-1151"><a href="#cb227-1151" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1152"><a href="#cb227-1152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1155"><a href="#cb227-1155" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1156"><a href="#cb227-1156" aria-hidden="true" tabindex="-1"></a><span class="in">zone1hour = zone1timeNum * 24</span></span>
<span id="cb227-1157"><a href="#cb227-1157" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1158"><a href="#cb227-1158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1161"><a href="#cb227-1161" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1162"><a href="#cb227-1162" aria-hidden="true" tabindex="-1"></a><span class="in">zone2hour = zone2timeNum * 24</span></span>
<span id="cb227-1163"><a href="#cb227-1163" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1164"><a href="#cb227-1164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1167"><a href="#cb227-1167" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1168"><a href="#cb227-1168" aria-hidden="true" tabindex="-1"></a><span class="in">zone3hour = zone3timeNum * 24</span></span>
<span id="cb227-1169"><a href="#cb227-1169" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1170"><a href="#cb227-1170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1173"><a href="#cb227-1173" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1174"><a href="#cb227-1174" aria-hidden="true" tabindex="-1"></a><span class="in">zone4hour = zone4timeNum * 24</span></span>
<span id="cb227-1175"><a href="#cb227-1175" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1176"><a href="#cb227-1176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1179"><a href="#cb227-1179" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1180"><a href="#cb227-1180" aria-hidden="true" tabindex="-1"></a><span class="in">zone5hour = zone5timeNum * 24</span></span>
<span id="cb227-1181"><a href="#cb227-1181" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1182"><a href="#cb227-1182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1185"><a href="#cb227-1185" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1186"><a href="#cb227-1186" aria-hidden="true" tabindex="-1"></a><span class="in">zone6hour = zone6timeNum * 24</span></span>
<span id="cb227-1187"><a href="#cb227-1187" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1188"><a href="#cb227-1188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1191"><a href="#cb227-1191" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1192"><a href="#cb227-1192" aria-hidden="true" tabindex="-1"></a><span class="in">zone7hour = zone7timeNum * 24</span></span>
<span id="cb227-1193"><a href="#cb227-1193" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1194"><a href="#cb227-1194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1197"><a href="#cb227-1197" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1198"><a href="#cb227-1198" aria-hidden="true" tabindex="-1"></a><span class="in">zone8hour = zone8timeNum * 24</span></span>
<span id="cb227-1199"><a href="#cb227-1199" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1200"><a href="#cb227-1200" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1203"><a href="#cb227-1203" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1204"><a href="#cb227-1204" aria-hidden="true" tabindex="-1"></a><span class="in">zone9hour = zone9timeNum * 24</span></span>
<span id="cb227-1205"><a href="#cb227-1205" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1206"><a href="#cb227-1206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1209"><a href="#cb227-1209" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1210"><a href="#cb227-1210" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Minutes`</span></span>
<span id="cb227-1211"><a href="#cb227-1211" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1212"><a href="#cb227-1212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1215"><a href="#cb227-1215" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1216"><a href="#cb227-1216" aria-hidden="true" tabindex="-1"></a><span class="in">zone0min = zone0hour % 1 * 60</span></span>
<span id="cb227-1217"><a href="#cb227-1217" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1218"><a href="#cb227-1218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1221"><a href="#cb227-1221" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1222"><a href="#cb227-1222" aria-hidden="true" tabindex="-1"></a><span class="in">zone1min = zone1hour % 1 * 60</span></span>
<span id="cb227-1223"><a href="#cb227-1223" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1224"><a href="#cb227-1224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1227"><a href="#cb227-1227" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1228"><a href="#cb227-1228" aria-hidden="true" tabindex="-1"></a><span class="in">zone2min = zone2hour % 1 * 60</span></span>
<span id="cb227-1229"><a href="#cb227-1229" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1230"><a href="#cb227-1230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1233"><a href="#cb227-1233" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1234"><a href="#cb227-1234" aria-hidden="true" tabindex="-1"></a><span class="in">zone3min = zone3hour % 1 * 60</span></span>
<span id="cb227-1235"><a href="#cb227-1235" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1236"><a href="#cb227-1236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1239"><a href="#cb227-1239" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1240"><a href="#cb227-1240" aria-hidden="true" tabindex="-1"></a><span class="in">zone4min = zone4hour % 1 * 60</span></span>
<span id="cb227-1241"><a href="#cb227-1241" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1242"><a href="#cb227-1242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1245"><a href="#cb227-1245" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1246"><a href="#cb227-1246" aria-hidden="true" tabindex="-1"></a><span class="in">zone5min = zone5hour % 1 * 60</span></span>
<span id="cb227-1247"><a href="#cb227-1247" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1248"><a href="#cb227-1248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1251"><a href="#cb227-1251" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1252"><a href="#cb227-1252" aria-hidden="true" tabindex="-1"></a><span class="in">zone6min = zone6hour % 1 * 60</span></span>
<span id="cb227-1253"><a href="#cb227-1253" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1254"><a href="#cb227-1254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1257"><a href="#cb227-1257" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1258"><a href="#cb227-1258" aria-hidden="true" tabindex="-1"></a><span class="in">zone7min = zone7hour % 1 * 60</span></span>
<span id="cb227-1259"><a href="#cb227-1259" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1260"><a href="#cb227-1260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1263"><a href="#cb227-1263" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1264"><a href="#cb227-1264" aria-hidden="true" tabindex="-1"></a><span class="in">zone8min = zone8hour % 1 * 60</span></span>
<span id="cb227-1265"><a href="#cb227-1265" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1266"><a href="#cb227-1266" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1269"><a href="#cb227-1269" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1270"><a href="#cb227-1270" aria-hidden="true" tabindex="-1"></a><span class="in">zone9min = zone9hour % 1 * 60</span></span>
<span id="cb227-1271"><a href="#cb227-1271" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1272"><a href="#cb227-1272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1275"><a href="#cb227-1275" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1276"><a href="#cb227-1276" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Seconds`</span></span>
<span id="cb227-1277"><a href="#cb227-1277" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1278"><a href="#cb227-1278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1281"><a href="#cb227-1281" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1282"><a href="#cb227-1282" aria-hidden="true" tabindex="-1"></a><span class="in">zone0sec = zone0min % 1 * 60</span></span>
<span id="cb227-1283"><a href="#cb227-1283" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1284"><a href="#cb227-1284" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1287"><a href="#cb227-1287" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1288"><a href="#cb227-1288" aria-hidden="true" tabindex="-1"></a><span class="in">zone1sec = zone1min % 1 * 60</span></span>
<span id="cb227-1289"><a href="#cb227-1289" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1290"><a href="#cb227-1290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1293"><a href="#cb227-1293" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1294"><a href="#cb227-1294" aria-hidden="true" tabindex="-1"></a><span class="in">zone2sec = zone2min % 1 * 60</span></span>
<span id="cb227-1295"><a href="#cb227-1295" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1296"><a href="#cb227-1296" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1299"><a href="#cb227-1299" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1300"><a href="#cb227-1300" aria-hidden="true" tabindex="-1"></a><span class="in">zone3sec = zone3min % 1 * 60</span></span>
<span id="cb227-1301"><a href="#cb227-1301" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1302"><a href="#cb227-1302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1305"><a href="#cb227-1305" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1306"><a href="#cb227-1306" aria-hidden="true" tabindex="-1"></a><span class="in">zone4sec = zone4min % 1 * 60</span></span>
<span id="cb227-1307"><a href="#cb227-1307" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1308"><a href="#cb227-1308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1311"><a href="#cb227-1311" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1312"><a href="#cb227-1312" aria-hidden="true" tabindex="-1"></a><span class="in">zone5sec = zone5min % 1 * 60</span></span>
<span id="cb227-1313"><a href="#cb227-1313" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1314"><a href="#cb227-1314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1317"><a href="#cb227-1317" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1318"><a href="#cb227-1318" aria-hidden="true" tabindex="-1"></a><span class="in">zone6sec = zone6min % 1 * 60</span></span>
<span id="cb227-1319"><a href="#cb227-1319" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1320"><a href="#cb227-1320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1323"><a href="#cb227-1323" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1324"><a href="#cb227-1324" aria-hidden="true" tabindex="-1"></a><span class="in">zone7sec = zone7min % 1 * 60</span></span>
<span id="cb227-1325"><a href="#cb227-1325" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1326"><a href="#cb227-1326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1329"><a href="#cb227-1329" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1330"><a href="#cb227-1330" aria-hidden="true" tabindex="-1"></a><span class="in">zone8sec = zone8min % 1 * 60</span></span>
<span id="cb227-1331"><a href="#cb227-1331" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1332"><a href="#cb227-1332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1335"><a href="#cb227-1335" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1336"><a href="#cb227-1336" aria-hidden="true" tabindex="-1"></a><span class="in">zone9sec = zone9min % 1 * 60</span></span>
<span id="cb227-1337"><a href="#cb227-1337" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1338"><a href="#cb227-1338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1341"><a href="#cb227-1341" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1342"><a href="#cb227-1342" aria-hidden="true" tabindex="-1"></a><span class="in">md`## Martian and Earth time comparison`</span></span>
<span id="cb227-1343"><a href="#cb227-1343" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1344"><a href="#cb227-1344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1347"><a href="#cb227-1347" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1348"><a href="#cb227-1348" aria-hidden="true" tabindex="-1"></a><span class="in">md`We can use a similar calculation to get the time in Time Zone 0 on Mars. The only difference is that we add 117 days to go from 1969+3060.0000-0 to 1970+0580.0000-0, an Earth date that coincides with the [northward spring equinox on Mars](https://en.wikipedia.org/wiki/Timekeeping_on_Mars#Year_numbering), and divide by 1.02749125 to convert Earth days to Martian days.`</span></span>
<span id="cb227-1349"><a href="#cb227-1349" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1350"><a href="#cb227-1350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1353"><a href="#cb227-1353" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1354"><a href="#cb227-1354" aria-hidden="true" tabindex="-1"></a><span class="in">marsZone0timeNum = (unix / 86400000 + 6065.5848348500847758) / 1.0274912517 % 1</span></span>
<span id="cb227-1355"><a href="#cb227-1355" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1356"><a href="#cb227-1356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1359"><a href="#cb227-1359" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1360"><a href="#cb227-1360" aria-hidden="true" tabindex="-1"></a><span class="in">marsZone0timeStr = marsZone0timeNum.toString().slice(2, 7)</span></span>
<span id="cb227-1361"><a href="#cb227-1361" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1362"><a href="#cb227-1362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1365"><a href="#cb227-1365" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1366"><a href="#cb227-1366" aria-hidden="true" tabindex="-1"></a><span class="in">md`Earth time is about 2.75% faster than Martian time. This difference is noticeably when comparing the time since this webpage loaded in Earth beats (centimillidays) and Martian beats (centimillisols).`</span></span>
<span id="cb227-1367"><a href="#cb227-1367" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1368"><a href="#cb227-1368" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1371"><a href="#cb227-1371" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1372"><a href="#cb227-1372" aria-hidden="true" tabindex="-1"></a><span class="in">tick = {</span></span>
<span id="cb227-1373"><a href="#cb227-1373" aria-hidden="true" tabindex="-1"></a><span class="in">  let i = 0;</span></span>
<span id="cb227-1374"><a href="#cb227-1374" aria-hidden="true" tabindex="-1"></a><span class="in">  while (true) {</span></span>
<span id="cb227-1375"><a href="#cb227-1375" aria-hidden="true" tabindex="-1"></a><span class="in">    yield Promises.tick(864, ++i);</span></span>
<span id="cb227-1376"><a href="#cb227-1376" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-1377"><a href="#cb227-1377" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1378"><a href="#cb227-1378" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1379"><a href="#cb227-1379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1382"><a href="#cb227-1382" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1383"><a href="#cb227-1383" aria-hidden="true" tabindex="-1"></a><span class="in">mars_tick = Math.round(tick / 1.0274912517)</span></span>
<span id="cb227-1384"><a href="#cb227-1384" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1385"><a href="#cb227-1385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1388"><a href="#cb227-1388" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1389"><a href="#cb227-1389" aria-hidden="true" tabindex="-1"></a><span class="in">md`At the top of the [Decalendar notebook](/@dec/al), you can find the current Dec timestamp in Zone 0 on Earth and Mars.`</span></span>
<span id="cb227-1390"><a href="#cb227-1390" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1391"><a href="#cb227-1391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1394"><a href="#cb227-1394" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1395"><a href="#cb227-1395" aria-hidden="true" tabindex="-1"></a><span class="in">md`### Martian time zones</span></span>
<span id="cb227-1396"><a href="#cb227-1396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1397"><a href="#cb227-1397" aria-hidden="true" tabindex="-1"></a><span class="in">If we have the longitude of other points of interest on Mars, such as Martian rover landing sites, we can calculate their zonal and local Declock time. Declock time zones can be applied to Mars or any other celestial body, as long as we can select a longitude to serve as the center of that planet's Zone 0. Finding a Zone 0 midpoint is easy for [rocky planets](https://en.wikipedia.org/wiki/Terrestrial_planet#:~:text=a%20planet%20that%20is%20composed%20primarily%20of%20silicate%2C%20rocks%20or%20metals) without super dense atmospheres, but may be hard for other celestial bodies, like perpetually cloud-covered Venus or the gas giant Jupiter. The midpoint of Zone 0 on Earth is [Greenwich](https://en.wikipedia.org/wiki/Prime_meridian_%28Greenwich%29), while the analogous point on Mars is a crater called [Airy-0](https://en.wikipedia.org/wiki/Airy-0#:~:text=a%20crater%20inside%20the%20larger%20Airy%20Crater%20on%20Mars), which is centered on the Mars globe and map below. The longitude at Airy-0 is 5 [ctr](https://en.wikipedia.org/wiki/Turn_%28angle%29#:~:text=in%2C%20e.g.%2C-,centiturns%20%28ctr%29,-%2C%20milliturns%20%28mtr%29%2C%20etc), as measured from [Meridian](https://en.wikipedia.org/wiki/162nd_meridian_west#:~:text=a%20line%20of%20longitude%20that%20extends%20from%20the%20North%20Pole%20across%20the%20Arctic%20Ocean%2C%20North%20America%2C%20the%20Pacific%20Ocean%2C%20the%20Southern%20Ocean%2C%20and%20Antarctica%20to%20the%20South%20Pole) 0, the Dec [prime meridian](https://en.wikipedia.org/wiki/Prime_meridian#:~:text=an%20arbitrarily%2Dchosen%20meridian%20%28a%20line%20of%20longitude%29%20in%20a%20geographic%20coordinate%20system%20at%20which%20longitude%20is%20defined%20to%20be%200%C2%B0).`</span></span>
<span id="cb227-1398"><a href="#cb227-1398" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1399"><a href="#cb227-1399" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1402"><a href="#cb227-1402" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1403"><a href="#cb227-1403" aria-hidden="true" tabindex="-1"></a><span class="in">globe = {  </span></span>
<span id="cb227-1404"><a href="#cb227-1404" aria-hidden="true" tabindex="-1"></a><span class="in">  while (true) {</span></span>
<span id="cb227-1405"><a href="#cb227-1405" aria-hidden="true" tabindex="-1"></a><span class="in">    renderer.render(scene, camera);</span></span>
<span id="cb227-1406"><a href="#cb227-1406" aria-hidden="true" tabindex="-1"></a><span class="in">    yield renderer.domElement;</span></span>
<span id="cb227-1407"><a href="#cb227-1407" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-1408"><a href="#cb227-1408" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1409"><a href="#cb227-1409" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1410"><a href="#cb227-1410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1413"><a href="#cb227-1413" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1414"><a href="#cb227-1414" aria-hidden="true" tabindex="-1"></a><span class="in">naturalEarth = d3.image(</span></span>
<span id="cb227-1415"><a href="#cb227-1415" aria-hidden="true" tabindex="-1"></a><span class="in">  "https://upload.wikimedia.org/wikipedia/commons/b/b7/Mars_G%C3%A9olocalisation.jpg",</span></span>
<span id="cb227-1416"><a href="#cb227-1416" aria-hidden="true" tabindex="-1"></a><span class="in">//  naturalEarth = d3.image(</span></span>
<span id="cb227-1417"><a href="#cb227-1417" aria-hidden="true" tabindex="-1"></a><span class="in">//  "https://media.opennews.org/img/how-we-made-rewind-the-red/mars-base_4k.jpg",</span></span>
<span id="cb227-1418"><a href="#cb227-1418" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1419"><a href="#cb227-1419" aria-hidden="true" tabindex="-1"></a><span class="in">  {crossOrigin: "anonymous"})</span></span>
<span id="cb227-1420"><a href="#cb227-1420" aria-hidden="true" tabindex="-1"></a><span class="in">// {</span></span>
<span id="cb227-1421"><a href="#cb227-1421" aria-hidden="true" tabindex="-1"></a><span class="in">//     const image = new Image;</span></span>
<span id="cb227-1422"><a href="#cb227-1422" aria-hidden="true" tabindex="-1"></a><span class="in">//     image.crossOrigin = "anonymous";</span></span>
<span id="cb227-1423"><a href="#cb227-1423" aria-hidden="true" tabindex="-1"></a><span class="in">//     image.src = "https://gist.githubusercontent.com/jake-low/d519e00853b15e9cec391c3dab58e77f/raw/6e796038e4f34524059997f8e1f1c42ea289d805/ne1-small.png";</span></span>
<span id="cb227-1424"><a href="#cb227-1424" aria-hidden="true" tabindex="-1"></a><span class="in">//     image.onload = () =&gt; resolve(image);</span></span>
<span id="cb227-1425"><a href="#cb227-1425" aria-hidden="true" tabindex="-1"></a><span class="in">//     image.onerror = reject;</span></span>
<span id="cb227-1426"><a href="#cb227-1426" aria-hidden="true" tabindex="-1"></a><span class="in">//   });</span></span>
<span id="cb227-1427"><a href="#cb227-1427" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1428"><a href="#cb227-1428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1431"><a href="#cb227-1431" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1432"><a href="#cb227-1432" aria-hidden="true" tabindex="-1"></a><span class="in">md`## Appendix`</span></span>
<span id="cb227-1433"><a href="#cb227-1433" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1434"><a href="#cb227-1434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1437"><a href="#cb227-1437" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1438"><a href="#cb227-1438" aria-hidden="true" tabindex="-1"></a><span class="in">camera = {</span></span>
<span id="cb227-1439"><a href="#cb227-1439" aria-hidden="true" tabindex="-1"></a><span class="in">  const camera = new THREE.PerspectiveCamera(8, 2, 0.1, 60);</span></span>
<span id="cb227-1440"><a href="#cb227-1440" aria-hidden="true" tabindex="-1"></a><span class="in">  camera.position.set(-12, 0, 0);</span></span>
<span id="cb227-1441"><a href="#cb227-1441" aria-hidden="true" tabindex="-1"></a><span class="in">  return camera;</span></span>
<span id="cb227-1442"><a href="#cb227-1442" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1443"><a href="#cb227-1443" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1444"><a href="#cb227-1444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1447"><a href="#cb227-1447" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1448"><a href="#cb227-1448" aria-hidden="true" tabindex="-1"></a><span class="in">scene = {</span></span>
<span id="cb227-1449"><a href="#cb227-1449" aria-hidden="true" tabindex="-1"></a><span class="in">  let scene = this;</span></span>
<span id="cb227-1450"><a href="#cb227-1450" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1451"><a href="#cb227-1451" aria-hidden="true" tabindex="-1"></a><span class="in">  if (!scene) {</span></span>
<span id="cb227-1452"><a href="#cb227-1452" aria-hidden="true" tabindex="-1"></a><span class="in">    scene = new THREE.Scene();</span></span>
<span id="cb227-1453"><a href="#cb227-1453" aria-hidden="true" tabindex="-1"></a><span class="in">    scene.background = new THREE.Color('#f5f5f5');</span></span>
<span id="cb227-1454"><a href="#cb227-1454" aria-hidden="true" tabindex="-1"></a><span class="in">    scene.add(earth, orbit, light);</span></span>
<span id="cb227-1455"><a href="#cb227-1455" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-1456"><a href="#cb227-1456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1457"><a href="#cb227-1457" aria-hidden="true" tabindex="-1"></a><span class="in">  return scene;</span></span>
<span id="cb227-1458"><a href="#cb227-1458" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1459"><a href="#cb227-1459" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1460"><a href="#cb227-1460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1463"><a href="#cb227-1463" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1464"><a href="#cb227-1464" aria-hidden="true" tabindex="-1"></a><span class="in">renderer = {</span></span>
<span id="cb227-1465"><a href="#cb227-1465" aria-hidden="true" tabindex="-1"></a><span class="in">  const renderer = new THREE.WebGLRenderer({antialias: true})</span></span>
<span id="cb227-1466"><a href="#cb227-1466" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb227-1467"><a href="#cb227-1467" aria-hidden="true" tabindex="-1"></a><span class="in">  renderer.setSize(width, width / 2);</span></span>
<span id="cb227-1468"><a href="#cb227-1468" aria-hidden="true" tabindex="-1"></a><span class="in">  renderer.setPixelRatio(devicePixelRatio);</span></span>
<span id="cb227-1469"><a href="#cb227-1469" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1470"><a href="#cb227-1470" aria-hidden="true" tabindex="-1"></a><span class="in">  invalidation.then(() =&gt; renderer.dispose());</span></span>
<span id="cb227-1471"><a href="#cb227-1471" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1472"><a href="#cb227-1472" aria-hidden="true" tabindex="-1"></a><span class="in">  return renderer;</span></span>
<span id="cb227-1473"><a href="#cb227-1473" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1474"><a href="#cb227-1474" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1475"><a href="#cb227-1475" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1478"><a href="#cb227-1478" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1479"><a href="#cb227-1479" aria-hidden="true" tabindex="-1"></a><span class="in">controls = {</span></span>
<span id="cb227-1480"><a href="#cb227-1480" aria-hidden="true" tabindex="-1"></a><span class="in">  const controls = new THREE.OrbitControls(camera, renderer.domElement);</span></span>
<span id="cb227-1481"><a href="#cb227-1481" aria-hidden="true" tabindex="-1"></a><span class="in">  controls.minDistance = 3;</span></span>
<span id="cb227-1482"><a href="#cb227-1482" aria-hidden="true" tabindex="-1"></a><span class="in">  controls.maxDistance = 20;</span></span>
<span id="cb227-1483"><a href="#cb227-1483" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1484"><a href="#cb227-1484" aria-hidden="true" tabindex="-1"></a><span class="in">  const redraw = () =&gt; renderer.render(scene, camera);</span></span>
<span id="cb227-1485"><a href="#cb227-1485" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1486"><a href="#cb227-1486" aria-hidden="true" tabindex="-1"></a><span class="in">  controls.addEventListener("change", redraw);</span></span>
<span id="cb227-1487"><a href="#cb227-1487" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1488"><a href="#cb227-1488" aria-hidden="true" tabindex="-1"></a><span class="in">  invalidation.then(() =&gt; {</span></span>
<span id="cb227-1489"><a href="#cb227-1489" aria-hidden="true" tabindex="-1"></a><span class="in">    controls.removeEventListener("change", redraw);</span></span>
<span id="cb227-1490"><a href="#cb227-1490" aria-hidden="true" tabindex="-1"></a><span class="in">    controls.dispose();</span></span>
<span id="cb227-1491"><a href="#cb227-1491" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb227-1492"><a href="#cb227-1492" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1493"><a href="#cb227-1493" aria-hidden="true" tabindex="-1"></a><span class="in">  return controls;</span></span>
<span id="cb227-1494"><a href="#cb227-1494" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1495"><a href="#cb227-1495" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1496"><a href="#cb227-1496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1499"><a href="#cb227-1499" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1500"><a href="#cb227-1500" aria-hidden="true" tabindex="-1"></a><span class="in">//light = new THREE.AmbientLight('#fff')</span></span>
<span id="cb227-1501"><a href="#cb227-1501" aria-hidden="true" tabindex="-1"></a><span class="in">light = {</span></span>
<span id="cb227-1502"><a href="#cb227-1502" aria-hidden="true" tabindex="-1"></a><span class="in">  const light = new THREE.Group();</span></span>
<span id="cb227-1503"><a href="#cb227-1503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1504"><a href="#cb227-1504" aria-hidden="true" tabindex="-1"></a><span class="in">  const ambient = new THREE.AmbientLight("#888")</span></span>
<span id="cb227-1505"><a href="#cb227-1505" aria-hidden="true" tabindex="-1"></a><span class="in">  const directional = new THREE.DirectionalLight("#aaa")</span></span>
<span id="cb227-1506"><a href="#cb227-1506" aria-hidden="true" tabindex="-1"></a><span class="in">  directional.position.x = -180;</span></span>
<span id="cb227-1507"><a href="#cb227-1507" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1508"><a href="#cb227-1508" aria-hidden="true" tabindex="-1"></a><span class="in">  light.add(ambient, directional)</span></span>
<span id="cb227-1509"><a href="#cb227-1509" aria-hidden="true" tabindex="-1"></a><span class="in">  return light;</span></span>
<span id="cb227-1510"><a href="#cb227-1510" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1511"><a href="#cb227-1511" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1512"><a href="#cb227-1512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1515"><a href="#cb227-1515" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1516"><a href="#cb227-1516" aria-hidden="true" tabindex="-1"></a><span class="in">earth = {</span></span>
<span id="cb227-1517"><a href="#cb227-1517" aria-hidden="true" tabindex="-1"></a><span class="in">  let earth = this;</span></span>
<span id="cb227-1518"><a href="#cb227-1518" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1519"><a href="#cb227-1519" aria-hidden="true" tabindex="-1"></a><span class="in">  if (!earth) {</span></span>
<span id="cb227-1520"><a href="#cb227-1520" aria-hidden="true" tabindex="-1"></a><span class="in">    earth = new THREE.Mesh();</span></span>
<span id="cb227-1521"><a href="#cb227-1521" aria-hidden="true" tabindex="-1"></a><span class="in">    earth.geometry = new THREE.SphereBufferGeometry(1, 40, 40);</span></span>
<span id="cb227-1522"><a href="#cb227-1522" aria-hidden="true" tabindex="-1"></a><span class="in">    earth.rotation.y = Math.PI;</span></span>
<span id="cb227-1523"><a href="#cb227-1523" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-1524"><a href="#cb227-1524" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1525"><a href="#cb227-1525" aria-hidden="true" tabindex="-1"></a><span class="in">  return earth;</span></span>
<span id="cb227-1526"><a href="#cb227-1526" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1527"><a href="#cb227-1527" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1528"><a href="#cb227-1528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1531"><a href="#cb227-1531" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1532"><a href="#cb227-1532" aria-hidden="true" tabindex="-1"></a><span class="in">orbit = {</span></span>
<span id="cb227-1533"><a href="#cb227-1533" aria-hidden="true" tabindex="-1"></a><span class="in">  let orbit = this;</span></span>
<span id="cb227-1534"><a href="#cb227-1534" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1535"><a href="#cb227-1535" aria-hidden="true" tabindex="-1"></a><span class="in">  if (!orbit) {</span></span>
<span id="cb227-1536"><a href="#cb227-1536" aria-hidden="true" tabindex="-1"></a><span class="in">    orbit = new THREE.Group();    </span></span>
<span id="cb227-1537"><a href="#cb227-1537" aria-hidden="true" tabindex="-1"></a><span class="in">    // orbit.add(track, satellite);</span></span>
<span id="cb227-1538"><a href="#cb227-1538" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-1539"><a href="#cb227-1539" aria-hidden="true" tabindex="-1"></a><span class="in">    </span></span>
<span id="cb227-1540"><a href="#cb227-1540" aria-hidden="true" tabindex="-1"></a><span class="in">  // orbit.rotation.x = satelliteInclination * Math.PI / 180;</span></span>
<span id="cb227-1541"><a href="#cb227-1541" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1542"><a href="#cb227-1542" aria-hidden="true" tabindex="-1"></a><span class="in">  return orbit;</span></span>
<span id="cb227-1543"><a href="#cb227-1543" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1544"><a href="#cb227-1544" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1545"><a href="#cb227-1545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1548"><a href="#cb227-1548" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1549"><a href="#cb227-1549" aria-hidden="true" tabindex="-1"></a><span class="in">texture = {</span></span>
<span id="cb227-1550"><a href="#cb227-1550" aria-hidden="true" tabindex="-1"></a><span class="in">  let texture = this;</span></span>
<span id="cb227-1551"><a href="#cb227-1551" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1552"><a href="#cb227-1552" aria-hidden="true" tabindex="-1"></a><span class="in">  if (!texture) {</span></span>
<span id="cb227-1553"><a href="#cb227-1553" aria-hidden="true" tabindex="-1"></a><span class="in">    texture = new THREE.CanvasTexture(map);</span></span>
<span id="cb227-1554"><a href="#cb227-1554" aria-hidden="true" tabindex="-1"></a><span class="in">    earth.material = new THREE.MeshLambertMaterial({ map: texture });</span></span>
<span id="cb227-1555"><a href="#cb227-1555" aria-hidden="true" tabindex="-1"></a><span class="in">  } else {</span></span>
<span id="cb227-1556"><a href="#cb227-1556" aria-hidden="true" tabindex="-1"></a><span class="in">    texture.needsUpdate = true;</span></span>
<span id="cb227-1557"><a href="#cb227-1557" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-1558"><a href="#cb227-1558" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1559"><a href="#cb227-1559" aria-hidden="true" tabindex="-1"></a><span class="in">  return texture;</span></span>
<span id="cb227-1560"><a href="#cb227-1560" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1561"><a href="#cb227-1561" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1562"><a href="#cb227-1562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1565"><a href="#cb227-1565" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1566"><a href="#cb227-1566" aria-hidden="true" tabindex="-1"></a><span class="in">THREE = {</span></span>
<span id="cb227-1567"><a href="#cb227-1567" aria-hidden="true" tabindex="-1"></a><span class="in">  const THREE = window.THREE = await require("three@0.97/build/three.min.js");</span></span>
<span id="cb227-1568"><a href="#cb227-1568" aria-hidden="true" tabindex="-1"></a><span class="in">  await require("three@0.97/examples/js/controls/OrbitControls.js").catch(() =&gt; {});</span></span>
<span id="cb227-1569"><a href="#cb227-1569" aria-hidden="true" tabindex="-1"></a><span class="in">  await require("three@0.97/examples/js/loaders/OBJLoader.js").catch(() =&gt; {});</span></span>
<span id="cb227-1570"><a href="#cb227-1570" aria-hidden="true" tabindex="-1"></a><span class="in">  await require("three@0.97/examples/js/loaders/MTLLoader.js").catch(() =&gt; {});</span></span>
<span id="cb227-1571"><a href="#cb227-1571" aria-hidden="true" tabindex="-1"></a><span class="in">  return THREE;</span></span>
<span id="cb227-1572"><a href="#cb227-1572" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1573"><a href="#cb227-1573" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1574"><a href="#cb227-1574" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1577"><a href="#cb227-1577" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1578"><a href="#cb227-1578" aria-hidden="true" tabindex="-1"></a><span class="in">map = {</span></span>
<span id="cb227-1579"><a href="#cb227-1579" aria-hidden="true" tabindex="-1"></a><span class="in">  let canvas = this;</span></span>
<span id="cb227-1580"><a href="#cb227-1580" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1581"><a href="#cb227-1581" aria-hidden="true" tabindex="-1"></a><span class="in">  if (!canvas) {</span></span>
<span id="cb227-1582"><a href="#cb227-1582" aria-hidden="true" tabindex="-1"></a><span class="in">    canvas = DOM.context2d(width, width/2).canvas;</span></span>
<span id="cb227-1583"><a href="#cb227-1583" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-1584"><a href="#cb227-1584" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1585"><a href="#cb227-1585" aria-hidden="true" tabindex="-1"></a><span class="in">  let context = canvas.getContext("2d");</span></span>
<span id="cb227-1586"><a href="#cb227-1586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1587"><a href="#cb227-1587" aria-hidden="true" tabindex="-1"></a><span class="in">  const path = d3.geoPath()</span></span>
<span id="cb227-1588"><a href="#cb227-1588" aria-hidden="true" tabindex="-1"></a><span class="in">    .projection(projection)</span></span>
<span id="cb227-1589"><a href="#cb227-1589" aria-hidden="true" tabindex="-1"></a><span class="in">    .context(context);</span></span>
<span id="cb227-1590"><a href="#cb227-1590" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb227-1591"><a href="#cb227-1591" aria-hidden="true" tabindex="-1"></a><span class="in">  context.drawImage(naturalEarth, 0, 0, width, width/2);</span></span>
<span id="cb227-1592"><a href="#cb227-1592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1593"><a href="#cb227-1593" aria-hidden="true" tabindex="-1"></a><span class="in"> </span></span>
<span id="cb227-1594"><a href="#cb227-1594" aria-hidden="true" tabindex="-1"></a><span class="in">  return canvas;</span></span>
<span id="cb227-1595"><a href="#cb227-1595" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1596"><a href="#cb227-1596" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1597"><a href="#cb227-1597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1600"><a href="#cb227-1600" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1601"><a href="#cb227-1601" aria-hidden="true" tabindex="-1"></a><span class="in">projection = d3.geoEquirectangular()</span></span>
<span id="cb227-1602"><a href="#cb227-1602" aria-hidden="true" tabindex="-1"></a><span class="in">  .fitSize([width, width/2], { type: 'Sphere' })</span></span>
<span id="cb227-1603"><a href="#cb227-1603" aria-hidden="true" tabindex="-1"></a><span class="in">  .precision(0.1)</span></span>
<span id="cb227-1604"><a href="#cb227-1604" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1605"><a href="#cb227-1605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1608"><a href="#cb227-1608" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1609"><a href="#cb227-1609" aria-hidden="true" tabindex="-1"></a><span class="in">import { slider } from "@jashkenas/inputs"</span></span>
<span id="cb227-1610"><a href="#cb227-1610" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1611"><a href="#cb227-1611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1614"><a href="#cb227-1614" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1615"><a href="#cb227-1615" aria-hidden="true" tabindex="-1"></a><span class="in">import { Toggle } from "@observablehq/inputs"</span></span>
<span id="cb227-1616"><a href="#cb227-1616" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1617"><a href="#cb227-1617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1620"><a href="#cb227-1620" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1621"><a href="#cb227-1621" aria-hidden="true" tabindex="-1"></a><span class="in">selected = `${String(unix2dote(unix, long2zone(coordinates[0]))[0] % 1 * 10).slice(0, 6)}-${long2zone(coordinates[0])}`</span></span>
<span id="cb227-1622"><a href="#cb227-1622" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1623"><a href="#cb227-1623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1626"><a href="#cb227-1626" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1627"><a href="#cb227-1627" aria-hidden="true" tabindex="-1"></a><span class="in">function long2zone(degrees = -180) {</span></span>
<span id="cb227-1628"><a href="#cb227-1628" aria-hidden="true" tabindex="-1"></a><span class="in">  return Math.floor(long2turn(degrees, 1));</span></span>
<span id="cb227-1629"><a href="#cb227-1629" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1630"><a href="#cb227-1630" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1631"><a href="#cb227-1631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1634"><a href="#cb227-1634" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1635"><a href="#cb227-1635" aria-hidden="true" tabindex="-1"></a><span class="in">function long2turn(degrees = -180, e = 3) {</span></span>
<span id="cb227-1636"><a href="#cb227-1636" aria-hidden="true" tabindex="-1"></a><span class="in">  // turns: e=0, deciturns: e=1, etc.</span></span>
<span id="cb227-1637"><a href="#cb227-1637" aria-hidden="true" tabindex="-1"></a><span class="in">  return (((degrees %= 360) &lt; 0 ? degrees + 360 : degrees) + 18) / (360 / 10**e) % 10**e;</span></span>
<span id="cb227-1638"><a href="#cb227-1638" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1639"><a href="#cb227-1639" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1640"><a href="#cb227-1640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1643"><a href="#cb227-1643" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1644"><a href="#cb227-1644" aria-hidden="true" tabindex="-1"></a><span class="in">function lati2turn(degrees = -180, e = 3) {</span></span>
<span id="cb227-1645"><a href="#cb227-1645" aria-hidden="true" tabindex="-1"></a><span class="in">  // turns: e=0, deciturns: e=1, etc.</span></span>
<span id="cb227-1646"><a href="#cb227-1646" aria-hidden="true" tabindex="-1"></a><span class="in">  return ((degrees %= 360) &lt; 0 ? degrees + 360 : degrees) / (360 / 10**e) % 10**e;</span></span>
<span id="cb227-1647"><a href="#cb227-1647" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1648"><a href="#cb227-1648" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1649"><a href="#cb227-1649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1652"><a href="#cb227-1652" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1653"><a href="#cb227-1653" aria-hidden="true" tabindex="-1"></a><span class="in">function lati2turn1(degrees = -180, e = 3) {</span></span>
<span id="cb227-1654"><a href="#cb227-1654" aria-hidden="true" tabindex="-1"></a><span class="in">  // turns: e=0, deciturns: e=1, etc.</span></span>
<span id="cb227-1655"><a href="#cb227-1655" aria-hidden="true" tabindex="-1"></a><span class="in">  return (degrees %= 360) / (360 / 10**e) % 10**e;</span></span>
<span id="cb227-1656"><a href="#cb227-1656" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1657"><a href="#cb227-1657" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1658"><a href="#cb227-1658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1661"><a href="#cb227-1661" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1662"><a href="#cb227-1662" aria-hidden="true" tabindex="-1"></a><span class="in">solar1 = (await require("solar-calculator@0.2"))(coordinates)</span></span>
<span id="cb227-1663"><a href="#cb227-1663" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1664"><a href="#cb227-1664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1667"><a href="#cb227-1667" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1668"><a href="#cb227-1668" aria-hidden="true" tabindex="-1"></a><span class="in">borders = topojson.mesh(countryBorders, countryBorders.objects.countries, (a, b) =&gt; a !== b)</span></span>
<span id="cb227-1669"><a href="#cb227-1669" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1670"><a href="#cb227-1670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1673"><a href="#cb227-1673" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1674"><a href="#cb227-1674" aria-hidden="true" tabindex="-1"></a><span class="in">countryBorders = fetch("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-50m.json").then(response =&gt; response.json())</span></span>
<span id="cb227-1675"><a href="#cb227-1675" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1676"><a href="#cb227-1676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1679"><a href="#cb227-1679" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1680"><a href="#cb227-1680" aria-hidden="true" tabindex="-1"></a><span class="in">boundaries = topojson.mesh(world,world.objects.countries, (a, b) =&gt; a !== b);</span></span>
<span id="cb227-1681"><a href="#cb227-1681" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1682"><a href="#cb227-1682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1685"><a href="#cb227-1685" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1686"><a href="#cb227-1686" aria-hidden="true" tabindex="-1"></a><span class="in">sun = {</span></span>
<span id="cb227-1687"><a href="#cb227-1687" aria-hidden="true" tabindex="-1"></a><span class="in">  const now = new Date;</span></span>
<span id="cb227-1688"><a href="#cb227-1688" aria-hidden="true" tabindex="-1"></a><span class="in">  const day = new Date(+now).setUTCHours(0, 0, 0, 0);</span></span>
<span id="cb227-1689"><a href="#cb227-1689" aria-hidden="true" tabindex="-1"></a><span class="in">  const t = solar.century(now);</span></span>
<span id="cb227-1690"><a href="#cb227-1690" aria-hidden="true" tabindex="-1"></a><span class="in">  const longitude = (day - now) / 864e5 * 360 - 180;</span></span>
<span id="cb227-1691"><a href="#cb227-1691" aria-hidden="true" tabindex="-1"></a><span class="in">  return [longitude - solar.equationOfTime(t) / 4, solar.declination(t)];</span></span>
<span id="cb227-1692"><a href="#cb227-1692" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1693"><a href="#cb227-1693" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1694"><a href="#cb227-1694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1697"><a href="#cb227-1697" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1698"><a href="#cb227-1698" aria-hidden="true" tabindex="-1"></a><span class="in">night = d3.geoCircle()</span></span>
<span id="cb227-1699"><a href="#cb227-1699" aria-hidden="true" tabindex="-1"></a><span class="in">    .radius(90)</span></span>
<span id="cb227-1700"><a href="#cb227-1700" aria-hidden="true" tabindex="-1"></a><span class="in">    .center(antipode(sun))</span></span>
<span id="cb227-1701"><a href="#cb227-1701" aria-hidden="true" tabindex="-1"></a><span class="in">  ()</span></span>
<span id="cb227-1702"><a href="#cb227-1702" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1703"><a href="#cb227-1703" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1706"><a href="#cb227-1706" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1707"><a href="#cb227-1707" aria-hidden="true" tabindex="-1"></a><span class="in">antipode = ([longitude, latitude]) =&gt; [longitude + 180, -latitude]</span></span>
<span id="cb227-1708"><a href="#cb227-1708" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1709"><a href="#cb227-1709" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1712"><a href="#cb227-1712" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1713"><a href="#cb227-1713" aria-hidden="true" tabindex="-1"></a><span class="in">solar = require("solar-calculator@0.3/dist/solar-calculator.min.js")</span></span>
<span id="cb227-1714"><a href="#cb227-1714" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1715"><a href="#cb227-1715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1718"><a href="#cb227-1718" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1719"><a href="#cb227-1719" aria-hidden="true" tabindex="-1"></a><span class="in">SunCalc = require("suncalc3")</span></span>
<span id="cb227-1720"><a href="#cb227-1720" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1721"><a href="#cb227-1721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1724"><a href="#cb227-1724" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1725"><a href="#cb227-1725" aria-hidden="true" tabindex="-1"></a><span class="in">pos = SunCalc.getPosition(Date.now(), coordinates[1], coordinates[0])</span></span>
<span id="cb227-1726"><a href="#cb227-1726" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1727"><a href="#cb227-1727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1730"><a href="#cb227-1730" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1731"><a href="#cb227-1731" aria-hidden="true" tabindex="-1"></a><span class="in">pos["azimuth"] * 180 / Math.PI</span></span>
<span id="cb227-1732"><a href="#cb227-1732" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1733"><a href="#cb227-1733" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1736"><a href="#cb227-1736" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1737"><a href="#cb227-1737" aria-hidden="true" tabindex="-1"></a><span class="in">pos["azimuth"] / (2 * Math.PI)</span></span>
<span id="cb227-1738"><a href="#cb227-1738" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1739"><a href="#cb227-1739" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1742"><a href="#cb227-1742" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1743"><a href="#cb227-1743" aria-hidden="true" tabindex="-1"></a><span class="in">pos["declination"] * 180 / Math.PI</span></span>
<span id="cb227-1744"><a href="#cb227-1744" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1745"><a href="#cb227-1745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1748"><a href="#cb227-1748" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1749"><a href="#cb227-1749" aria-hidden="true" tabindex="-1"></a><span class="in">pos["zenith"] * 180 / Math.PI</span></span>
<span id="cb227-1750"><a href="#cb227-1750" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1751"><a href="#cb227-1751" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1754"><a href="#cb227-1754" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1755"><a href="#cb227-1755" aria-hidden="true" tabindex="-1"></a><span class="in">style = html`&lt;style&gt;</span></span>
<span id="cb227-1756"><a href="#cb227-1756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1757"><a href="#cb227-1757" aria-hidden="true" tabindex="-1"></a><span class="in">#clock {</span></span>
<span id="cb227-1758"><a href="#cb227-1758" aria-hidden="true" tabindex="-1"></a><span class="in">  stroke: #000;</span></span>
<span id="cb227-1759"><a href="#cb227-1759" aria-hidden="true" tabindex="-1"></a><span class="in">  font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif; </span></span>
<span id="cb227-1760"><a href="#cb227-1760" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1761"><a href="#cb227-1761" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1762"><a href="#cb227-1762" aria-hidden="true" tabindex="-1"></a><span class="in">#clock #rim {</span></span>
<span id="cb227-1763"><a href="#cb227-1763" aria-hidden="true" tabindex="-1"></a><span class="in">  fill: none;</span></span>
<span id="cb227-1764"><a href="#cb227-1764" aria-hidden="true" tabindex="-1"></a><span class="in">  stroke: #999;</span></span>
<span id="cb227-1765"><a href="#cb227-1765" aria-hidden="true" tabindex="-1"></a><span class="in">  stroke-width: 3px;</span></span>
<span id="cb227-1766"><a href="#cb227-1766" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1767"><a href="#cb227-1767" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1768"><a href="#cb227-1768" aria-hidden="true" tabindex="-1"></a><span class="in">#clock .second-hand {</span></span>
<span id="cb227-1769"><a href="#cb227-1769" aria-hidden="true" tabindex="-1"></a><span class="in">  stroke-width:3;</span></span>
<span id="cb227-1770"><a href="#cb227-1770" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1771"><a href="#cb227-1771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1772"><a href="#cb227-1772" aria-hidden="true" tabindex="-1"></a><span class="in">#clock .minute-hand {</span></span>
<span id="cb227-1773"><a href="#cb227-1773" aria-hidden="true" tabindex="-1"></a><span class="in">  stroke-width:8;</span></span>
<span id="cb227-1774"><a href="#cb227-1774" aria-hidden="true" tabindex="-1"></a><span class="in">  stroke-linecap:round;</span></span>
<span id="cb227-1775"><a href="#cb227-1775" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1776"><a href="#cb227-1776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1777"><a href="#cb227-1777" aria-hidden="true" tabindex="-1"></a><span class="in">#clock .hour-hand {</span></span>
<span id="cb227-1778"><a href="#cb227-1778" aria-hidden="true" tabindex="-1"></a><span class="in">  stroke-width:12;</span></span>
<span id="cb227-1779"><a href="#cb227-1779" aria-hidden="true" tabindex="-1"></a><span class="in">  stroke-linecap:round;</span></span>
<span id="cb227-1780"><a href="#cb227-1780" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1781"><a href="#cb227-1781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1782"><a href="#cb227-1782" aria-hidden="true" tabindex="-1"></a><span class="in">#clock .hands-cover {</span></span>
<span id="cb227-1783"><a href="#cb227-1783" aria-hidden="true" tabindex="-1"></a><span class="in">  stroke-width:3;</span></span>
<span id="cb227-1784"><a href="#cb227-1784" aria-hidden="true" tabindex="-1"></a><span class="in">  fill:#fff;</span></span>
<span id="cb227-1785"><a href="#cb227-1785" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1786"><a href="#cb227-1786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1787"><a href="#cb227-1787" aria-hidden="true" tabindex="-1"></a><span class="in">#clock .second-tick {</span></span>
<span id="cb227-1788"><a href="#cb227-1788" aria-hidden="true" tabindex="-1"></a><span class="in">  stroke-width:3;</span></span>
<span id="cb227-1789"><a href="#cb227-1789" aria-hidden="true" tabindex="-1"></a><span class="in">  fill:#000;  </span></span>
<span id="cb227-1790"><a href="#cb227-1790" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1791"><a href="#cb227-1791" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1792"><a href="#cb227-1792" aria-hidden="true" tabindex="-1"></a><span class="in">#clock .hour-tick {</span></span>
<span id="cb227-1793"><a href="#cb227-1793" aria-hidden="true" tabindex="-1"></a><span class="in">  stroke-width:8; // same as the minute hand</span></span>
<span id="cb227-1794"><a href="#cb227-1794" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1795"><a href="#cb227-1795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1796"><a href="#cb227-1796" aria-hidden="true" tabindex="-1"></a><span class="in">#clock .second-label {</span></span>
<span id="cb227-1797"><a href="#cb227-1797" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 12px;</span></span>
<span id="cb227-1798"><a href="#cb227-1798" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1799"><a href="#cb227-1799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1800"><a href="#cb227-1800" aria-hidden="true" tabindex="-1"></a><span class="in">#clock .hour-label {</span></span>
<span id="cb227-1801"><a href="#cb227-1801" aria-hidden="true" tabindex="-1"></a><span class="in">  font-size: 24px;</span></span>
<span id="cb227-1802"><a href="#cb227-1802" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-1803"><a href="#cb227-1803" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1804"><a href="#cb227-1804" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;`</span></span>
<span id="cb227-1805"><a href="#cb227-1805" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1806"><a href="#cb227-1806" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1809"><a href="#cb227-1809" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1810"><a href="#cb227-1810" aria-hidden="true" tabindex="-1"></a><span class="in">dateRange = d3.utcDay.range(new Date("2024-03-02"), new Date("2025-03-02"))</span></span>
<span id="cb227-1811"><a href="#cb227-1811" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1812"><a href="#cb227-1812" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1815"><a href="#cb227-1815" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1816"><a href="#cb227-1816" aria-hidden="true" tabindex="-1"></a><span class="in">noons = dateRange.map(d =&gt; SunCalc.getSunTimes(d, coordinates[1], coordinates[0])["solarNoon"]["value"])</span></span>
<span id="cb227-1817"><a href="#cb227-1817" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1818"><a href="#cb227-1818" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1821"><a href="#cb227-1821" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1822"><a href="#cb227-1822" aria-hidden="true" tabindex="-1"></a><span class="in">rises = dateRange.map(d =&gt; SunCalc.getSunTimes(d, coordinates[1], coordinates[0])["sunriseStart"]["value"])</span></span>
<span id="cb227-1823"><a href="#cb227-1823" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1824"><a href="#cb227-1824" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1827"><a href="#cb227-1827" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1828"><a href="#cb227-1828" aria-hidden="true" tabindex="-1"></a><span class="in">sets = dateRange.map(d =&gt; SunCalc.getSunTimes(d, coordinates[1], coordinates[0])["sunsetEnd"]["value"])</span></span>
<span id="cb227-1829"><a href="#cb227-1829" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1830"><a href="#cb227-1830" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1833"><a href="#cb227-1833" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1834"><a href="#cb227-1834" aria-hidden="true" tabindex="-1"></a><span class="in">zonalNoons = noons.map(d =&gt; d.getTime() / 86400000 - .4 + Math.round((144 + coordinates[0]) / 36) / 10).map(d =&gt; d % 1)</span></span>
<span id="cb227-1835"><a href="#cb227-1835" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1836"><a href="#cb227-1836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1839"><a href="#cb227-1839" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1840"><a href="#cb227-1840" aria-hidden="true" tabindex="-1"></a><span class="in">zonalRises = rises.map(d =&gt; d.getTime() / 86400000 - .4 + Math.round((144 + coordinates[0]) / 36) / 10).map(d =&gt; d % 1).map(d =&gt; d &gt;= .5 || d &lt;= .05 ? NaN : d)</span></span>
<span id="cb227-1841"><a href="#cb227-1841" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1842"><a href="#cb227-1842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1845"><a href="#cb227-1845" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1846"><a href="#cb227-1846" aria-hidden="true" tabindex="-1"></a><span class="in">zonalSets = sets.map(d =&gt; d.getTime() / 86400000 - .4 + Math.round((144 + coordinates[0]) / 36) / 10).map(d =&gt; d % 1).map(d =&gt; d &lt;= .5 || d &gt;= .95 ? NaN : d)</span></span>
<span id="cb227-1847"><a href="#cb227-1847" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1848"><a href="#cb227-1848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1851"><a href="#cb227-1851" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1852"><a href="#cb227-1852" aria-hidden="true" tabindex="-1"></a><span class="in">localNoons = noons.map(d =&gt; ((d.getTime() / 86400000 - .4 + (144 + coordinates[0]) / 360))).map(d =&gt; d % 1)</span></span>
<span id="cb227-1853"><a href="#cb227-1853" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1854"><a href="#cb227-1854" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1857"><a href="#cb227-1857" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1858"><a href="#cb227-1858" aria-hidden="true" tabindex="-1"></a><span class="in">localRises = rises.map(d =&gt; ((d.getTime() / 86400000 - .4 + (144 + coordinates[0]) / 360))).map(d =&gt; d % 1).map(d =&gt; d &gt;= .5 || d &lt;= 0.05 ? NaN : d)</span></span>
<span id="cb227-1859"><a href="#cb227-1859" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1860"><a href="#cb227-1860" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1863"><a href="#cb227-1863" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1864"><a href="#cb227-1864" aria-hidden="true" tabindex="-1"></a><span class="in">localSets = sets.map(d =&gt; ((d.getTime() / 86400000 - .4 + (144 + coordinates[0]) / 360))).map(d =&gt; d % 1).map(d =&gt; d &lt;= .5 || d &gt;= .95 ? NaN : d)</span></span>
<span id="cb227-1865"><a href="#cb227-1865" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1866"><a href="#cb227-1866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1869"><a href="#cb227-1869" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1870"><a href="#cb227-1870" aria-hidden="true" tabindex="-1"></a><span class="in">zonals = zonalNoons.map((d, i) =&gt; ({date: i, rise: zonalRises[i], noon: d, set: zonalSets[i]}))</span></span>
<span id="cb227-1871"><a href="#cb227-1871" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1872"><a href="#cb227-1872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1875"><a href="#cb227-1875" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1876"><a href="#cb227-1876" aria-hidden="true" tabindex="-1"></a><span class="in">locals = localNoons.map((d, i) =&gt; ({date: i, rise: localRises[i], noon: d, set: localSets[i]}))</span></span>
<span id="cb227-1877"><a href="#cb227-1877" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1878"><a href="#cb227-1878" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1881"><a href="#cb227-1881" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1882"><a href="#cb227-1882" aria-hidden="true" tabindex="-1"></a><span class="in">times = [</span></span>
<span id="cb227-1883"><a href="#cb227-1883" aria-hidden="true" tabindex="-1"></a><span class="in">  ["zonal", locals],</span></span>
<span id="cb227-1884"><a href="#cb227-1884" aria-hidden="true" tabindex="-1"></a><span class="in">  ["local", zonals],</span></span>
<span id="cb227-1885"><a href="#cb227-1885" aria-hidden="true" tabindex="-1"></a><span class="in">].flatMap(([symbol, values]) =&gt; values.map(d =&gt; ({symbol, ...d})))</span></span>
<span id="cb227-1886"><a href="#cb227-1886" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1887"><a href="#cb227-1887" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1890"><a href="#cb227-1890" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1891"><a href="#cb227-1891" aria-hidden="true" tabindex="-1"></a><span class="in">graticule = d3.geoGraticule().stepMinor([36,36]).stepMajor([36,36])()</span></span>
<span id="cb227-1892"><a href="#cb227-1892" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1893"><a href="#cb227-1893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1896"><a href="#cb227-1896" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1897"><a href="#cb227-1897" aria-hidden="true" tabindex="-1"></a><span class="in">graticule.coordinates = graticule.coordinates.map(</span></span>
<span id="cb227-1898"><a href="#cb227-1898" aria-hidden="true" tabindex="-1"></a><span class="in">  i =&gt; i.map(j =&gt; j.map((k, index, arr) =&gt; i.length === 3 &amp;&amp; index === 0 ? k - 18 : k))</span></span>
<span id="cb227-1899"><a href="#cb227-1899" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb227-1900"><a href="#cb227-1900" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1901"><a href="#cb227-1901" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1904"><a href="#cb227-1904" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1905"><a href="#cb227-1905" aria-hidden="true" tabindex="-1"></a><span class="in">land = topojson.feature(world, world.objects.land)</span></span>
<span id="cb227-1906"><a href="#cb227-1906" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1907"><a href="#cb227-1907" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1910"><a href="#cb227-1910" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1911"><a href="#cb227-1911" aria-hidden="true" tabindex="-1"></a><span class="in">world = (await fetch("https://cdn.jsdelivr.net/npm/world-atlas@1/world/110m.json")).json()</span></span>
<span id="cb227-1912"><a href="#cb227-1912" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1913"><a href="#cb227-1913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1916"><a href="#cb227-1916" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1917"><a href="#cb227-1917" aria-hidden="true" tabindex="-1"></a><span class="in">countries = topojson.feature(world, world.objects.countries)</span></span>
<span id="cb227-1918"><a href="#cb227-1918" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1919"><a href="#cb227-1919" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1922"><a href="#cb227-1922" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1923"><a href="#cb227-1923" aria-hidden="true" tabindex="-1"></a><span class="in">topojson = require("topojson-client@3")</span></span>
<span id="cb227-1924"><a href="#cb227-1924" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1925"><a href="#cb227-1925" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1928"><a href="#cb227-1928" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1929"><a href="#cb227-1929" aria-hidden="true" tabindex="-1"></a><span class="in">colors = ({</span></span>
<span id="cb227-1930"><a href="#cb227-1930" aria-hidden="true" tabindex="-1"></a><span class="in">  night: "#91afd6",</span></span>
<span id="cb227-1931"><a href="#cb227-1931" aria-hidden="true" tabindex="-1"></a><span class="in">  day: "#ffe438",</span></span>
<span id="cb227-1932"><a href="#cb227-1932" aria-hidden="true" tabindex="-1"></a><span class="in">  grid: "#4b6a79",</span></span>
<span id="cb227-1933"><a href="#cb227-1933" aria-hidden="true" tabindex="-1"></a><span class="in">  ocean: "#adeeff",</span></span>
<span id="cb227-1934"><a href="#cb227-1934" aria-hidden="true" tabindex="-1"></a><span class="in">  land: "#f5f1dc",</span></span>
<span id="cb227-1935"><a href="#cb227-1935" aria-hidden="true" tabindex="-1"></a><span class="in">  sun: "#ffe438"</span></span>
<span id="cb227-1936"><a href="#cb227-1936" aria-hidden="true" tabindex="-1"></a><span class="in">})</span></span>
<span id="cb227-1937"><a href="#cb227-1937" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1938"><a href="#cb227-1938" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1941"><a href="#cb227-1941" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1942"><a href="#cb227-1942" aria-hidden="true" tabindex="-1"></a><span class="in">label_style = `font: 13px/1.2 var(--sans-serif); width: 120px; font-size: ${label_size};`</span></span>
<span id="cb227-1943"><a href="#cb227-1943" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1944"><a href="#cb227-1944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1947"><a href="#cb227-1947" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1948"><a href="#cb227-1948" aria-hidden="true" tabindex="-1"></a><span class="in">label_size = '80%'</span></span>
<span id="cb227-1949"><a href="#cb227-1949" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-1950"><a href="#cb227-1950" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-1953"><a href="#cb227-1953" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-1954"><a href="#cb227-1954" aria-hidden="true" tabindex="-1"></a><span class="in">function input(config) {</span></span>
<span id="cb227-1955"><a href="#cb227-1955" aria-hidden="true" tabindex="-1"></a><span class="in">  let {</span></span>
<span id="cb227-1956"><a href="#cb227-1956" aria-hidden="true" tabindex="-1"></a><span class="in">    form,</span></span>
<span id="cb227-1957"><a href="#cb227-1957" aria-hidden="true" tabindex="-1"></a><span class="in">    type = "text",</span></span>
<span id="cb227-1958"><a href="#cb227-1958" aria-hidden="true" tabindex="-1"></a><span class="in">    attributes = {},</span></span>
<span id="cb227-1959"><a href="#cb227-1959" aria-hidden="true" tabindex="-1"></a><span class="in">    action,</span></span>
<span id="cb227-1960"><a href="#cb227-1960" aria-hidden="true" tabindex="-1"></a><span class="in">    getValue,</span></span>
<span id="cb227-1961"><a href="#cb227-1961" aria-hidden="true" tabindex="-1"></a><span class="in">    title,</span></span>
<span id="cb227-1962"><a href="#cb227-1962" aria-hidden="true" tabindex="-1"></a><span class="in">    description,</span></span>
<span id="cb227-1963"><a href="#cb227-1963" aria-hidden="true" tabindex="-1"></a><span class="in">    format,</span></span>
<span id="cb227-1964"><a href="#cb227-1964" aria-hidden="true" tabindex="-1"></a><span class="in">    display,</span></span>
<span id="cb227-1965"><a href="#cb227-1965" aria-hidden="true" tabindex="-1"></a><span class="in">    submit,</span></span>
<span id="cb227-1966"><a href="#cb227-1966" aria-hidden="true" tabindex="-1"></a><span class="in">    options</span></span>
<span id="cb227-1967"><a href="#cb227-1967" aria-hidden="true" tabindex="-1"></a><span class="in">  } = config;</span></span>
<span id="cb227-1968"><a href="#cb227-1968" aria-hidden="true" tabindex="-1"></a><span class="in">  const wrapper = html`&lt;div&gt;&lt;/div&gt;`;</span></span>
<span id="cb227-1969"><a href="#cb227-1969" aria-hidden="true" tabindex="-1"></a><span class="in">  if (!form)</span></span>
<span id="cb227-1970"><a href="#cb227-1970" aria-hidden="true" tabindex="-1"></a><span class="in">    form = html`&lt;form&gt;</span></span>
<span id="cb227-1971"><a href="#cb227-1971" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;input name=input type=${type} /&gt;</span></span>
<span id="cb227-1972"><a href="#cb227-1972" aria-hidden="true" tabindex="-1"></a><span class="in">  &lt;/form&gt;`;</span></span>
<span id="cb227-1973"><a href="#cb227-1973" aria-hidden="true" tabindex="-1"></a><span class="in">  Object.keys(attributes).forEach(key =&gt; {</span></span>
<span id="cb227-1974"><a href="#cb227-1974" aria-hidden="true" tabindex="-1"></a><span class="in">    const val = attributes[key];</span></span>
<span id="cb227-1975"><a href="#cb227-1975" aria-hidden="true" tabindex="-1"></a><span class="in">    if (val != null) form.input.setAttribute(key, val);</span></span>
<span id="cb227-1976"><a href="#cb227-1976" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb227-1977"><a href="#cb227-1977" aria-hidden="true" tabindex="-1"></a><span class="in">  if (submit)</span></span>
<span id="cb227-1978"><a href="#cb227-1978" aria-hidden="true" tabindex="-1"></a><span class="in">    form.append(</span></span>
<span id="cb227-1979"><a href="#cb227-1979" aria-hidden="true" tabindex="-1"></a><span class="in">      html`&lt;input name=submit type=submit style="margin: 0 0.75em" value="${</span></span>
<span id="cb227-1980"><a href="#cb227-1980" aria-hidden="true" tabindex="-1"></a><span class="in">        typeof submit == "string" ? submit : "Submit"</span></span>
<span id="cb227-1981"><a href="#cb227-1981" aria-hidden="true" tabindex="-1"></a><span class="in">      }" /&gt;`</span></span>
<span id="cb227-1982"><a href="#cb227-1982" aria-hidden="true" tabindex="-1"></a><span class="in">    );</span></span>
<span id="cb227-1983"><a href="#cb227-1983" aria-hidden="true" tabindex="-1"></a><span class="in">  form.append(</span></span>
<span id="cb227-1984"><a href="#cb227-1984" aria-hidden="true" tabindex="-1"></a><span class="in">    html`&lt;output name=output style="font: 14px Menlo, Consolas, monospace; margin-left: 0.5em;"&gt;&lt;/output&gt;`</span></span>
<span id="cb227-1985"><a href="#cb227-1985" aria-hidden="true" tabindex="-1"></a><span class="in">  );</span></span>
<span id="cb227-1986"><a href="#cb227-1986" aria-hidden="true" tabindex="-1"></a><span class="in">  if (title)</span></span>
<span id="cb227-1987"><a href="#cb227-1987" aria-hidden="true" tabindex="-1"></a><span class="in">    form.prepend(</span></span>
<span id="cb227-1988"><a href="#cb227-1988" aria-hidden="true" tabindex="-1"></a><span class="in">      html`&lt;div style="font: 700 0.9rem sans-serif; margin-bottom: 3px;"&gt;${title}&lt;/div&gt;`</span></span>
<span id="cb227-1989"><a href="#cb227-1989" aria-hidden="true" tabindex="-1"></a><span class="in">    );</span></span>
<span id="cb227-1990"><a href="#cb227-1990" aria-hidden="true" tabindex="-1"></a><span class="in">  if (description)</span></span>
<span id="cb227-1991"><a href="#cb227-1991" aria-hidden="true" tabindex="-1"></a><span class="in">    form.append(</span></span>
<span id="cb227-1992"><a href="#cb227-1992" aria-hidden="true" tabindex="-1"></a><span class="in">      html`&lt;div style="font-size: 0.85rem; font-style: italic; margin-top: 3px;"&gt;${description}&lt;/div&gt;`</span></span>
<span id="cb227-1993"><a href="#cb227-1993" aria-hidden="true" tabindex="-1"></a><span class="in">    );</span></span>
<span id="cb227-1994"><a href="#cb227-1994" aria-hidden="true" tabindex="-1"></a><span class="in">  if (format)</span></span>
<span id="cb227-1995"><a href="#cb227-1995" aria-hidden="true" tabindex="-1"></a><span class="in">    format = typeof format === "function" ? format : d3format.format(format);</span></span>
<span id="cb227-1996"><a href="#cb227-1996" aria-hidden="true" tabindex="-1"></a><span class="in">  if (action) {</span></span>
<span id="cb227-1997"><a href="#cb227-1997" aria-hidden="true" tabindex="-1"></a><span class="in">    action(form);</span></span>
<span id="cb227-1998"><a href="#cb227-1998" aria-hidden="true" tabindex="-1"></a><span class="in">  } else {</span></span>
<span id="cb227-1999"><a href="#cb227-1999" aria-hidden="true" tabindex="-1"></a><span class="in">    const verb = submit</span></span>
<span id="cb227-2000"><a href="#cb227-2000" aria-hidden="true" tabindex="-1"></a><span class="in">      ? "onsubmit"</span></span>
<span id="cb227-2001"><a href="#cb227-2001" aria-hidden="true" tabindex="-1"></a><span class="in">      : type == "button"</span></span>
<span id="cb227-2002"><a href="#cb227-2002" aria-hidden="true" tabindex="-1"></a><span class="in">      ? "onclick"</span></span>
<span id="cb227-2003"><a href="#cb227-2003" aria-hidden="true" tabindex="-1"></a><span class="in">      : type == "checkbox" || type == "radio"</span></span>
<span id="cb227-2004"><a href="#cb227-2004" aria-hidden="true" tabindex="-1"></a><span class="in">      ? "onchange"</span></span>
<span id="cb227-2005"><a href="#cb227-2005" aria-hidden="true" tabindex="-1"></a><span class="in">      : "oninput";</span></span>
<span id="cb227-2006"><a href="#cb227-2006" aria-hidden="true" tabindex="-1"></a><span class="in">    form[verb] = e =&gt; {</span></span>
<span id="cb227-2007"><a href="#cb227-2007" aria-hidden="true" tabindex="-1"></a><span class="in">      e &amp;&amp; e.preventDefault();</span></span>
<span id="cb227-2008"><a href="#cb227-2008" aria-hidden="true" tabindex="-1"></a><span class="in">      const value = getValue ? getValue(form.input) : form.input.value;</span></span>
<span id="cb227-2009"><a href="#cb227-2009" aria-hidden="true" tabindex="-1"></a><span class="in">      if (form.output) {</span></span>
<span id="cb227-2010"><a href="#cb227-2010" aria-hidden="true" tabindex="-1"></a><span class="in">        const out = display ? display(value) : format ? format(value) : value;</span></span>
<span id="cb227-2011"><a href="#cb227-2011" aria-hidden="true" tabindex="-1"></a><span class="in">        if (out instanceof window.Element) {</span></span>
<span id="cb227-2012"><a href="#cb227-2012" aria-hidden="true" tabindex="-1"></a><span class="in">          while (form.output.hasChildNodes()) {</span></span>
<span id="cb227-2013"><a href="#cb227-2013" aria-hidden="true" tabindex="-1"></a><span class="in">            form.output.removeChild(form.output.lastChild);</span></span>
<span id="cb227-2014"><a href="#cb227-2014" aria-hidden="true" tabindex="-1"></a><span class="in">          }</span></span>
<span id="cb227-2015"><a href="#cb227-2015" aria-hidden="true" tabindex="-1"></a><span class="in">          form.output.append(out);</span></span>
<span id="cb227-2016"><a href="#cb227-2016" aria-hidden="true" tabindex="-1"></a><span class="in">        } else {</span></span>
<span id="cb227-2017"><a href="#cb227-2017" aria-hidden="true" tabindex="-1"></a><span class="in">          form.output.value = out;</span></span>
<span id="cb227-2018"><a href="#cb227-2018" aria-hidden="true" tabindex="-1"></a><span class="in">        }</span></span>
<span id="cb227-2019"><a href="#cb227-2019" aria-hidden="true" tabindex="-1"></a><span class="in">      }</span></span>
<span id="cb227-2020"><a href="#cb227-2020" aria-hidden="true" tabindex="-1"></a><span class="in">      form.value = value;</span></span>
<span id="cb227-2021"><a href="#cb227-2021" aria-hidden="true" tabindex="-1"></a><span class="in">      if (verb !== "oninput")</span></span>
<span id="cb227-2022"><a href="#cb227-2022" aria-hidden="true" tabindex="-1"></a><span class="in">        form.dispatchEvent(new CustomEvent("input", { bubbles: true }));</span></span>
<span id="cb227-2023"><a href="#cb227-2023" aria-hidden="true" tabindex="-1"></a><span class="in">    };</span></span>
<span id="cb227-2024"><a href="#cb227-2024" aria-hidden="true" tabindex="-1"></a><span class="in">    if (verb !== "oninput")</span></span>
<span id="cb227-2025"><a href="#cb227-2025" aria-hidden="true" tabindex="-1"></a><span class="in">      wrapper.oninput = e =&gt; e &amp;&amp; e.stopPropagation() &amp;&amp; e.preventDefault();</span></span>
<span id="cb227-2026"><a href="#cb227-2026" aria-hidden="true" tabindex="-1"></a><span class="in">    if (verb !== "onsubmit") form.onsubmit = e =&gt; e &amp;&amp; e.preventDefault();</span></span>
<span id="cb227-2027"><a href="#cb227-2027" aria-hidden="true" tabindex="-1"></a><span class="in">    form[verb]();</span></span>
<span id="cb227-2028"><a href="#cb227-2028" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2029"><a href="#cb227-2029" aria-hidden="true" tabindex="-1"></a><span class="in">  while (form.childNodes.length) {</span></span>
<span id="cb227-2030"><a href="#cb227-2030" aria-hidden="true" tabindex="-1"></a><span class="in">    wrapper.appendChild(form.childNodes[0]);</span></span>
<span id="cb227-2031"><a href="#cb227-2031" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2032"><a href="#cb227-2032" aria-hidden="true" tabindex="-1"></a><span class="in">  form.append(wrapper);</span></span>
<span id="cb227-2033"><a href="#cb227-2033" aria-hidden="true" tabindex="-1"></a><span class="in">  return form;</span></span>
<span id="cb227-2034"><a href="#cb227-2034" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-2035"><a href="#cb227-2035" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2036"><a href="#cb227-2036" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2039"><a href="#cb227-2039" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2040"><a href="#cb227-2040" aria-hidden="true" tabindex="-1"></a><span class="in">d3format = require("d3-format@1")</span></span>
<span id="cb227-2041"><a href="#cb227-2041" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2042"><a href="#cb227-2042" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2045"><a href="#cb227-2045" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2046"><a href="#cb227-2046" aria-hidden="true" tabindex="-1"></a><span class="in">// https://talk.observablehq.com/t/legend-placement-options/8407/3</span></span>
<span id="cb227-2047"><a href="#cb227-2047" aria-hidden="true" tabindex="-1"></a><span class="in">move = {</span></span>
<span id="cb227-2048"><a href="#cb227-2048" aria-hidden="true" tabindex="-1"></a><span class="in">  d3.select(plot)</span></span>
<span id="cb227-2049"><a href="#cb227-2049" aria-hidden="true" tabindex="-1"></a><span class="in">    .select("div")</span></span>
<span id="cb227-2050"><a href="#cb227-2050" aria-hidden="true" tabindex="-1"></a><span class="in">    .raise() // Places swatch below the plot</span></span>
<span id="cb227-2051"><a href="#cb227-2051" aria-hidden="true" tabindex="-1"></a><span class="in">    .style("float", "right"); // Floats the swatch on the right.</span></span>
<span id="cb227-2052"><a href="#cb227-2052" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-2053"><a href="#cb227-2053" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2054"><a href="#cb227-2054" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2057"><a href="#cb227-2057" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2058"><a href="#cb227-2058" aria-hidden="true" tabindex="-1"></a><span class="in">// https://observablehq.com/@enjalot/draggable-world-map-coordinates-input</span></span>
<span id="cb227-2059"><a href="#cb227-2059" aria-hidden="true" tabindex="-1"></a><span class="in">function worldMapCoordinates(config = {}, dimensions) {</span></span>
<span id="cb227-2060"><a href="#cb227-2060" aria-hidden="true" tabindex="-1"></a><span class="in">  const {</span></span>
<span id="cb227-2061"><a href="#cb227-2061" aria-hidden="true" tabindex="-1"></a><span class="in">    value = [], title, description, width = dimensions[0]</span></span>
<span id="cb227-2062"><a href="#cb227-2062" aria-hidden="true" tabindex="-1"></a><span class="in">  } = Array.isArray(config) ? {value: config} : config;</span></span>
<span id="cb227-2063"><a href="#cb227-2063" aria-hidden="true" tabindex="-1"></a><span class="in">  const height = dimensions[1];</span></span>
<span id="cb227-2064"><a href="#cb227-2064" aria-hidden="true" tabindex="-1"></a><span class="in">  let [lon, lat] = value;</span></span>
<span id="cb227-2065"><a href="#cb227-2065" aria-hidden="true" tabindex="-1"></a><span class="in">  lon = lon != null ? lon : null;</span></span>
<span id="cb227-2066"><a href="#cb227-2066" aria-hidden="true" tabindex="-1"></a><span class="in">  lat = lat != null ? lat : null;</span></span>
<span id="cb227-2067"><a href="#cb227-2067" aria-hidden="true" tabindex="-1"></a><span class="in">  const formEl = html`&lt;form style="width: ${width}px;"&gt;&lt;/form&gt;`;</span></span>
<span id="cb227-2068"><a href="#cb227-2068" aria-hidden="true" tabindex="-1"></a><span class="in">  const context = DOM.context2d(width, height-width/11.5);</span></span>
<span id="cb227-2069"><a href="#cb227-2069" aria-hidden="true" tabindex="-1"></a><span class="in">  const canvas = context.canvas;</span></span>
<span id="cb227-2070"><a href="#cb227-2070" aria-hidden="true" tabindex="-1"></a><span class="in">  canvas.style.margin = `-6px 0 ${width &gt; 400 ? -86 : -24}px`;</span></span>
<span id="cb227-2071"><a href="#cb227-2071" aria-hidden="true" tabindex="-1"></a><span class="in">  const projection = d3</span></span>
<span id="cb227-2072"><a href="#cb227-2072" aria-hidden="true" tabindex="-1"></a><span class="in">    .geoEquirectangular()</span></span>
<span id="cb227-2073"><a href="#cb227-2073" aria-hidden="true" tabindex="-1"></a><span class="in">    .precision(0.1)</span></span>
<span id="cb227-2074"><a href="#cb227-2074" aria-hidden="true" tabindex="-1"></a><span class="in">    .fitSize([width, height], { type: "Sphere" }).rotate([-153, 0]);</span></span>
<span id="cb227-2075"><a href="#cb227-2075" aria-hidden="true" tabindex="-1"></a><span class="in">  const path = d3.geoPath(projection, context).pointRadius(2.5);</span></span>
<span id="cb227-2076"><a href="#cb227-2076" aria-hidden="true" tabindex="-1"></a><span class="in">  formEl.append(canvas);</span></span>
<span id="cb227-2077"><a href="#cb227-2077" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2078"><a href="#cb227-2078" aria-hidden="true" tabindex="-1"></a><span class="in">  function draw() {</span></span>
<span id="cb227-2079"><a href="#cb227-2079" aria-hidden="true" tabindex="-1"></a><span class="in">    context.fillStyle = "#fff";</span></span>
<span id="cb227-2080"><a href="#cb227-2080" aria-hidden="true" tabindex="-1"></a><span class="in">    context.fillRect(0, 0, width, height);</span></span>
<span id="cb227-2081"><a href="#cb227-2081" aria-hidden="true" tabindex="-1"></a><span class="in">    context.beginPath(); path({type: "Sphere"});</span></span>
<span id="cb227-2082"><a href="#cb227-2082" aria-hidden="true" tabindex="-1"></a><span class="in">    context.fillStyle = colors.ocean; context.fill();</span></span>
<span id="cb227-2083"><a href="#cb227-2083" aria-hidden="true" tabindex="-1"></a><span class="in">    context.beginPath();</span></span>
<span id="cb227-2084"><a href="#cb227-2084" aria-hidden="true" tabindex="-1"></a><span class="in">    path(graticule);</span></span>
<span id="cb227-2085"><a href="#cb227-2085" aria-hidden="true" tabindex="-1"></a><span class="in">    context.lineWidth = 0.95;</span></span>
<span id="cb227-2086"><a href="#cb227-2086" aria-hidden="true" tabindex="-1"></a><span class="in">    context.strokeStyle = `#aaa`;</span></span>
<span id="cb227-2087"><a href="#cb227-2087" aria-hidden="true" tabindex="-1"></a><span class="in">    context.stroke();</span></span>
<span id="cb227-2088"><a href="#cb227-2088" aria-hidden="true" tabindex="-1"></a><span class="in">    context.beginPath();</span></span>
<span id="cb227-2089"><a href="#cb227-2089" aria-hidden="true" tabindex="-1"></a><span class="in">    path(land);</span></span>
<span id="cb227-2090"><a href="#cb227-2090" aria-hidden="true" tabindex="-1"></a><span class="in">    context.fillStyle = colors.land;</span></span>
<span id="cb227-2091"><a href="#cb227-2091" aria-hidden="true" tabindex="-1"></a><span class="in">    context.fill();</span></span>
<span id="cb227-2092"><a href="#cb227-2092" aria-hidden="true" tabindex="-1"></a><span class="in">    context.beginPath();</span></span>
<span id="cb227-2093"><a href="#cb227-2093" aria-hidden="true" tabindex="-1"></a><span class="in">    path(countries);</span></span>
<span id="cb227-2094"><a href="#cb227-2094" aria-hidden="true" tabindex="-1"></a><span class="in">    context.lineWidth = .95;</span></span>
<span id="cb227-2095"><a href="#cb227-2095" aria-hidden="true" tabindex="-1"></a><span class="in">    context.strokeStyle = `#000`;</span></span>
<span id="cb227-2096"><a href="#cb227-2096" aria-hidden="true" tabindex="-1"></a><span class="in">    context.stroke();</span></span>
<span id="cb227-2097"><a href="#cb227-2097" aria-hidden="true" tabindex="-1"></a><span class="in">    context.fillStyle = `#000`;</span></span>
<span id="cb227-2098"><a href="#cb227-2098" aria-hidden="true" tabindex="-1"></a><span class="in">    context.font = width &lt; 760 ? "12px serif" : width &lt; 990 ? "11.6px serif" : "18px serif";</span></span>
<span id="cb227-2099"><a href="#cb227-2099" aria-hidden="true" tabindex="-1"></a><span class="in">    d3.range(-1.5, 342 + 1, 36).map(x =&gt;  context.fillText(long2zone(x), ...projection([x, 84.5 - (width &lt; 400) * 3.6])));</span></span>
<span id="cb227-2100"><a href="#cb227-2100" aria-hidden="true" tabindex="-1"></a><span class="in">    d3.range(-1.5, 342 + 1, 36).map(x =&gt;  context.fillText(long2zone(x), ...projection([x, -62])));</span></span>
<span id="cb227-2101"><a href="#cb227-2101" aria-hidden="true" tabindex="-1"></a><span class="in">    context.beginPath(), path(night), context.fillStyle = "rgba(0,0,255,0.1)", context.fill();</span></span>
<span id="cb227-2102"><a href="#cb227-2102" aria-hidden="true" tabindex="-1"></a><span class="in">    context.beginPath(); path.pointRadius(17); path({type: "Point", coordinates: sun}); context.strokeStyle = "#0008"; context.fillStyle = "#ff0a"; context.lineWidth = 1; context.stroke(); context.fill();</span></span>
<span id="cb227-2103"><a href="#cb227-2103" aria-hidden="true" tabindex="-1"></a><span class="in">    if (lon != null &amp;&amp; lat != null) {</span></span>
<span id="cb227-2104"><a href="#cb227-2104" aria-hidden="true" tabindex="-1"></a><span class="in">      path.pointRadius(17); context.strokeStyle = "black";</span></span>
<span id="cb227-2105"><a href="#cb227-2105" aria-hidden="true" tabindex="-1"></a><span class="in">      context.beginPath(); path({type: "Point", coordinates: [lon, lat]}); context.lineWidth = 1; context.stroke();</span></span>
<span id="cb227-2106"><a href="#cb227-2106" aria-hidden="true" tabindex="-1"></a><span class="in">      context.lineWidth = 6; </span></span>
<span id="cb227-2107"><a href="#cb227-2107" aria-hidden="true" tabindex="-1"></a><span class="in">      path.pointRadius(14); context.strokeStyle = "red";</span></span>
<span id="cb227-2108"><a href="#cb227-2108" aria-hidden="true" tabindex="-1"></a><span class="in">      context.beginPath(); path({type: "Point", coordinates: [lon, lat]}); context.stroke();</span></span>
<span id="cb227-2109"><a href="#cb227-2109" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb227-2110"><a href="#cb227-2110" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2111"><a href="#cb227-2111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2112"><a href="#cb227-2112" aria-hidden="true" tabindex="-1"></a><span class="in">  let drag = d3.drag()</span></span>
<span id="cb227-2113"><a href="#cb227-2113" aria-hidden="true" tabindex="-1"></a><span class="in">    .on("drag", (event) =&gt; {</span></span>
<span id="cb227-2114"><a href="#cb227-2114" aria-hidden="true" tabindex="-1"></a><span class="in">      let coords = projection.invert([event.x, event.y]);</span></span>
<span id="cb227-2115"><a href="#cb227-2115" aria-hidden="true" tabindex="-1"></a><span class="in">      lon = +coords[0].toFixed(2);</span></span>
<span id="cb227-2116"><a href="#cb227-2116" aria-hidden="true" tabindex="-1"></a><span class="in">      lat = +coords[1].toFixed(2);</span></span>
<span id="cb227-2117"><a href="#cb227-2117" aria-hidden="true" tabindex="-1"></a><span class="in">      draw();</span></span>
<span id="cb227-2118"><a href="#cb227-2118" aria-hidden="true" tabindex="-1"></a><span class="in">      canvas.dispatchEvent(new CustomEvent("input", { bubbles: true }));</span></span>
<span id="cb227-2119"><a href="#cb227-2119" aria-hidden="true" tabindex="-1"></a><span class="in">    })</span></span>
<span id="cb227-2120"><a href="#cb227-2120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2121"><a href="#cb227-2121" aria-hidden="true" tabindex="-1"></a><span class="in">  d3.select(canvas).call(drag)</span></span>
<span id="cb227-2122"><a href="#cb227-2122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2123"><a href="#cb227-2123" aria-hidden="true" tabindex="-1"></a><span class="in">  canvas.onclick = function(ev) {</span></span>
<span id="cb227-2124"><a href="#cb227-2124" aria-hidden="true" tabindex="-1"></a><span class="in">    const { offsetX, offsetY } = ev;</span></span>
<span id="cb227-2125"><a href="#cb227-2125" aria-hidden="true" tabindex="-1"></a><span class="in">    let coords = projection.invert([offsetX, offsetY]);</span></span>
<span id="cb227-2126"><a href="#cb227-2126" aria-hidden="true" tabindex="-1"></a><span class="in">    lon = +coords[0].toFixed(2);</span></span>
<span id="cb227-2127"><a href="#cb227-2127" aria-hidden="true" tabindex="-1"></a><span class="in">    lat = +coords[1].toFixed(2);</span></span>
<span id="cb227-2128"><a href="#cb227-2128" aria-hidden="true" tabindex="-1"></a><span class="in">    draw();</span></span>
<span id="cb227-2129"><a href="#cb227-2129" aria-hidden="true" tabindex="-1"></a><span class="in">    canvas.dispatchEvent(new CustomEvent("input", { bubbles: true }));</span></span>
<span id="cb227-2130"><a href="#cb227-2130" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb227-2131"><a href="#cb227-2131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2132"><a href="#cb227-2132" aria-hidden="true" tabindex="-1"></a><span class="in">  draw();</span></span>
<span id="cb227-2133"><a href="#cb227-2133" aria-hidden="true" tabindex="-1"></a><span class="in">  const form = input({</span></span>
<span id="cb227-2134"><a href="#cb227-2134" aria-hidden="true" tabindex="-1"></a><span class="in">    type: "worldMapCoordinates",</span></span>
<span id="cb227-2135"><a href="#cb227-2135" aria-hidden="true" tabindex="-1"></a><span class="in">    title,</span></span>
<span id="cb227-2136"><a href="#cb227-2136" aria-hidden="true" tabindex="-1"></a><span class="in">    description,</span></span>
<span id="cb227-2137"><a href="#cb227-2137" aria-hidden="true" tabindex="-1"></a><span class="in">    display: v =&gt; (width &gt; 400) ? html`&lt;div style="width: ${width}px; white-space: nowrap; color: #444; text-align: center; font: 18px monospace; position: relative; top: 58px; margin-bottom: 48px;"&gt;</span></span>
<span id="cb227-2138"><a href="#cb227-2138" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;span style="color: #000;"&gt;Zone:&lt;/span&gt; ${lon != null ? long2zone(lon) : ""}</span></span>
<span id="cb227-2139"><a href="#cb227-2139" aria-hidden="true" tabindex="-1"></a><span class="in">        &amp;nbsp; &amp;nbsp; </span></span>
<span id="cb227-2140"><a href="#cb227-2140" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;span style="color: #000;"&gt;Longitude:&lt;/span&gt; ${lon != null ? (long2turn(lon)).toFixed(0) : ""}</span></span>
<span id="cb227-2141"><a href="#cb227-2141" aria-hidden="true" tabindex="-1"></a><span class="in">        &amp;nbsp; &amp;nbsp; </span></span>
<span id="cb227-2142"><a href="#cb227-2142" aria-hidden="true" tabindex="-1"></a><span class="in">        &lt;span style="color: #000;"&gt;Latitude:&lt;/span&gt; ${lat != null ? ((lati2turn1(lat))).toFixed(0) : ""} </span></span>
<span id="cb227-2143"><a href="#cb227-2143" aria-hidden="true" tabindex="-1"></a><span class="in">      &lt;/div&gt;` : '',</span></span>
<span id="cb227-2144"><a href="#cb227-2144" aria-hidden="true" tabindex="-1"></a><span class="in">    getValue: () =&gt; [lon != null ? lon : null, lat != null ? lat : null],</span></span>
<span id="cb227-2145"><a href="#cb227-2145" aria-hidden="true" tabindex="-1"></a><span class="in">    form: formEl</span></span>
<span id="cb227-2146"><a href="#cb227-2146" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb227-2147"><a href="#cb227-2147" aria-hidden="true" tabindex="-1"></a><span class="in">  return form;</span></span>
<span id="cb227-2148"><a href="#cb227-2148" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-2149"><a href="#cb227-2149" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2150"><a href="#cb227-2150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2153"><a href="#cb227-2153" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2154"><a href="#cb227-2154" aria-hidden="true" tabindex="-1"></a><span class="in">html`&lt;style&gt;</span></span>
<span id="cb227-2155"><a href="#cb227-2155" aria-hidden="true" tabindex="-1"></a><span class="in">  div.observablehq:has(&gt; svg#barClock) {</span></span>
<span id="cb227-2156"><a href="#cb227-2156" aria-hidden="true" tabindex="-1"></a><span class="in">    text-align: center;</span></span>
<span id="cb227-2157"><a href="#cb227-2157" aria-hidden="true" tabindex="-1"></a><span class="in">    margin-top: -12px;</span></span>
<span id="cb227-2158"><a href="#cb227-2158" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2159"><a href="#cb227-2159" aria-hidden="true" tabindex="-1"></a><span class="in">  div.observablehq:has(&gt; svg#clock) {</span></span>
<span id="cb227-2160"><a href="#cb227-2160" aria-hidden="true" tabindex="-1"></a><span class="in">    text-align: center;</span></span>
<span id="cb227-2161"><a href="#cb227-2161" aria-hidden="true" tabindex="-1"></a><span class="in">    margin-top: -46px;</span></span>
<span id="cb227-2162"><a href="#cb227-2162" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2163"><a href="#cb227-2163" aria-hidden="true" tabindex="-1"></a><span class="in">  body &gt; div &gt; div:nth-child(6) &gt; form {</span></span>
<span id="cb227-2164"><a href="#cb227-2164" aria-hidden="true" tabindex="-1"></a><span class="in">    margin-top: -60px;</span></span>
<span id="cb227-2165"><a href="#cb227-2165" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2166"><a href="#cb227-2166" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;`</span></span>
<span id="cb227-2167"><a href="#cb227-2167" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2168"><a href="#cb227-2168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2171"><a href="#cb227-2171" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2172"><a href="#cb227-2172" aria-hidden="true" tabindex="-1"></a><span class="in">function dote({ year = 0, day = 0, month = 3, dotm = 1, week = 0, dotw = 3,</span></span>
<span id="cb227-2173"><a href="#cb227-2173" aria-hidden="true" tabindex="-1"></a><span class="in">                hour = 0, minute = 0, second = 0, millisecond = 0,</span></span>
<span id="cb227-2174"><a href="#cb227-2174" aria-hidden="true" tabindex="-1"></a><span class="in">                zone = 0, utc = -9, degree = -162 } = {}) {</span></span>
<span id="cb227-2175"><a href="#cb227-2175" aria-hidden="true" tabindex="-1"></a><span class="in">  const cycle = Math.floor((year &gt;= 0 ? year : year - 399) / 400),</span></span>
<span id="cb227-2176"><a href="#cb227-2176" aria-hidden="true" tabindex="-1"></a><span class="in">    yote = year - cycle * 400;</span></span>
<span id="cb227-2177"><a href="#cb227-2177" aria-hidden="true" tabindex="-1"></a><span class="in">  return (</span></span>
<span id="cb227-2178"><a href="#cb227-2178" aria-hidden="true" tabindex="-1"></a><span class="in">    yote * 365 + cycle * 146097 + Math.floor(yote / 4) - Math.floor(yote / 100)</span></span>
<span id="cb227-2179"><a href="#cb227-2179" aria-hidden="true" tabindex="-1"></a><span class="in">    + day + Math.floor((153 * (month &gt; 2 ? month - 3 : month + 9) + 2) / 5) + dotm - 1</span></span>
<span id="cb227-2180"><a href="#cb227-2180" aria-hidden="true" tabindex="-1"></a><span class="in">    + week * 7 + dotw - 3 + (hour + minute / 60 + second / 3600 + millisecond / 3600000)</span></span>
<span id="cb227-2181"><a href="#cb227-2181" aria-hidden="true" tabindex="-1"></a><span class="in">    / 24 - (zone + Math.floor(utc / 2.4) + 4 + Math.floor((degree + 162) / 36)) / 10</span></span>
<span id="cb227-2182"><a href="#cb227-2182" aria-hidden="true" tabindex="-1"></a><span class="in">  );</span></span>
<span id="cb227-2183"><a href="#cb227-2183" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-2184"><a href="#cb227-2184" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2185"><a href="#cb227-2185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2188"><a href="#cb227-2188" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2189"><a href="#cb227-2189" aria-hidden="true" tabindex="-1"></a><span class="in">function doty(args) {</span></span>
<span id="cb227-2190"><a href="#cb227-2190" aria-hidden="true" tabindex="-1"></a><span class="in">    const days = dote(args),</span></span>
<span id="cb227-2191"><a href="#cb227-2191" aria-hidden="true" tabindex="-1"></a><span class="in">      cycle = Math.floor((days &gt;= 0 ? days : days - 146096) / 146097),</span></span>
<span id="cb227-2192"><a href="#cb227-2192" aria-hidden="true" tabindex="-1"></a><span class="in">      dotc = days - cycle * 146097,</span></span>
<span id="cb227-2193"><a href="#cb227-2193" aria-hidden="true" tabindex="-1"></a><span class="in">      yotc = Math.floor((dotc - Math.floor(dotc / 1460)</span></span>
<span id="cb227-2194"><a href="#cb227-2194" aria-hidden="true" tabindex="-1"></a><span class="in">        + Math.floor(dotc / 36524) - Math.floor(dotc / 146096)) / 365);</span></span>
<span id="cb227-2195"><a href="#cb227-2195" aria-hidden="true" tabindex="-1"></a><span class="in">    return [yotc + cycle * 400,</span></span>
<span id="cb227-2196"><a href="#cb227-2196" aria-hidden="true" tabindex="-1"></a><span class="in">            dotc + Math.floor(yotc / 100) - yotc * 365 - Math.floor(yotc / 4)];</span></span>
<span id="cb227-2197"><a href="#cb227-2197" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-2198"><a href="#cb227-2198" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2199"><a href="#cb227-2199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2202"><a href="#cb227-2202" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2203"><a href="#cb227-2203" aria-hidden="true" tabindex="-1"></a><span class="in">function year(args) {</span></span>
<span id="cb227-2204"><a href="#cb227-2204" aria-hidden="true" tabindex="-1"></a><span class="in">    const days = dote(args),</span></span>
<span id="cb227-2205"><a href="#cb227-2205" aria-hidden="true" tabindex="-1"></a><span class="in">      cycle = Math.floor((days &gt;= 0 ? days : days - 146096) / 146097),</span></span>
<span id="cb227-2206"><a href="#cb227-2206" aria-hidden="true" tabindex="-1"></a><span class="in">      dotc = days - cycle * 146097;</span></span>
<span id="cb227-2207"><a href="#cb227-2207" aria-hidden="true" tabindex="-1"></a><span class="in">    return (</span></span>
<span id="cb227-2208"><a href="#cb227-2208" aria-hidden="true" tabindex="-1"></a><span class="in">        dotc - Math.floor(dotc / 1460) + Math.floor(dotc / 36524)</span></span>
<span id="cb227-2209"><a href="#cb227-2209" aria-hidden="true" tabindex="-1"></a><span class="in">        - Math.floor(dotc / 146096)) / 365 + cycle * 400;</span></span>
<span id="cb227-2210"><a href="#cb227-2210" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-2211"><a href="#cb227-2211" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2212"><a href="#cb227-2212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2215"><a href="#cb227-2215" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2216"><a href="#cb227-2216" aria-hidden="true" tabindex="-1"></a><span class="in">function leap(year = 1970) {</span></span>
<span id="cb227-2217"><a href="#cb227-2217" aria-hidden="true" tabindex="-1"></a><span class="in">    return year % 4 == 0 &amp;&amp; year % 100 != 0 || year % 400 == 0;</span></span>
<span id="cb227-2218"><a href="#cb227-2218" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-2219"><a href="#cb227-2219" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2220"><a href="#cb227-2220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2223"><a href="#cb227-2223" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2224"><a href="#cb227-2224" aria-hidden="true" tabindex="-1"></a><span class="in">function deco(args, {lead = "0", minus = false, emoji = false} = {}) {</span></span>
<span id="cb227-2225"><a href="#cb227-2225" aria-hidden="true" tabindex="-1"></a><span class="in">  let zone = args.zone, utc = args.utc, degree = args.degree;</span></span>
<span id="cb227-2226"><a href="#cb227-2226" aria-hidden="true" tabindex="-1"></a><span class="in">  args.zone = 0; args.utc = -9; args.degree = -162;</span></span>
<span id="cb227-2227"><a href="#cb227-2227" aria-hidden="true" tabindex="-1"></a><span class="in">  zone = zone ?? 0 + Math.floor((utc ?? -9) / 2.4) + 4 + Math.floor(</span></span>
<span id="cb227-2228"><a href="#cb227-2228" aria-hidden="true" tabindex="-1"></a><span class="in">    ((degree ?? -162) + 162) / 36);</span></span>
<span id="cb227-2229"><a href="#cb227-2229" aria-hidden="true" tabindex="-1"></a><span class="in">  let [year, days] = doty(args);</span></span>
<span id="cb227-2230"><a href="#cb227-2230" aria-hidden="true" tabindex="-1"></a><span class="in">  return `${emoji ? "🗓️" : ""}${</span></span>
<span id="cb227-2231"><a href="#cb227-2231" aria-hidden="true" tabindex="-1"></a><span class="in">  (year + minus).toString().padStart(4, lead)}${minus ? "-" : "+"}${</span></span>
<span id="cb227-2232"><a href="#cb227-2232" aria-hidden="true" tabindex="-1"></a><span class="in">  Math.abs(Math.floor(days = days - (365 + leap(year + 1)) * minus)</span></span>
<span id="cb227-2233"><a href="#cb227-2233" aria-hidden="true" tabindex="-1"></a><span class="in">  ).toString().padStart(3, lead)}${emoji ? "🕰️" : ""}️${</span></span>
<span id="cb227-2234"><a href="#cb227-2234" aria-hidden="true" tabindex="-1"></a><span class="in">  Math.abs(days % 1 * 10).toFixed(4)}${zone ? (minus ? "+" : "-") + String(zone) : ""}`</span></span>
<span id="cb227-2235"><a href="#cb227-2235" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb227-2236"><a href="#cb227-2236" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2237"><a href="#cb227-2237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2240"><a href="#cb227-2240" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2241"><a href="#cb227-2241" aria-hidden="true" tabindex="-1"></a><span class="in">currentDeco = deco({day: 719468, millisecond: unix, zone: long2zone(coordinates[0])})</span></span>
<span id="cb227-2242"><a href="#cb227-2242" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2243"><a href="#cb227-2243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2246"><a href="#cb227-2246" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2247"><a href="#cb227-2247" aria-hidden="true" tabindex="-1"></a><span class="in">currentDoty = currentDeco.slice(5)</span></span>
<span id="cb227-2248"><a href="#cb227-2248" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2249"><a href="#cb227-2249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2252"><a href="#cb227-2252" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2253"><a href="#cb227-2253" aria-hidden="true" tabindex="-1"></a><span class="in">dotyDate = currentDoty.slice(0, 3)</span></span>
<span id="cb227-2254"><a href="#cb227-2254" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2255"><a href="#cb227-2255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2258"><a href="#cb227-2258" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2259"><a href="#cb227-2259" aria-hidden="true" tabindex="-1"></a><span class="in">dotyDek = currentDoty.slice(0, 2)</span></span>
<span id="cb227-2260"><a href="#cb227-2260" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2261"><a href="#cb227-2261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2264"><a href="#cb227-2264" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2265"><a href="#cb227-2265" aria-hidden="true" tabindex="-1"></a><span class="in">dotyDotd = currentDoty[2]</span></span>
<span id="cb227-2266"><a href="#cb227-2266" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2267"><a href="#cb227-2267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2270"><a href="#cb227-2270" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2271"><a href="#cb227-2271" aria-hidden="true" tabindex="-1"></a><span class="in">barTime = (unix2dote(unix, long2zone(coordinates[0]))[0]).toString().split(".")[1].slice(0, 8)</span></span>
<span id="cb227-2272"><a href="#cb227-2272" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2273"><a href="#cb227-2273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2276"><a href="#cb227-2276" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2277"><a href="#cb227-2277" aria-hidden="true" tabindex="-1"></a><span class="in">barCents = barTime.slice(0, 2)</span></span>
<span id="cb227-2278"><a href="#cb227-2278" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2279"><a href="#cb227-2279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2282"><a href="#cb227-2282" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2283"><a href="#cb227-2283" aria-hidden="true" tabindex="-1"></a><span class="in">barDD = barTime[0]</span></span>
<span id="cb227-2284"><a href="#cb227-2284" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2285"><a href="#cb227-2285" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2288"><a href="#cb227-2288" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2289"><a href="#cb227-2289" aria-hidden="true" tabindex="-1"></a><span class="in">barMils = barTime.slice(1, 3)</span></span>
<span id="cb227-2290"><a href="#cb227-2290" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2291"><a href="#cb227-2291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2294"><a href="#cb227-2294" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2295"><a href="#cb227-2295" aria-hidden="true" tabindex="-1"></a><span class="in">barBeats = barTime.slice(3, 5)</span></span>
<span id="cb227-2296"><a href="#cb227-2296" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2297"><a href="#cb227-2297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2300"><a href="#cb227-2300" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2301"><a href="#cb227-2301" aria-hidden="true" tabindex="-1"></a><span class="in">barMb = barTime.slice(5)</span></span>
<span id="cb227-2302"><a href="#cb227-2302" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb227-2303"><a href="#cb227-2303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-2306"><a href="#cb227-2306" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb227-2307"><a href="#cb227-2307" aria-hidden="true" tabindex="-1"></a><span class="in">html`&lt;style&gt;</span></span>
<span id="cb227-2308"><a href="#cb227-2308" aria-hidden="true" tabindex="-1"></a><span class="in">  .tickLabel, .tickLabel1, .tickLabel2, .timeLabel {</span></span>
<span id="cb227-2309"><a href="#cb227-2309" aria-hidden="true" tabindex="-1"></a><span class="in">    fill: #000;</span></span>
<span id="cb227-2310"><a href="#cb227-2310" aria-hidden="true" tabindex="-1"></a><span class="in">    font-family: sans-serif;</span></span>
<span id="cb227-2311"><a href="#cb227-2311" aria-hidden="true" tabindex="-1"></a><span class="in">    font-size: 20px;</span></span>
<span id="cb227-2312"><a href="#cb227-2312" aria-hidden="true" tabindex="-1"></a><span class="in">    text-anchor: middle;</span></span>
<span id="cb227-2313"><a href="#cb227-2313" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2314"><a href="#cb227-2314" aria-hidden="true" tabindex="-1"></a><span class="in">  .timeLabel {</span></span>
<span id="cb227-2315"><a href="#cb227-2315" aria-hidden="true" tabindex="-1"></a><span class="in">    text-anchor: start;</span></span>
<span id="cb227-2316"><a href="#cb227-2316" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2317"><a href="#cb227-2317" aria-hidden="true" tabindex="-1"></a><span class="in">  .timeBar, .timeBarFull {</span></span>
<span id="cb227-2318"><a href="#cb227-2318" aria-hidden="true" tabindex="-1"></a><span class="in">    x: 1px;</span></span>
<span id="cb227-2319"><a href="#cb227-2319" aria-hidden="true" tabindex="-1"></a><span class="in">    height: 25px;</span></span>
<span id="cb227-2320"><a href="#cb227-2320" aria-hidden="true" tabindex="-1"></a><span class="in">    rx: 5px;</span></span>
<span id="cb227-2321"><a href="#cb227-2321" aria-hidden="true" tabindex="-1"></a><span class="in">    stroke: #aaa;</span></span>
<span id="cb227-2322"><a href="#cb227-2322" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2323"><a href="#cb227-2323" aria-hidden="true" tabindex="-1"></a><span class="in">  .timeBar {</span></span>
<span id="cb227-2324"><a href="#cb227-2324" aria-hidden="true" tabindex="-1"></a><span class="in">    fill: #e8e8e8;</span></span>
<span id="cb227-2325"><a href="#cb227-2325" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2326"><a href="#cb227-2326" aria-hidden="true" tabindex="-1"></a><span class="in">  .timeBarFull {</span></span>
<span id="cb227-2327"><a href="#cb227-2327" aria-hidden="true" tabindex="-1"></a><span class="in">    fill: #ccffff;</span></span>
<span id="cb227-2328"><a href="#cb227-2328" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2329"><a href="#cb227-2329" aria-hidden="true" tabindex="-1"></a><span class="in">  .background {</span></span>
<span id="cb227-2330"><a href="#cb227-2330" aria-hidden="true" tabindex="-1"></a><span class="in">    fill: white;</span></span>
<span id="cb227-2331"><a href="#cb227-2331" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2332"><a href="#cb227-2332" aria-hidden="true" tabindex="-1"></a><span class="in">  .tickDek, .tickDotd, .tickDotd1, .tickC, .tickC1, .tickM, .tickM1, .tickB, .tickB1 {</span></span>
<span id="cb227-2333"><a href="#cb227-2333" aria-hidden="true" tabindex="-1"></a><span class="in">    stroke: none;</span></span>
<span id="cb227-2334"><a href="#cb227-2334" aria-hidden="true" tabindex="-1"></a><span class="in">    fill: #666;</span></span>
<span id="cb227-2335"><a href="#cb227-2335" aria-hidden="true" tabindex="-1"></a><span class="in">    width: 1px;</span></span>
<span id="cb227-2336"><a href="#cb227-2336" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb227-2337"><a href="#cb227-2337" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/style&gt;`</span></span>
<span id="cb227-2338"><a href="#cb227-2338" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024, Martin Laptev</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions"><ul><li><a href="https://github.com/maptv/maptv.github.io/blob/main/blog/dec/loc/loc.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/maptv" target="_blank">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/maptv" target="_blank">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link active" href="mailto:maptv@engineer.com" aria-current="page">
      <i class="bi bi-envelope-at" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>